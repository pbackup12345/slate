{"version":3,"file":"index.es.js","sources":["../../../node_modules/rollup-plugin-node-globals/src/global.js","../../../node_modules/process-es6/browser.js","../../../node_modules/immer/dist/immer.module.js","../../../node_modules/esrever/esrever.js","../../slate/lib/index.es.js","../src/hooks/use-editor.ts","../src/hooks/use-focused.ts","../src/hooks/use-read-only.ts","../../../node_modules/@babel/runtime/helpers/arrayWithHoles.js","../../../node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","../../../node_modules/@babel/runtime/helpers/nonIterableRest.js","../../../node_modules/@babel/runtime/helpers/slicedToArray.js","../src/utils/dom.ts","../src/utils/environment.ts","../src/utils/hotkeys.ts","../src/utils/utils.ts","../src/utils/weak-maps.ts","../src/components/string.tsx","../src/components/custom.tsx","../../../node_modules/@babel/runtime/helpers/arrayWithoutHoles.js","../../../node_modules/@babel/runtime/helpers/iterableToArray.js","../../../node_modules/@babel/runtime/helpers/nonIterableSpread.js","../../../node_modules/@babel/runtime/helpers/toConsumableArray.js","../../../node_modules/@babel/runtime/helpers/defineProperty.js","../src/utils/leaf.ts","../src/components/leaf.tsx","../src/components/text.tsx","../src/hooks/use-selected.ts","../src/components/element.tsx","../src/components/children.tsx","../src/components/editor.tsx","../src/hooks/use-slate.ts","../../../node_modules/@babel/runtime/helpers/classCallCheck.js","../../../node_modules/@babel/runtime/helpers/createClass.js","../../../node_modules/@babel/runtime/helpers/typeof.js","../../../node_modules/@babel/runtime/helpers/assertThisInitialized.js","../../../node_modules/@babel/runtime/helpers/possibleConstructorReturn.js","../../../node_modules/@babel/runtime/helpers/getPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/superPropBase.js","../../../node_modules/@babel/runtime/helpers/get.js","../../../node_modules/@babel/runtime/helpers/setPrototypeOf.js","../../../node_modules/@babel/runtime/helpers/inherits.js","../src/utils/key.ts","../src/plugin.ts"],"sourcesContent":["export default (typeof global !== \"undefined\" ? global :\n            typeof self !== \"undefined\" ? self :\n            typeof window !== \"undefined\" ? window : {});\n","// shim for using process in browser\n// based off https://github.com/defunctzombie/node-process/blob/master/browser.js\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\nvar cachedSetTimeout = defaultSetTimout;\nvar cachedClearTimeout = defaultClearTimeout;\nif (typeof global.setTimeout === 'function') {\n    cachedSetTimeout = setTimeout;\n}\nif (typeof global.clearTimeout === 'function') {\n    cachedClearTimeout = clearTimeout;\n}\n\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\nexport function nextTick(fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n}\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nexport var title = 'browser';\nexport var platform = 'browser';\nexport var browser = true;\nexport var env = {};\nexport var argv = [];\nexport var version = ''; // empty string to avoid regexp issues\nexport var versions = {};\nexport var release = {};\nexport var config = {};\n\nfunction noop() {}\n\nexport var on = noop;\nexport var addListener = noop;\nexport var once = noop;\nexport var off = noop;\nexport var removeListener = noop;\nexport var removeAllListeners = noop;\nexport var emit = noop;\n\nexport function binding(name) {\n    throw new Error('process.binding is not supported');\n}\n\nexport function cwd () { return '/' }\nexport function chdir (dir) {\n    throw new Error('process.chdir is not supported');\n};\nexport function umask() { return 0; }\n\n// from https://github.com/kumavis/browser-process-hrtime/blob/master/index.js\nvar performance = global.performance || {}\nvar performanceNow =\n  performance.now        ||\n  performance.mozNow     ||\n  performance.msNow      ||\n  performance.oNow       ||\n  performance.webkitNow  ||\n  function(){ return (new Date()).getTime() }\n\n// generate timestamp or delta\n// see http://nodejs.org/api/process.html#process_process_hrtime\nexport function hrtime(previousTimestamp){\n  var clocktime = performanceNow.call(performance)*1e-3\n  var seconds = Math.floor(clocktime)\n  var nanoseconds = Math.floor((clocktime%1)*1e9)\n  if (previousTimestamp) {\n    seconds = seconds - previousTimestamp[0]\n    nanoseconds = nanoseconds - previousTimestamp[1]\n    if (nanoseconds<0) {\n      seconds--\n      nanoseconds += 1e9\n    }\n  }\n  return [seconds,nanoseconds]\n}\n\nvar startTime = new Date();\nexport function uptime() {\n  var currentTime = new Date();\n  var dif = currentTime - startTime;\n  return dif / 1000;\n}\n\nexport default {\n  nextTick: nextTick,\n  title: title,\n  browser: browser,\n  env: env,\n  argv: argv,\n  version: version,\n  versions: versions,\n  on: on,\n  addListener: addListener,\n  once: once,\n  off: off,\n  removeListener: removeListener,\n  removeAllListeners: removeAllListeners,\n  emit: emit,\n  binding: binding,\n  cwd: cwd,\n  chdir: chdir,\n  umask: umask,\n  hrtime: hrtime,\n  platform: platform,\n  release: release,\n  config: config,\n  uptime: uptime\n};\n","var obj;\nvar NOTHING = typeof Symbol !== \"undefined\" ? Symbol(\"immer-nothing\") : ( obj = {}, obj[\"immer-nothing\"] = true, obj );\nvar DRAFTABLE = typeof Symbol !== \"undefined\" && Symbol.for ? Symbol.for(\"immer-draftable\") : \"__$immer_draftable\";\nvar DRAFT_STATE = typeof Symbol !== \"undefined\" && Symbol.for ? Symbol.for(\"immer-state\") : \"__$immer_state\";\nfunction isDraft(value) {\n  return !!value && !!value[DRAFT_STATE];\n}\nfunction isDraftable(value) {\n  if (!value) { return false; }\n  return isPlainObject(value) || !!value[DRAFTABLE] || !!value.constructor[DRAFTABLE];\n}\nfunction isPlainObject(value) {\n  if (!value || typeof value !== \"object\") { return false; }\n  if (Array.isArray(value)) { return true; }\n  var proto = Object.getPrototypeOf(value);\n  return !proto || proto === Object.prototype;\n}\nfunction original(value) {\n  if (value && value[DRAFT_STATE]) {\n    return value[DRAFT_STATE].base;\n  } // otherwise return undefined\n\n}\nvar assign = Object.assign || function assign(target, value) {\n  for (var key in value) {\n    if (has(value, key)) {\n      target[key] = value[key];\n    }\n  }\n\n  return target;\n};\nvar ownKeys = typeof Reflect !== \"undefined\" && Reflect.ownKeys ? Reflect.ownKeys : typeof Object.getOwnPropertySymbols !== \"undefined\" ? function (obj) { return Object.getOwnPropertyNames(obj).concat(Object.getOwnPropertySymbols(obj)); } : Object.getOwnPropertyNames;\nfunction shallowCopy(base, invokeGetters) {\n  if ( invokeGetters === void 0 ) invokeGetters = false;\n\n  if (Array.isArray(base)) { return base.slice(); }\n  var clone = Object.create(Object.getPrototypeOf(base));\n  ownKeys(base).forEach(function (key) {\n    if (key === DRAFT_STATE) {\n      return; // Never copy over draft state.\n    }\n\n    var desc = Object.getOwnPropertyDescriptor(base, key);\n    var value = desc.value;\n\n    if (desc.get) {\n      if (!invokeGetters) {\n        throw new Error(\"Immer drafts cannot have computed properties\");\n      }\n\n      value = desc.get.call(base);\n    }\n\n    if (desc.enumerable) {\n      clone[key] = value;\n    } else {\n      Object.defineProperty(clone, key, {\n        value: value,\n        writable: true,\n        configurable: true\n      });\n    }\n  });\n  return clone;\n}\nfunction each(value, cb) {\n  if (Array.isArray(value)) {\n    for (var i = 0; i < value.length; i++) { cb(i, value[i], value); }\n  } else {\n    ownKeys(value).forEach(function (key) { return cb(key, value[key], value); });\n  }\n}\nfunction isEnumerable(base, prop) {\n  var desc = Object.getOwnPropertyDescriptor(base, prop);\n  return !!desc && desc.enumerable;\n}\nfunction has(thing, prop) {\n  return Object.prototype.hasOwnProperty.call(thing, prop);\n}\nfunction is(x, y) {\n  // From: https://github.com/facebook/fbjs/blob/c69904a511b900266935168223063dd8772dfc40/packages/fbjs/src/core/shallowEqual.js\n  if (x === y) {\n    return x !== 0 || 1 / x === 1 / y;\n  } else {\n    return x !== x && y !== y;\n  }\n}\nfunction clone(obj) {\n  if (!isDraftable(obj)) { return obj; }\n  if (Array.isArray(obj)) { return obj.map(clone); }\n  var cloned = Object.create(Object.getPrototypeOf(obj));\n\n  for (var key in obj) { cloned[key] = clone(obj[key]); }\n\n  return cloned;\n}\nfunction deepFreeze(obj) {\n  if (!isDraftable(obj) || isDraft(obj) || Object.isFrozen(obj)) { return; }\n  Object.freeze(obj);\n  if (Array.isArray(obj)) { obj.forEach(deepFreeze); }else { for (var key in obj) { deepFreeze(obj[key]); } }\n}\n\n/** Each scope represents a `produce` call. */\n\nvar ImmerScope = function ImmerScope(parent) {\n  this.drafts = [];\n  this.parent = parent; // Whenever the modified draft contains a draft from another scope, we\n  // need to prevent auto-freezing so the unowned draft can be finalized.\n\n  this.canAutoFreeze = true; // To avoid prototype lookups:\n\n  this.patches = null;\n};\n\nImmerScope.prototype.usePatches = function usePatches (patchListener) {\n  if (patchListener) {\n    this.patches = [];\n    this.inversePatches = [];\n    this.patchListener = patchListener;\n  }\n};\n\nImmerScope.prototype.revoke = function revoke$1 () {\n  this.leave();\n  this.drafts.forEach(revoke);\n  this.drafts = null; // Make draft-related methods throw.\n};\n\nImmerScope.prototype.leave = function leave () {\n  if (this === ImmerScope.current) {\n    ImmerScope.current = this.parent;\n  }\n};\nImmerScope.current = null;\n\nImmerScope.enter = function () {\n  return this.current = new ImmerScope(this.current);\n};\n\nfunction revoke(draft) {\n  draft[DRAFT_STATE].revoke();\n}\n\n// but share them all instead\n\nvar descriptors = {};\nfunction willFinalize(scope, result, isReplaced) {\n  scope.drafts.forEach(function (draft) {\n    draft[DRAFT_STATE].finalizing = true;\n  });\n\n  if (!isReplaced) {\n    if (scope.patches) {\n      markChangesRecursively(scope.drafts[0]);\n    } // This is faster when we don't care about which attributes changed.\n\n\n    markChangesSweep(scope.drafts);\n  } // When a child draft is returned, look for changes.\n  else if (isDraft(result) && result[DRAFT_STATE].scope === scope) {\n      markChangesSweep(scope.drafts);\n    }\n}\nfunction createProxy(base, parent) {\n  var isArray = Array.isArray(base);\n  var draft = clonePotentialDraft(base);\n  each(draft, function (prop) {\n    proxyProperty(draft, prop, isArray || isEnumerable(base, prop));\n  }); // See \"proxy.js\" for property documentation.\n\n  var scope = parent ? parent.scope : ImmerScope.current;\n  var state = {\n    scope: scope,\n    modified: false,\n    finalizing: false,\n    // es5 only\n    finalized: false,\n    assigned: {},\n    parent: parent,\n    base: base,\n    draft: draft,\n    copy: null,\n    revoke: revoke$1,\n    revoked: false // es5 only\n\n  };\n  createHiddenProperty(draft, DRAFT_STATE, state);\n  scope.drafts.push(draft);\n  return draft;\n}\n\nfunction revoke$1() {\n  this.revoked = true;\n}\n\nfunction source(state) {\n  return state.copy || state.base;\n} // Access a property without creating an Immer draft.\n\n\nfunction peek(draft, prop) {\n  var state = draft[DRAFT_STATE];\n\n  if (state && !state.finalizing) {\n    state.finalizing = true;\n    var value = draft[prop];\n    state.finalizing = false;\n    return value;\n  }\n\n  return draft[prop];\n}\n\nfunction get(state, prop) {\n  assertUnrevoked(state);\n  var value = peek(source(state), prop);\n  if (state.finalizing) { return value; } // Create a draft if the value is unmodified.\n\n  if (value === peek(state.base, prop) && isDraftable(value)) {\n    prepareCopy(state);\n    return state.copy[prop] = createProxy(value, state);\n  }\n\n  return value;\n}\n\nfunction set(state, prop, value) {\n  assertUnrevoked(state);\n  state.assigned[prop] = true;\n\n  if (!state.modified) {\n    if (is(value, peek(source(state), prop))) { return; }\n    markChanged(state);\n    prepareCopy(state);\n  }\n\n  state.copy[prop] = value;\n}\n\nfunction markChanged(state) {\n  if (!state.modified) {\n    state.modified = true;\n    if (state.parent) { markChanged(state.parent); }\n  }\n}\n\nfunction prepareCopy(state) {\n  if (!state.copy) { state.copy = clonePotentialDraft(state.base); }\n}\n\nfunction clonePotentialDraft(base) {\n  var state = base && base[DRAFT_STATE];\n\n  if (state) {\n    state.finalizing = true;\n    var draft = shallowCopy(state.draft, true);\n    state.finalizing = false;\n    return draft;\n  }\n\n  return shallowCopy(base);\n}\n\nfunction proxyProperty(draft, prop, enumerable) {\n  var desc = descriptors[prop];\n\n  if (desc) {\n    desc.enumerable = enumerable;\n  } else {\n    descriptors[prop] = desc = {\n      configurable: true,\n      enumerable: enumerable,\n\n      get: function get$1() {\n        return get(this[DRAFT_STATE], prop);\n      },\n\n      set: function set$1(value) {\n        set(this[DRAFT_STATE], prop, value);\n      }\n\n    };\n  }\n\n  Object.defineProperty(draft, prop, desc);\n}\n\nfunction assertUnrevoked(state) {\n  if (state.revoked === true) { throw new Error(\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \" + JSON.stringify(source(state))); }\n} // This looks expensive, but only proxies are visited, and only objects without known changes are scanned.\n\n\nfunction markChangesSweep(drafts) {\n  // The natural order of drafts in the `scope` array is based on when they\n  // were accessed. By processing drafts in reverse natural order, we have a\n  // better chance of processing leaf nodes first. When a leaf node is known to\n  // have changed, we can avoid any traversal of its ancestor nodes.\n  for (var i = drafts.length - 1; i >= 0; i--) {\n    var state = drafts[i][DRAFT_STATE];\n\n    if (!state.modified) {\n      if (Array.isArray(state.base)) {\n        if (hasArrayChanges(state)) { markChanged(state); }\n      } else if (hasObjectChanges(state)) { markChanged(state); }\n    }\n  }\n}\n\nfunction markChangesRecursively(object) {\n  if (!object || typeof object !== \"object\") { return; }\n  var state = object[DRAFT_STATE];\n  if (!state) { return; }\n  var base = state.base;\n  var draft = state.draft;\n  var assigned = state.assigned;\n\n  if (!Array.isArray(object)) {\n    // Look for added keys.\n    Object.keys(draft).forEach(function (key) {\n      // The `undefined` check is a fast path for pre-existing keys.\n      if (base[key] === undefined && !has(base, key)) {\n        assigned[key] = true;\n        markChanged(state);\n      } else if (!assigned[key]) {\n        // Only untouched properties trigger recursion.\n        markChangesRecursively(draft[key]);\n      }\n    }); // Look for removed keys.\n\n    Object.keys(base).forEach(function (key) {\n      // The `undefined` check is a fast path for pre-existing keys.\n      if (draft[key] === undefined && !has(draft, key)) {\n        assigned[key] = false;\n        markChanged(state);\n      }\n    });\n  } else if (hasArrayChanges(state)) {\n    markChanged(state);\n    assigned.length = true;\n\n    if (draft.length < base.length) {\n      for (var i = draft.length; i < base.length; i++) { assigned[i] = false; }\n    } else {\n      for (var i$1 = base.length; i$1 < draft.length; i$1++) { assigned[i$1] = true; }\n    }\n\n    for (var i$2 = 0; i$2 < draft.length; i$2++) {\n      // Only untouched indices trigger recursion.\n      if (assigned[i$2] === undefined) { markChangesRecursively(draft[i$2]); }\n    }\n  }\n}\n\nfunction hasObjectChanges(state) {\n  var base = state.base;\n  var draft = state.draft; // Search for added keys and changed keys. Start at the back, because\n  // non-numeric keys are ordered by time of definition on the object.\n\n  var keys = Object.keys(draft);\n\n  for (var i = keys.length - 1; i >= 0; i--) {\n    var key = keys[i];\n    var baseValue = base[key]; // The `undefined` check is a fast path for pre-existing keys.\n\n    if (baseValue === undefined && !has(base, key)) {\n      return true;\n    } // Once a base key is deleted, future changes go undetected, because its\n    // descriptor is erased. This branch detects any missed changes.\n    else {\n        var value = draft[key];\n        var state$1 = value && value[DRAFT_STATE];\n\n        if (state$1 ? state$1.base !== baseValue : !is(value, baseValue)) {\n          return true;\n        }\n      }\n  } // At this point, no keys were added or changed.\n  // Compare key count to determine if keys were deleted.\n\n\n  return keys.length !== Object.keys(base).length;\n}\n\nfunction hasArrayChanges(state) {\n  var draft = state.draft;\n  if (draft.length !== state.base.length) { return true; } // See #116\n  // If we first shorten the length, our array interceptors will be removed.\n  // If after that new items are added, result in the same original length,\n  // those last items will have no intercepting property.\n  // So if there is no own descriptor on the last position, we know that items were removed and added\n  // N.B.: splice, unshift, etc only shift values around, but not prop descriptors, so we only have to check\n  // the last one\n\n  var descriptor = Object.getOwnPropertyDescriptor(draft, draft.length - 1); // descriptor can be null, but only for newly created sparse arrays, eg. new Array(10)\n\n  if (descriptor && !descriptor.get) { return true; } // For all other cases, we don't have to compare, as they would have been picked up by the index setters\n\n  return false;\n}\n\nfunction createHiddenProperty(target, prop, value) {\n  Object.defineProperty(target, prop, {\n    value: value,\n    enumerable: false,\n    writable: true\n  });\n}\n\nvar legacyProxy = /*#__PURE__*/Object.freeze({\n\twillFinalize: willFinalize,\n\tcreateProxy: createProxy\n});\n\nfunction willFinalize$1() {}\nfunction createProxy$1(base, parent) {\n  var scope = parent ? parent.scope : ImmerScope.current;\n  var state = {\n    // Track which produce call this is associated with.\n    scope: scope,\n    // True for both shallow and deep changes.\n    modified: false,\n    // Used during finalization.\n    finalized: false,\n    // Track which properties have been assigned (true) or deleted (false).\n    assigned: {},\n    // The parent draft state.\n    parent: parent,\n    // The base state.\n    base: base,\n    // The base proxy.\n    draft: null,\n    // Any property proxies.\n    drafts: {},\n    // The base copy with any updated values.\n    copy: null,\n    // Called by the `produce` function.\n    revoke: null\n  };\n  var ref = Array.isArray(base) ? // [state] is used for arrays, to make sure the proxy is array-ish and not violate invariants,\n  // although state itself is an object\n  Proxy.revocable([state], arrayTraps) : Proxy.revocable(state, objectTraps);\n  var revoke = ref.revoke;\n  var proxy = ref.proxy;\n  state.draft = proxy;\n  state.revoke = revoke;\n  scope.drafts.push(proxy);\n  return proxy;\n}\nvar objectTraps = {\n  get: get$1,\n\n  has: function has(target, prop) {\n    return prop in source$1(target);\n  },\n\n  ownKeys: function ownKeys(target) {\n    return Reflect.ownKeys(source$1(target));\n  },\n\n  set: set$1,\n  deleteProperty: deleteProperty,\n  getOwnPropertyDescriptor: getOwnPropertyDescriptor,\n\n  defineProperty: function defineProperty() {\n    throw new Error(\"Object.defineProperty() cannot be used on an Immer draft\"); // prettier-ignore\n  },\n\n  getPrototypeOf: function getPrototypeOf(target) {\n    return Object.getPrototypeOf(target.base);\n  },\n\n  setPrototypeOf: function setPrototypeOf() {\n    throw new Error(\"Object.setPrototypeOf() cannot be used on an Immer draft\"); // prettier-ignore\n  }\n\n};\nvar arrayTraps = {};\neach(objectTraps, function (key, fn) {\n  arrayTraps[key] = function () {\n    arguments[0] = arguments[0][0];\n    return fn.apply(this, arguments);\n  };\n});\n\narrayTraps.deleteProperty = function (state, prop) {\n  if (isNaN(parseInt(prop))) {\n    throw new Error(\"Immer only supports deleting array indices\"); // prettier-ignore\n  }\n\n  return objectTraps.deleteProperty.call(this, state[0], prop);\n};\n\narrayTraps.set = function (state, prop, value) {\n  if (prop !== \"length\" && isNaN(parseInt(prop))) {\n    throw new Error(\"Immer only supports setting array indices and the 'length' property\"); // prettier-ignore\n  }\n\n  return objectTraps.set.call(this, state[0], prop, value);\n}; // returns the object we should be reading the current value from, which is base, until some change has been made\n\n\nfunction source$1(state) {\n  return state.copy || state.base;\n} // Access a property without creating an Immer draft.\n\n\nfunction peek$1(draft, prop) {\n  var state = draft[DRAFT_STATE];\n  var desc = Reflect.getOwnPropertyDescriptor(state ? source$1(state) : draft, prop);\n  return desc && desc.value;\n}\n\nfunction get$1(state, prop) {\n  if (prop === DRAFT_STATE) { return state; }\n  var drafts = state.drafts; // Check for existing draft in unmodified state.\n\n  if (!state.modified && has(drafts, prop)) {\n    return drafts[prop];\n  }\n\n  var value = source$1(state)[prop];\n\n  if (state.finalized || !isDraftable(value)) {\n    return value;\n  } // Check for existing draft in modified state.\n\n\n  if (state.modified) {\n    // Assigned values are never drafted. This catches any drafts we created, too.\n    if (value !== peek$1(state.base, prop)) { return value; } // Store drafts on the copy (when one exists).\n\n    drafts = state.copy;\n  }\n\n  return drafts[prop] = createProxy$1(value, state);\n}\n\nfunction set$1(state, prop, value) {\n  if (!state.modified) {\n    var baseValue = peek$1(state.base, prop); // Optimize based on value's truthiness. Truthy values are guaranteed to\n    // never be undefined, so we can avoid the `in` operator. Lastly, truthy\n    // values may be drafts, but falsy values are never drafts.\n\n    var isUnchanged = value ? is(baseValue, value) || value === state.drafts[prop] : is(baseValue, value) && prop in state.base;\n    if (isUnchanged) { return true; }\n    markChanged$1(state);\n  }\n\n  state.assigned[prop] = true;\n  state.copy[prop] = value;\n  return true;\n}\n\nfunction deleteProperty(state, prop) {\n  // The `undefined` check is a fast path for pre-existing keys.\n  if (peek$1(state.base, prop) !== undefined || prop in state.base) {\n    state.assigned[prop] = false;\n    markChanged$1(state);\n  } else if (state.assigned[prop]) {\n    // if an originally not assigned property was deleted\n    delete state.assigned[prop];\n  }\n\n  if (state.copy) { delete state.copy[prop]; }\n  return true;\n} // Note: We never coerce `desc.value` into an Immer draft, because we can't make\n// the same guarantee in ES5 mode.\n\n\nfunction getOwnPropertyDescriptor(state, prop) {\n  var owner = source$1(state);\n  var desc = Reflect.getOwnPropertyDescriptor(owner, prop);\n\n  if (desc) {\n    desc.writable = true;\n    desc.configurable = !Array.isArray(owner) || prop !== \"length\";\n  }\n\n  return desc;\n}\n\nfunction markChanged$1(state) {\n  if (!state.modified) {\n    state.modified = true;\n    state.copy = assign(shallowCopy(state.base), state.drafts);\n    state.drafts = null;\n    if (state.parent) { markChanged$1(state.parent); }\n  }\n}\n\nvar modernProxy = /*#__PURE__*/Object.freeze({\n\twillFinalize: willFinalize$1,\n\tcreateProxy: createProxy$1\n});\n\nfunction generatePatches(state, basePath, patches, inversePatches) {\n  Array.isArray(state.base) ? generateArrayPatches(state, basePath, patches, inversePatches) : generateObjectPatches(state, basePath, patches, inversePatches);\n}\n\nfunction generateArrayPatches(state, basePath, patches, inversePatches) {\n  var assign, assign$1;\n\n  var base = state.base;\n  var copy = state.copy;\n  var assigned = state.assigned; // Reduce complexity by ensuring `base` is never longer.\n\n  if (copy.length < base.length) {\n    (assign = [copy, base], base = assign[0], copy = assign[1]);\n    (assign$1 = [inversePatches, patches], patches = assign$1[0], inversePatches = assign$1[1]);\n  }\n\n  var delta = copy.length - base.length; // Find the first replaced index.\n\n  var start = 0;\n\n  while (base[start] === copy[start] && start < base.length) {\n    ++start;\n  } // Find the last replaced index. Search from the end to optimize splice patches.\n\n\n  var end = base.length;\n\n  while (end > start && base[end - 1] === copy[end + delta - 1]) {\n    --end;\n  } // Process replaced indices.\n\n\n  for (var i = start; i < end; ++i) {\n    if (assigned[i] && copy[i] !== base[i]) {\n      var path = basePath.concat([i]);\n      patches.push({\n        op: \"replace\",\n        path: path,\n        value: copy[i]\n      });\n      inversePatches.push({\n        op: \"replace\",\n        path: path,\n        value: base[i]\n      });\n    }\n  }\n\n  var replaceCount = patches.length; // Process added indices.\n\n  for (var i$1 = end + delta - 1; i$1 >= end; --i$1) {\n    var path$1 = basePath.concat([i$1]);\n    patches[replaceCount + i$1 - end] = {\n      op: \"add\",\n      path: path$1,\n      value: copy[i$1]\n    };\n    inversePatches.push({\n      op: \"remove\",\n      path: path$1\n    });\n  }\n}\n\nfunction generateObjectPatches(state, basePath, patches, inversePatches) {\n  var base = state.base;\n  var copy = state.copy;\n  each(state.assigned, function (key, assignedValue) {\n    var origValue = base[key];\n    var value = copy[key];\n    var op = !assignedValue ? \"remove\" : key in base ? \"replace\" : \"add\";\n    if (origValue === value && op === \"replace\") { return; }\n    var path = basePath.concat(key);\n    patches.push(op === \"remove\" ? {\n      op: op,\n      path: path\n    } : {\n      op: op,\n      path: path,\n      value: value\n    });\n    inversePatches.push(op === \"add\" ? {\n      op: \"remove\",\n      path: path\n    } : op === \"remove\" ? {\n      op: \"add\",\n      path: path,\n      value: origValue\n    } : {\n      op: \"replace\",\n      path: path,\n      value: origValue\n    });\n  });\n}\n\nvar applyPatches = function (draft, patches) {\n  for (var i$1 = 0, list = patches; i$1 < list.length; i$1 += 1) {\n    var patch = list[i$1];\n\n    var path = patch.path;\n    var op = patch.op;\n    var value = clone(patch.value); // used to clone patch to ensure original patch is not modified, see #411\n\n    if (!path.length) { throw new Error(\"Illegal state\"); }\n    var base = draft;\n\n    for (var i = 0; i < path.length - 1; i++) {\n      base = base[path[i]];\n      if (!base || typeof base !== \"object\") { throw new Error(\"Cannot apply patch, path doesn't resolve: \" + path.join(\"/\")); } // prettier-ignore\n    }\n\n    var key = path[path.length - 1];\n\n    switch (op) {\n      case \"replace\":\n        // if value is an object, then it's assigned by reference\n        // in the following add or remove ops, the value field inside the patch will also be modifyed\n        // so we use value from the cloned patch\n        base[key] = value;\n        break;\n\n      case \"add\":\n        if (Array.isArray(base)) {\n          // TODO: support \"foo/-\" paths for appending to an array\n          base.splice(key, 0, value);\n        } else {\n          base[key] = value;\n        }\n\n        break;\n\n      case \"remove\":\n        if (Array.isArray(base)) {\n          base.splice(key, 1);\n        } else {\n          delete base[key];\n        }\n\n        break;\n\n      default:\n        throw new Error(\"Unsupported patch operation: \" + op);\n    }\n  }\n\n  return draft;\n};\n\nfunction verifyMinified() {}\n\nvar configDefaults = {\n  useProxies: typeof Proxy !== \"undefined\" && typeof Proxy.revocable !== \"undefined\" && typeof Reflect !== \"undefined\",\n  autoFreeze: typeof process !== \"undefined\" ? process.env.NODE_ENV !== \"production\" : verifyMinified.name === \"verifyMinified\",\n  onAssign: null,\n  onDelete: null,\n  onCopy: null\n};\nvar Immer = function Immer(config) {\n  assign(this, configDefaults, config);\n  this.setUseProxies(this.useProxies);\n  this.produce = this.produce.bind(this);\n};\n\nImmer.prototype.produce = function produce (base, recipe, patchListener) {\n    var this$1 = this;\n\n  // curried invocation\n  if (typeof base === \"function\" && typeof recipe !== \"function\") {\n    var defaultBase = recipe;\n    recipe = base;\n    var self = this;\n    return function curriedProduce(base) {\n        var this$1 = this;\n        if ( base === void 0 ) base = defaultBase;\n        var args = [], len = arguments.length - 1;\n        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n      return self.produce(base, function (draft) { return recipe.call.apply(recipe, [ this$1, draft ].concat( args )); }); // prettier-ignore\n    };\n  } // prettier-ignore\n\n\n  {\n    if (typeof recipe !== \"function\") {\n      throw new Error(\"The first or second argument to `produce` must be a function\");\n    }\n\n    if (patchListener !== undefined && typeof patchListener !== \"function\") {\n      throw new Error(\"The third argument to `produce` must be a function or undefined\");\n    }\n  }\n  var result; // Only plain objects, arrays, and \"immerable classes\" are drafted.\n\n  if (isDraftable(base)) {\n    var scope = ImmerScope.enter();\n    var proxy = this.createProxy(base);\n    var hasError = true;\n\n    try {\n      result = recipe(proxy);\n      hasError = false;\n    } finally {\n      // finally instead of catch + rethrow better preserves original stack\n      if (hasError) { scope.revoke(); }else { scope.leave(); }\n    }\n\n    if (result instanceof Promise) {\n      return result.then(function (result) {\n        scope.usePatches(patchListener);\n        return this$1.processResult(result, scope);\n      }, function (error) {\n        scope.revoke();\n        throw error;\n      });\n    }\n\n    scope.usePatches(patchListener);\n    return this.processResult(result, scope);\n  } else {\n    result = recipe(base);\n    if (result === NOTHING) { return undefined; }\n    if (result === undefined) { result = base; }\n    this.maybeFreeze(result, true);\n    return result;\n  }\n};\n\nImmer.prototype.produceWithPatches = function produceWithPatches (arg1, arg2, arg3) {\n    var this$1 = this;\n\n  if (typeof arg1 === \"function\") {\n    return function (state) {\n        var args = [], len = arguments.length - 1;\n        while ( len-- > 0 ) args[ len ] = arguments[ len + 1 ];\n\n        return this$1.produceWithPatches(state, function (draft) { return arg1.apply(void 0, [ draft ].concat( args )); });\n      };\n  } // non-curried form\n\n\n  if (arg3) { throw new Error(\"A patch listener cannot be passed to produceWithPatches\"); }\n  var patches, inversePatches;\n  var nextState = this.produce(arg1, arg2, function (p, ip) {\n    patches = p;\n    inversePatches = ip;\n  });\n  return [nextState, patches, inversePatches];\n};\n\nImmer.prototype.createDraft = function createDraft (base) {\n  if (!isDraftable(base)) {\n    throw new Error(\"First argument to `createDraft` must be a plain object, an array, or an immerable object\"); // prettier-ignore\n  }\n\n  var scope = ImmerScope.enter();\n  var proxy = this.createProxy(base);\n  proxy[DRAFT_STATE].isManual = true;\n  scope.leave();\n  return proxy;\n};\n\nImmer.prototype.finishDraft = function finishDraft (draft, patchListener) {\n  var state = draft && draft[DRAFT_STATE];\n\n  if (!state || !state.isManual) {\n    throw new Error(\"First argument to `finishDraft` must be a draft returned by `createDraft`\"); // prettier-ignore\n  }\n\n  if (state.finalized) {\n    throw new Error(\"The given draft is already finalized\"); // prettier-ignore\n  }\n\n  var scope = state.scope;\n  scope.usePatches(patchListener);\n  return this.processResult(undefined, scope);\n};\n\nImmer.prototype.setAutoFreeze = function setAutoFreeze (value) {\n  this.autoFreeze = value;\n};\n\nImmer.prototype.setUseProxies = function setUseProxies (value) {\n  this.useProxies = value;\n  assign(this, value ? modernProxy : legacyProxy);\n};\n\nImmer.prototype.applyPatches = function applyPatches$1 (base, patches) {\n  // If a patch replaces the entire state, take that replacement as base\n  // before applying patches\n  var i;\n\n  for (i = patches.length - 1; i >= 0; i--) {\n    var patch = patches[i];\n\n    if (patch.path.length === 0 && patch.op === \"replace\") {\n      base = patch.value;\n      break;\n    }\n  }\n\n  if (isDraft(base)) {\n    // N.B: never hits if some patch a replacement, patches are never drafts\n    return applyPatches(base, patches);\n  } // Otherwise, produce a copy of the base state.\n\n\n  return this.produce(base, function (draft) { return applyPatches(draft, patches.slice(i + 1)); });\n};\n/** @internal */\n\n\nImmer.prototype.processResult = function processResult (result, scope) {\n  var baseDraft = scope.drafts[0];\n  var isReplaced = result !== undefined && result !== baseDraft;\n  this.willFinalize(scope, result, isReplaced);\n\n  if (isReplaced) {\n    if (baseDraft[DRAFT_STATE].modified) {\n      scope.revoke();\n      throw new Error(\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\"); // prettier-ignore\n    }\n\n    if (isDraftable(result)) {\n      // Finalize the result in case it contains (or is) a subset of the draft.\n      result = this.finalize(result, null, scope);\n      this.maybeFreeze(result);\n    }\n\n    if (scope.patches) {\n      scope.patches.push({\n        op: \"replace\",\n        path: [],\n        value: result\n      });\n      scope.inversePatches.push({\n        op: \"replace\",\n        path: [],\n        value: baseDraft[DRAFT_STATE].base\n      });\n    }\n  } else {\n    // Finalize the base draft.\n    result = this.finalize(baseDraft, [], scope);\n  }\n\n  scope.revoke();\n\n  if (scope.patches) {\n    scope.patchListener(scope.patches, scope.inversePatches);\n  }\n\n  return result !== NOTHING ? result : undefined;\n};\n/**\n * @internal\n * Finalize a draft, returning either the unmodified base state or a modified\n * copy of the base state.\n */\n\n\nImmer.prototype.finalize = function finalize (draft, path, scope) {\n    var this$1 = this;\n\n  var state = draft[DRAFT_STATE];\n\n  if (!state) {\n    if (Object.isFrozen(draft)) { return draft; }\n    return this.finalizeTree(draft, null, scope);\n  } // Never finalize drafts owned by another scope.\n\n\n  if (state.scope !== scope) {\n    return draft;\n  }\n\n  if (!state.modified) {\n    this.maybeFreeze(state.base, true);\n    return state.base;\n  }\n\n  if (!state.finalized) {\n    state.finalized = true;\n    this.finalizeTree(state.draft, path, scope);\n\n    if (this.onDelete) {\n      // The `assigned` object is unreliable with ES5 drafts.\n      if (this.useProxies) {\n        var assigned = state.assigned;\n\n        for (var prop in assigned) {\n          if (!assigned[prop]) { this.onDelete(state, prop); }\n        }\n      } else {\n        var base = state.base;\n          var copy = state.copy;\n        each(base, function (prop) {\n          if (!has(copy, prop)) { this$1.onDelete(state, prop); }\n        });\n      }\n    }\n\n    if (this.onCopy) {\n      this.onCopy(state);\n    } // At this point, all descendants of `state.copy` have been finalized,\n    // so we can be sure that `scope.canAutoFreeze` is accurate.\n\n\n    if (this.autoFreeze && scope.canAutoFreeze) {\n      Object.freeze(state.copy);\n    }\n\n    if (path && scope.patches) {\n      generatePatches(state, path, scope.patches, scope.inversePatches);\n    }\n  }\n\n  return state.copy;\n};\n/**\n * @internal\n * Finalize all drafts in the given state tree.\n */\n\n\nImmer.prototype.finalizeTree = function finalizeTree (root, rootPath, scope) {\n    var this$1 = this;\n\n  var state = root[DRAFT_STATE];\n\n  if (state) {\n    if (!this.useProxies) {\n      // Create the final copy, with added keys and without deleted keys.\n      state.copy = shallowCopy(state.draft, true);\n    }\n\n    root = state.copy;\n  }\n\n  var needPatches = !!rootPath && !!scope.patches;\n\n  var finalizeProperty = function (prop, value, parent) {\n    if (value === parent) {\n      throw Error(\"Immer forbids circular references\");\n    } // In the `finalizeTree` method, only the `root` object may be a draft.\n\n\n    var isDraftProp = !!state && parent === root;\n\n    if (isDraft(value)) {\n      var path = isDraftProp && needPatches && !state.assigned[prop] ? rootPath.concat(prop) : null; // Drafts owned by `scope` are finalized here.\n\n      value = this$1.finalize(value, path, scope); // Drafts from another scope must prevent auto-freezing.\n\n      if (isDraft(value)) {\n        scope.canAutoFreeze = false;\n      } // Preserve non-enumerable properties.\n\n\n      if (Array.isArray(parent) || isEnumerable(parent, prop)) {\n        parent[prop] = value;\n      } else {\n        Object.defineProperty(parent, prop, {\n          value: value\n        });\n      } // Unchanged drafts are never passed to the `onAssign` hook.\n\n\n      if (isDraftProp && value === state.base[prop]) { return; }\n    } // Unchanged draft properties are ignored.\n    else if (isDraftProp && is(value, state.base[prop])) {\n        return;\n      } // Search new objects for unfinalized drafts. Frozen objects should never contain drafts.\n      else if (isDraftable(value) && !Object.isFrozen(value)) {\n          each(value, finalizeProperty);\n          this$1.maybeFreeze(value);\n        }\n\n    if (isDraftProp && this$1.onAssign) {\n      this$1.onAssign(state, prop, value);\n    }\n  };\n\n  each(root, finalizeProperty);\n  return root;\n};\n\nImmer.prototype.maybeFreeze = function maybeFreeze (value, deep) {\n    if ( deep === void 0 ) deep = false;\n\n  if (this.autoFreeze && !isDraft(value)) {\n    if (deep) { deepFreeze(value); }else { Object.freeze(value); }\n  }\n};\n\nvar immer = new Immer();\n/**\n * The `produce` function takes a value and a \"recipe function\" (whose\n * return value often depends on the base state). The recipe function is\n * free to mutate its first argument however it wants. All mutations are\n * only ever applied to a __copy__ of the base state.\n *\n * Pass only a function to create a \"curried producer\" which relieves you\n * from passing the recipe function every time.\n *\n * Only plain objects and arrays are made mutable. All other objects are\n * considered uncopyable.\n *\n * Note: This function is __bound__ to its `Immer` instance.\n *\n * @param {any} base - the initial state\n * @param {Function} producer - function that receives a proxy of the base state as first argument and which can be freely modified\n * @param {Function} patchListener - optional function that will be called with all the patches produced here\n * @returns {any} a new state, or the initial state if nothing was modified\n */\n\nvar produce = immer.produce;\n/**\n * Like `produce`, but `produceWithPatches` always returns a tuple\n * [nextState, patches, inversePatches] (instead of just the next state)\n */\n\nvar produceWithPatches = immer.produceWithPatches.bind(immer);\n/**\n * Pass true to automatically freeze all copies created by Immer.\n *\n * By default, auto-freezing is disabled in production.\n */\n\nvar setAutoFreeze = immer.setAutoFreeze.bind(immer);\n/**\n * Pass true to use the ES2015 `Proxy` class when creating drafts, which is\n * always faster than using ES5 proxies.\n *\n * By default, feature detection is used, so calling this is rarely necessary.\n */\n\nvar setUseProxies = immer.setUseProxies.bind(immer);\n/**\n * Apply an array of Immer patches to the first argument.\n *\n * This function is a producer, which means copy-on-write is in effect.\n */\n\nvar applyPatches$1 = immer.applyPatches.bind(immer);\n/**\n * Create an Immer draft from the given base state, which may be a draft itself.\n * The draft can be modified until you finalize it with the `finishDraft` function.\n */\n\nvar createDraft = immer.createDraft.bind(immer);\n/**\n * Finalize an Immer draft from a `createDraft` call, returning the base state\n * (if no changes were made) or a modified copy. The draft must *not* be\n * mutated afterwards.\n *\n * Pass a function as the 2nd argument to generate Immer patches based on the\n * changes that were made.\n */\n\nvar finishDraft = immer.finishDraft.bind(immer);\n\nexport default produce;\nexport { Immer, applyPatches$1 as applyPatches, createDraft, finishDraft, DRAFTABLE as immerable, isDraft, isDraftable, NOTHING as nothing, original, produce, produceWithPatches, setAutoFreeze, setUseProxies };\n//# sourceMappingURL=immer.module.js.map\n","/*! https://mths.be/esrever v0.2.0 by @mathias */\n;(function(root) {\n\n\t// Detect free variables `exports`\n\tvar freeExports = typeof exports == 'object' && exports;\n\n\t// Detect free variable `module`\n\tvar freeModule = typeof module == 'object' && module &&\n\t\tmodule.exports == freeExports && module;\n\n\t// Detect free variable `global`, from Node.js or Browserified code,\n\t// and use it as `root`\n\tvar freeGlobal = typeof global == 'object' && global;\n\tif (freeGlobal.global === freeGlobal || freeGlobal.window === freeGlobal) {\n\t\troot = freeGlobal;\n\t}\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar regexSymbolWithCombiningMarks = /([\\0-\\u02FF\\u0370-\\u1AAF\\u1B00-\\u1DBF\\u1E00-\\u20CF\\u2100-\\uD7FF\\uE000-\\uFE1F\\uFE30-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])([\\u0300-\\u036F\\u1AB0-\\u1AFF\\u1DC0-\\u1DFF\\u20D0-\\u20FF\\uFE20-\\uFE2F]+)/g;\n\tvar regexSurrogatePair = /([\\uD800-\\uDBFF])([\\uDC00-\\uDFFF])/g;\n\n\tvar reverse = function(string) {\n\t\t// Step 1: deal with combining marks and astral symbols (surrogate pairs)\n\t\tstring = string\n\t\t\t// Swap symbols with their combining marks so the combining marks go first\n\t\t\t.replace(regexSymbolWithCombiningMarks, function($0, $1, $2) {\n\t\t\t\t// Reverse the combining marks so they will end up in the same order\n\t\t\t\t// later on (after another round of reversing)\n\t\t\t\treturn reverse($2) + $1;\n\t\t\t})\n\t\t\t// Swap high and low surrogates so the low surrogates go first\n\t\t\t.replace(regexSurrogatePair, '$2$1');\n\t\t// Step 2: reverse the code units in the string\n\t\tvar result = '';\n\t\tvar index = string.length;\n\t\twhile (index--) {\n\t\t\tresult += string.charAt(index);\n\t\t}\n\t\treturn result;\n\t};\n\n\t/*--------------------------------------------------------------------------*/\n\n\tvar esrever = {\n\t\t'version': '0.2.0',\n\t\t'reverse': reverse\n\t};\n\n\t// Some AMD build optimizers, like r.js, check for specific condition patterns\n\t// like the following:\n\tif (\n\t\ttypeof define == 'function' &&\n\t\ttypeof define.amd == 'object' &&\n\t\tdefine.amd\n\t) {\n\t\tdefine(function() {\n\t\t\treturn esrever;\n\t\t});\n\t}\telse if (freeExports && !freeExports.nodeType) {\n\t\tif (freeModule) { // in Node.js, io.js, or RingoJS v0.8.0+\n\t\t\tfreeModule.exports = esrever;\n\t\t} else { // in Narwhal or RingoJS v0.7.0-\n\t\t\tfor (var key in esrever) {\n\t\t\t\tesrever.hasOwnProperty(key) && (freeExports[key] = esrever[key]);\n\t\t\t}\n\t\t}\n\t} else { // in Rhino or a web browser\n\t\troot.esrever = esrever;\n\t}\n\n}(this));\n","import { produce } from 'immer';\nimport isPlainObject from 'is-plain-object';\nimport { reverse } from 'esrever';\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nvar classCallCheck = _classCallCheck;\n\n/**\r\n * Weak maps to keep track of instance-level editor state.\r\n */\nvar DIRTY_PATHS = new WeakMap();\nvar NORMALIZING = new WeakMap();\nvar FLUSHING = new WeakMap();\nvar PATH_REFS = new WeakMap();\nvar POINT_REFS = new WeakMap();\nvar RANGE_REFS = new WeakMap();\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nvar createClass = _createClass;\n\n/**\r\n * `PathRef` objects keep a specific path in a document synced over time as new\r\n * operations are applied to the editor. You can access their `current` property\r\n * at any time for the up-to-date path value.\r\n */\n\nvar PathRef =\n/*#__PURE__*/\nfunction () {\n  function PathRef(props) {\n    classCallCheck(this, PathRef);\n\n    var path = props.path,\n        affinity = props.affinity,\n        editor = props.editor;\n    this.current = path;\n    this.affinity = affinity;\n    this.editor = editor;\n    var pathRefs = PATH_REFS.get(editor);\n    pathRefs.add(this);\n  }\n  /**\r\n   * Transform the path ref's current value by an operation.\r\n   */\n\n\n  createClass(PathRef, [{\n    key: \"transform\",\n    value: function transform(op) {\n      var current = this.current,\n          affinity = this.affinity;\n\n      if (current == null) {\n        return;\n      }\n\n      var path = Path.transform(current, op, {\n        affinity: affinity\n      });\n      this.current = path;\n\n      if (path == null) {\n        this.unref();\n      }\n    }\n    /**\r\n     * Unreference the ref, allowing the editor to stop updating its value.\r\n     */\n\n  }, {\n    key: \"unref\",\n    value: function unref() {\n      var current = this.current,\n          editor = this.editor;\n      var pathRefs = PATH_REFS.get(editor);\n      pathRefs[\"delete\"](this);\n      this.current = null;\n      return current;\n    }\n  }]);\n\n  return PathRef;\n}();\n\n/**\r\n * `PointRef` objects keep a specific point in a document synced over time as new\r\n * operations are applied to the editor. You can access their `current` property\r\n * at any time for the up-to-date point value.\r\n */\n\nvar PointRef =\n/*#__PURE__*/\nfunction () {\n  function PointRef(props) {\n    classCallCheck(this, PointRef);\n\n    var point = props.point,\n        affinity = props.affinity,\n        editor = props.editor;\n    this.current = point;\n    this.affinity = affinity;\n    this.editor = editor;\n    var pointRefs = POINT_REFS.get(editor);\n    pointRefs.add(this);\n  }\n  /**\r\n   * Transform the point ref's current value by an operation.\r\n   */\n\n\n  createClass(PointRef, [{\n    key: \"transform\",\n    value: function transform(op) {\n      var current = this.current,\n          affinity = this.affinity;\n\n      if (current == null) {\n        return;\n      }\n\n      var point = Point.transform(current, op, {\n        affinity: affinity\n      });\n      this.current = point;\n\n      if (point == null) {\n        this.unref();\n      }\n    }\n    /**\r\n     * Unreference the ref, allowing the editor to stop updating its value.\r\n     */\n\n  }, {\n    key: \"unref\",\n    value: function unref() {\n      var current = this.current,\n          editor = this.editor;\n      var pointRefs = POINT_REFS.get(editor);\n      pointRefs[\"delete\"](this);\n      this.current = null;\n      return current;\n    }\n  }]);\n\n  return PointRef;\n}();\n\n/**\r\n * `RangeRef` objects keep a specific range in a document synced over time as new\r\n * operations are applied to the editor. You can access their `current` property\r\n * at any time for the up-to-date range value.\r\n */\n\nvar RangeRef =\n/*#__PURE__*/\nfunction () {\n  function RangeRef(props) {\n    classCallCheck(this, RangeRef);\n\n    var range = props.range,\n        affinity = props.affinity,\n        editor = props.editor;\n    this.current = range;\n    this.affinity = affinity;\n    this.editor = editor;\n    var rangeRefs = RANGE_REFS.get(editor);\n    rangeRefs.add(this);\n  }\n  /**\r\n   * Transform the range ref's current value by an operation.\r\n   */\n\n\n  createClass(RangeRef, [{\n    key: \"transform\",\n    value: function transform(op) {\n      var current = this.current,\n          affinity = this.affinity;\n\n      if (current == null) {\n        return;\n      }\n\n      var range = Range.transform(current, op, {\n        affinity: affinity\n      });\n      this.current = range;\n\n      if (range == null) {\n        this.unref();\n      }\n    }\n    /**\r\n     * Unreference the ref, allowing the editor to stop updating its value.\r\n     */\n\n  }, {\n    key: \"unref\",\n    value: function unref() {\n      var current = this.current,\n          editor = this.editor;\n      var rangeRefs = RANGE_REFS.get(editor);\n      rangeRefs[\"delete\"](this);\n      this.current = null;\n      return current;\n    }\n  }]);\n\n  return RangeRef;\n}();\n\nvar Element;\n\n(function (Element) {\n  /**\r\n   * Check if a value implements the `Element` interface.\r\n   */\n  Element.isElement = function (value) {\n    return isPlainObject(value) && Node.isNodeList(value.children) && !Value.isValue(value);\n  };\n  /**\r\n   * Check if a value is an array of `Element` objects.\r\n   */\n\n\n  Element.isElementList = function (value) {\n    return Array.isArray(value) && (value.length === 0 || Element.isElement(value[0]));\n  };\n  /**\r\n   * Check if an element matches set of properties.\r\n   *\r\n   * Note: the is for checking custom properties, and it does not ensure that\r\n   * any children in the `children` property are equal.\r\n   */\n\n\n  Element.matches = function (element, props) {\n    for (var key in props) {\n      if (key === 'children') {\n        continue;\n      }\n\n      if (element[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n})(Element || (Element = {}));\n\nvar Location;\n\n(function (Location) {\n  /**\r\n   * Check if a value implements the `Location` interface.\r\n   */\n  Location.isLocation = function (value) {\n    return Path.isPath(value) || Point.isPoint(value) || Range.isRange(value);\n  };\n})(Location || (Location = {}));\n\nvar Span;\n\n(function (Span) {\n  /**\r\n   * Check if a value implements the `Span` interface.\r\n   */\n  Span.isSpan = function (value) {\n    return Array.isArray(value) && value.length === 2 && value.every(Path.isPath);\n  };\n})(Span || (Span = {}));\n\nvar Mark;\n\n(function (Mark) {\n  /**\r\n   * Check if a mark exists in a set of marks.\r\n   */\n  Mark.exists = function (mark, marks) {\n    return !!marks.find(function (f) {\n      return Mark.matches(f, mark);\n    });\n  };\n  /**\r\n   * Check if a value implements the `Mark` interface.\r\n   */\n\n\n  Mark.isMark = function (value) {\n    return isPlainObject(value);\n  };\n  /**\r\n   * Check if a value is an array of `Mark` objects.\r\n   */\n\n\n  Mark.isMarkSet = function (value) {\n    return Array.isArray(value) && (value.length === 0 || Mark.isMark(value[0]));\n  };\n  /**\r\n   * Check if a mark matches set of properties.\r\n   */\n\n\n  Mark.matches = function (mark, props) {\n    for (var key in props) {\n      if (mark[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n})(Mark || (Mark = {}));\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nvar arrayWithHoles = _arrayWithHoles;\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nvar iterableToArrayLimit = _iterableToArrayLimit;\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nvar nonIterableRest = _nonIterableRest;\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nvar slicedToArray = _slicedToArray;\n\nfunction createCommonjsModule(fn, module) {\n\treturn module = { exports: {} }, fn(module, module.exports), module.exports;\n}\n\nvar runtime_1 = createCommonjsModule(function (module) {\n/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var undefined$1; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    generator._invoke = makeInvokeMethod(innerFn, self, context);\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  IteratorPrototype[iteratorSymbol] = function () {\n    return this;\n  };\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = Gp.constructor = GeneratorFunctionPrototype;\n  GeneratorFunctionPrototype.constructor = GeneratorFunction;\n  GeneratorFunctionPrototype[toStringTagSymbol] =\n    GeneratorFunction.displayName = \"GeneratorFunction\";\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      prototype[method] = function(arg) {\n        return this._invoke(method, arg);\n      };\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      if (!(toStringTagSymbol in genFun)) {\n        genFun[toStringTagSymbol] = \"GeneratorFunction\";\n      }\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return Promise.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return Promise.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new Promise(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    this._invoke = enqueue;\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  AsyncIterator.prototype[asyncIteratorSymbol] = function () {\n    return this;\n  };\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList) {\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList)\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var method = delegate.iterator[context.method];\n    if (method === undefined$1) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method always terminates the yield* loop.\n      context.delegate = null;\n\n      if (context.method === \"throw\") {\n        // Note: [\"return\"] must be used for ES3 parsing compatibility.\n        if (delegate.iterator[\"return\"]) {\n          // If the delegate iterator has a return method, give it a\n          // chance to clean up.\n          context.method = \"return\";\n          context.arg = undefined$1;\n          maybeInvokeDelegate(delegate, context);\n\n          if (context.method === \"throw\") {\n            // If maybeInvokeDelegate(context) changed context.method from\n            // \"return\" to \"throw\", let that override the TypeError below.\n            return ContinueSentinel;\n          }\n        }\n\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a 'throw' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined$1;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  Gp[toStringTagSymbol] = \"Generator\";\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  Gp[iteratorSymbol] = function() {\n    return this;\n  };\n\n  Gp.toString = function() {\n    return \"[object Generator]\";\n  };\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(object) {\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined$1;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined$1, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined$1;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined$1;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined$1;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined$1;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined$1;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n   module.exports \n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n}\n});\n\nvar regenerator = runtime_1;\n\nvar Node;\n\n(function (Node) {\n  var _marked =\n  /*#__PURE__*/\n  regenerator.mark(ancestors),\n      _marked2 =\n  /*#__PURE__*/\n  regenerator.mark(descendants),\n      _marked3 =\n  /*#__PURE__*/\n  regenerator.mark(elements),\n      _marked4 =\n  /*#__PURE__*/\n  regenerator.mark(levels),\n      _marked5 =\n  /*#__PURE__*/\n  regenerator.mark(marks),\n      _marked6 =\n  /*#__PURE__*/\n  regenerator.mark(nodes),\n      _marked7 =\n  /*#__PURE__*/\n  regenerator.mark(texts);\n\n  Node.matches = function (node, props) {\n    return Value.isValue(node) && Value.matches(node, props) || Element.isElement(node) && Element.matches(node, props) || Text.isText(node) && Text.matches(node, props);\n  };\n  /**\r\n   * Get the node at a specific path, asserting that it's an ancestor node.\r\n   */\n\n\n  Node.ancestor = function (root, path) {\n    var node = Node.get(root, path);\n\n    if (Text.isText(node)) {\n      throw new Error(\"Cannot get the ancestor node at path [\".concat(path, \"] because it refers to a text node instead: \").concat(node));\n    }\n\n    return node;\n  };\n  /**\r\n   * Return an iterable of all the ancestor nodes above a specific path.\r\n   *\r\n   * By default the order is bottom-up, from lowest to highest ancestor in\r\n   * the tree, but you can pass the `reverse: true` option to go top-down.\r\n   */\n\n\n  function ancestors(root, path) {\n    var options,\n        _iteratorNormalCompletion,\n        _didIteratorError,\n        _iteratorError,\n        _iterator,\n        _step,\n        p,\n        n,\n        entry,\n        _args = arguments;\n\n    return regenerator.wrap(function ancestors$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            options = _args.length > 2 && _args[2] !== undefined ? _args[2] : {};\n            _iteratorNormalCompletion = true;\n            _didIteratorError = false;\n            _iteratorError = undefined;\n            _context.prev = 4;\n            _iterator = Path.ancestors(path, options)[Symbol.iterator]();\n\n          case 6:\n            if (_iteratorNormalCompletion = (_step = _iterator.next()).done) {\n              _context.next = 15;\n              break;\n            }\n\n            p = _step.value;\n            n = Node.ancestor(root, p);\n            entry = [n, p];\n            _context.next = 12;\n            return entry;\n\n          case 12:\n            _iteratorNormalCompletion = true;\n            _context.next = 6;\n            break;\n\n          case 15:\n            _context.next = 21;\n            break;\n\n          case 17:\n            _context.prev = 17;\n            _context.t0 = _context[\"catch\"](4);\n            _didIteratorError = true;\n            _iteratorError = _context.t0;\n\n          case 21:\n            _context.prev = 21;\n            _context.prev = 22;\n\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n\n          case 24:\n            _context.prev = 24;\n\n            if (!_didIteratorError) {\n              _context.next = 27;\n              break;\n            }\n\n            throw _iteratorError;\n\n          case 27:\n            return _context.finish(24);\n\n          case 28:\n            return _context.finish(21);\n\n          case 29:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _marked, null, [[4, 17, 21, 29], [22,, 24, 28]]);\n  }\n\n  Node.ancestors = ancestors;\n  /**\r\n   * Get the child of a node at a specific index.\r\n   */\n\n  Node.child = function (root, index) {\n    if (Text.isText(root)) {\n      throw new Error(\"Cannot get the child of a text node: \".concat(JSON.stringify(root)));\n    }\n\n    var c = root.children[index];\n\n    if (c == null) {\n      throw new Error(\"Cannot get child at index `\".concat(index, \"` in node: \").concat(JSON.stringify(root)));\n    }\n\n    return c;\n  };\n  /**\r\n   * Find the closest matching node entry starting from a specific path.\r\n   */\n\n\n  Node.closest = function (root, path, predicate) {\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n      for (var _iterator2 = Node.levels(root, path, {\n        reverse: true\n      })[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n        var entry = _step2.value;\n\n        if (predicate(entry)) {\n          return entry;\n        }\n      }\n    } catch (err) {\n      _didIteratorError2 = true;\n      _iteratorError2 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n          _iterator2[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError2) {\n          throw _iteratorError2;\n        }\n      }\n    }\n  };\n  /**\r\n   * Get an entry for the common ancesetor node of two paths.\r\n   */\n\n\n  Node.common = function (root, path, another) {\n    var p = Path.common(path, another);\n    var n = Node.get(root, p);\n    return [n, p];\n  };\n  /**\r\n   * Get the node at a specific path, asserting that it's a descendant node.\r\n   */\n\n\n  Node.descendant = function (root, path) {\n    var node = Node.get(root, path);\n\n    if (Value.isValue(node)) {\n      throw new Error(\"Cannot get the descendant node at path [\".concat(path, \"] because it refers to a value node instead: \").concat(node));\n    }\n\n    return node;\n  };\n  /**\r\n   * Return an iterable of all the descendant node entries inside a root node.\r\n   */\n\n\n  function descendants(root) {\n    var options,\n        _iteratorNormalCompletion3,\n        _didIteratorError3,\n        _iteratorError3,\n        _iterator3,\n        _step3,\n        _step3$value,\n        node,\n        path,\n        _args2 = arguments;\n\n    return regenerator.wrap(function descendants$(_context2) {\n      while (1) {\n        switch (_context2.prev = _context2.next) {\n          case 0:\n            options = _args2.length > 1 && _args2[1] !== undefined ? _args2[1] : {};\n            _iteratorNormalCompletion3 = true;\n            _didIteratorError3 = false;\n            _iteratorError3 = undefined;\n            _context2.prev = 4;\n            _iterator3 = Node.nodes(root, options)[Symbol.iterator]();\n\n          case 6:\n            if (_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done) {\n              _context2.next = 14;\n              break;\n            }\n\n            _step3$value = slicedToArray(_step3.value, 2), node = _step3$value[0], path = _step3$value[1];\n\n            if (!(path.length !== 0)) {\n              _context2.next = 11;\n              break;\n            }\n\n            _context2.next = 11;\n            return [node, path];\n\n          case 11:\n            _iteratorNormalCompletion3 = true;\n            _context2.next = 6;\n            break;\n\n          case 14:\n            _context2.next = 20;\n            break;\n\n          case 16:\n            _context2.prev = 16;\n            _context2.t0 = _context2[\"catch\"](4);\n            _didIteratorError3 = true;\n            _iteratorError3 = _context2.t0;\n\n          case 20:\n            _context2.prev = 20;\n            _context2.prev = 21;\n\n            if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n              _iterator3[\"return\"]();\n            }\n\n          case 23:\n            _context2.prev = 23;\n\n            if (!_didIteratorError3) {\n              _context2.next = 26;\n              break;\n            }\n\n            throw _iteratorError3;\n\n          case 26:\n            return _context2.finish(23);\n\n          case 27:\n            return _context2.finish(20);\n\n          case 28:\n          case \"end\":\n            return _context2.stop();\n        }\n      }\n    }, _marked2, null, [[4, 16, 20, 28], [21,, 23, 27]]);\n  }\n\n  Node.descendants = descendants;\n  /**\r\n   * Return an iterable of all the element nodes inside a root node. Each iteration\r\n   * will return an `ElementEntry` tuple consisting of `[Element, Path]`. If the\r\n   * root node is an element it will be included in the iteration as well.\r\n   */\n\n  function elements(root) {\n    var options,\n        _iteratorNormalCompletion4,\n        _didIteratorError4,\n        _iteratorError4,\n        _iterator4,\n        _step4,\n        _step4$value,\n        node,\n        path,\n        _args3 = arguments;\n\n    return regenerator.wrap(function elements$(_context3) {\n      while (1) {\n        switch (_context3.prev = _context3.next) {\n          case 0:\n            options = _args3.length > 1 && _args3[1] !== undefined ? _args3[1] : {};\n            _iteratorNormalCompletion4 = true;\n            _didIteratorError4 = false;\n            _iteratorError4 = undefined;\n            _context3.prev = 4;\n            _iterator4 = Node.nodes(root, options)[Symbol.iterator]();\n\n          case 6:\n            if (_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done) {\n              _context3.next = 14;\n              break;\n            }\n\n            _step4$value = slicedToArray(_step4.value, 2), node = _step4$value[0], path = _step4$value[1];\n\n            if (!Element.isElement(node)) {\n              _context3.next = 11;\n              break;\n            }\n\n            _context3.next = 11;\n            return [node, path];\n\n          case 11:\n            _iteratorNormalCompletion4 = true;\n            _context3.next = 6;\n            break;\n\n          case 14:\n            _context3.next = 20;\n            break;\n\n          case 16:\n            _context3.prev = 16;\n            _context3.t0 = _context3[\"catch\"](4);\n            _didIteratorError4 = true;\n            _iteratorError4 = _context3.t0;\n\n          case 20:\n            _context3.prev = 20;\n            _context3.prev = 21;\n\n            if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n              _iterator4[\"return\"]();\n            }\n\n          case 23:\n            _context3.prev = 23;\n\n            if (!_didIteratorError4) {\n              _context3.next = 26;\n              break;\n            }\n\n            throw _iteratorError4;\n\n          case 26:\n            return _context3.finish(23);\n\n          case 27:\n            return _context3.finish(20);\n\n          case 28:\n          case \"end\":\n            return _context3.stop();\n        }\n      }\n    }, _marked3, null, [[4, 16, 20, 28], [21,, 23, 27]]);\n  }\n\n  Node.elements = elements;\n  /**\r\n   * Get the first node entry in a root node from a path.\r\n   */\n\n  Node.first = function (root, path) {\n    var p = path.slice();\n    var n = Node.get(root, p);\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break;\n      } else {\n        n = n.children[0];\n        p.push(0);\n      }\n    }\n\n    return [n, p];\n  };\n  /**\r\n   * Get the sliced fragment represented by a range inside a root node.\r\n   */\n\n\n  Node.fragment = function (root, range) {\n    if (Text.isText(root)) {\n      throw new Error(\"Cannot get a fragment starting from a root text node: \".concat(JSON.stringify(root)));\n    }\n\n    var newRoot = produce(root, function (r) {\n      var _Range$edges = Range.edges(range),\n          _Range$edges2 = slicedToArray(_Range$edges, 2),\n          start = _Range$edges2[0],\n          end = _Range$edges2[1];\n\n      var iterable = Node.nodes(r, {\n        reverse: true,\n        pass: function pass(_ref) {\n          var _ref2 = slicedToArray(_ref, 2),\n              path = _ref2[1];\n\n          return !Range.includes(range, path);\n        }\n      });\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = iterable[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var _step5$value = slicedToArray(_step5.value, 2),\n              path = _step5$value[1];\n\n          if (!Range.includes(range, path)) {\n            var parent = Node.parent(r, path);\n            var index = path[path.length - 1];\n            parent.children.splice(index, 1);\n          }\n\n          if (Path.equals(path, end.path)) {\n            var leaf = Node.leaf(r, path);\n            leaf.text = leaf.text.slice(0, end.offset);\n          }\n\n          if (Path.equals(path, start.path)) {\n            var _leaf = Node.leaf(r, path);\n\n            _leaf.text = _leaf.text.slice(start.offset);\n          }\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n            _iterator5[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n\n      delete r.annotations;\n      delete r.selection;\n    });\n    return newRoot.children;\n  };\n  /**\r\n   * Find the furthest matching node entry starting from a specific path.\r\n   */\n\n\n  Node.furthest = function (root, path, predicate) {\n    var _iteratorNormalCompletion6 = true;\n    var _didIteratorError6 = false;\n    var _iteratorError6 = undefined;\n\n    try {\n      for (var _iterator6 = Node.levels(root, path)[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n        var entry = _step6.value;\n\n        if (predicate(entry)) {\n          return entry;\n        }\n      }\n    } catch (err) {\n      _didIteratorError6 = true;\n      _iteratorError6 = err;\n    } finally {\n      try {\n        if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n          _iterator6[\"return\"]();\n        }\n      } finally {\n        if (_didIteratorError6) {\n          throw _iteratorError6;\n        }\n      }\n    }\n  };\n  /**\r\n   * Get the descendant node referred to by a specific path. If the path is an\r\n   * empty array, it refers to the root node itself.\r\n   */\n\n\n  Node.get = function (root, path) {\n    var node = root;\n\n    for (var i = 0; i < path.length; i++) {\n      var p = path[i];\n\n      if (Text.isText(node) || !node.children[p]) {\n        throw new Error(\"Cannot find a descendant at path [\".concat(path, \"] in node: \").concat(JSON.stringify(root)));\n      }\n\n      node = node.children[p];\n    }\n\n    return node;\n  };\n  /**\r\n   * Check if a descendant node exists at a specific path.\r\n   */\n\n\n  Node.has = function (root, path) {\n    var node = root;\n\n    for (var i = 0; i < path.length; i++) {\n      var p = path[i];\n\n      if (Text.isText(node) || !node.children[p]) {\n        return false;\n      }\n\n      node = node.children[p];\n    }\n\n    return true;\n  };\n  /**\r\n   * Check if a value implements the `Node` interface.\r\n   */\n\n\n  Node.isNode = function (value) {\n    return Text.isText(value) || Element.isElement(value) || Value.isValue(value);\n  };\n  /**\r\n   * Check if a value is a list of `Node` objects.\r\n   */\n\n\n  Node.isNodeList = function (value) {\n    return Array.isArray(value) && (value.length === 0 || Node.isNode(value[0]));\n  };\n  /**\r\n   * Get the lash node entry in a root node from a path.\r\n   */\n\n\n  Node.last = function (root, path) {\n    var p = path.slice();\n    var n = Node.get(root, p);\n\n    while (n) {\n      if (Text.isText(n) || n.children.length === 0) {\n        break;\n      } else {\n        var i = n.children.length - 1;\n        n = n.children[i];\n        p.push(i);\n      }\n    }\n\n    return [n, p];\n  };\n  /**\r\n   * Get the node at a specific path, ensuring it's a leaf text node.\r\n   */\n\n\n  Node.leaf = function (root, path) {\n    var node = Node.get(root, path);\n\n    if (!Text.isText(node)) {\n      throw new Error(\"Cannot get the leaf node at path [\".concat(path, \"] because it refers to a non-leaf node: \").concat(node));\n    }\n\n    return node;\n  };\n  /**\r\n   * Return an iterable of the in a branch of the tree, from a specific path.\r\n   *\r\n   * By default the order is top-down, from lowest to highest node in the tree,\r\n   * but you can pass the `reverse: true` option to go bottom-up.\r\n   */\n\n\n  function levels(root, path) {\n    var options,\n        _iteratorNormalCompletion7,\n        _didIteratorError7,\n        _iteratorError7,\n        _iterator7,\n        _step7,\n        p,\n        n,\n        _args4 = arguments;\n\n    return regenerator.wrap(function levels$(_context4) {\n      while (1) {\n        switch (_context4.prev = _context4.next) {\n          case 0:\n            options = _args4.length > 2 && _args4[2] !== undefined ? _args4[2] : {};\n            _iteratorNormalCompletion7 = true;\n            _didIteratorError7 = false;\n            _iteratorError7 = undefined;\n            _context4.prev = 4;\n            _iterator7 = Path.levels(path, options)[Symbol.iterator]();\n\n          case 6:\n            if (_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done) {\n              _context4.next = 14;\n              break;\n            }\n\n            p = _step7.value;\n            n = Node.get(root, p);\n            _context4.next = 11;\n            return [n, p];\n\n          case 11:\n            _iteratorNormalCompletion7 = true;\n            _context4.next = 6;\n            break;\n\n          case 14:\n            _context4.next = 20;\n            break;\n\n          case 16:\n            _context4.prev = 16;\n            _context4.t0 = _context4[\"catch\"](4);\n            _didIteratorError7 = true;\n            _iteratorError7 = _context4.t0;\n\n          case 20:\n            _context4.prev = 20;\n            _context4.prev = 21;\n\n            if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n              _iterator7[\"return\"]();\n            }\n\n          case 23:\n            _context4.prev = 23;\n\n            if (!_didIteratorError7) {\n              _context4.next = 26;\n              break;\n            }\n\n            throw _iteratorError7;\n\n          case 26:\n            return _context4.finish(23);\n\n          case 27:\n            return _context4.finish(20);\n\n          case 28:\n          case \"end\":\n            return _context4.stop();\n        }\n      }\n    }, _marked4, null, [[4, 16, 20, 28], [21,, 23, 27]]);\n  }\n\n  Node.levels = levels;\n  /**\r\n   * Return an iterable of all the marks in all of the text nodes in a root node.\r\n   */\n\n  function marks(root) {\n    var options,\n        _iteratorNormalCompletion8,\n        _didIteratorError8,\n        _iteratorError8,\n        _iterator8,\n        _step8,\n        _step8$value,\n        node,\n        path,\n        i,\n        mark,\n        _args5 = arguments;\n\n    return regenerator.wrap(function marks$(_context5) {\n      while (1) {\n        switch (_context5.prev = _context5.next) {\n          case 0:\n            options = _args5.length > 1 && _args5[1] !== undefined ? _args5[1] : {};\n            _iteratorNormalCompletion8 = true;\n            _didIteratorError8 = false;\n            _iteratorError8 = undefined;\n            _context5.prev = 4;\n            _iterator8 = Node.texts(root, options)[Symbol.iterator]();\n\n          case 6:\n            if (_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done) {\n              _context5.next = 19;\n              break;\n            }\n\n            _step8$value = slicedToArray(_step8.value, 2), node = _step8$value[0], path = _step8$value[1];\n            i = 0;\n\n          case 9:\n            if (!(i < node.marks.length)) {\n              _context5.next = 16;\n              break;\n            }\n\n            mark = node.marks[i];\n            _context5.next = 13;\n            return [mark, i, node, path];\n\n          case 13:\n            i++;\n            _context5.next = 9;\n            break;\n\n          case 16:\n            _iteratorNormalCompletion8 = true;\n            _context5.next = 6;\n            break;\n\n          case 19:\n            _context5.next = 25;\n            break;\n\n          case 21:\n            _context5.prev = 21;\n            _context5.t0 = _context5[\"catch\"](4);\n            _didIteratorError8 = true;\n            _iteratorError8 = _context5.t0;\n\n          case 25:\n            _context5.prev = 25;\n            _context5.prev = 26;\n\n            if (!_iteratorNormalCompletion8 && _iterator8[\"return\"] != null) {\n              _iterator8[\"return\"]();\n            }\n\n          case 28:\n            _context5.prev = 28;\n\n            if (!_didIteratorError8) {\n              _context5.next = 31;\n              break;\n            }\n\n            throw _iteratorError8;\n\n          case 31:\n            return _context5.finish(28);\n\n          case 32:\n            return _context5.finish(25);\n\n          case 33:\n          case \"end\":\n            return _context5.stop();\n        }\n      }\n    }, _marked5, null, [[4, 21, 25, 33], [26,, 28, 32]]);\n  }\n\n  Node.marks = marks;\n  /**\r\n   * Return an iterable of all the node entries of a root node. Each entry is\r\n   * returned as a `[Node, Path]` tuple, with the path referring to the node's\r\n   * position inside the root node.\r\n   */\n\n  function nodes(root) {\n    var options,\n        pass,\n        _options$reverse,\n        reverse,\n        _options$from,\n        from,\n        to,\n        visited,\n        p,\n        n,\n        nextIndex,\n        newPath,\n        _newPath,\n        _args6 = arguments;\n\n    return regenerator.wrap(function nodes$(_context6) {\n      while (1) {\n        switch (_context6.prev = _context6.next) {\n          case 0:\n            options = _args6.length > 1 && _args6[1] !== undefined ? _args6[1] : {};\n            pass = options.pass, _options$reverse = options.reverse, reverse = _options$reverse === void 0 ? false : _options$reverse;\n            _options$from = options.from, from = _options$from === void 0 ? [] : _options$from, to = options.to;\n            visited = new Set();\n            p = [];\n            n = root;\n\n          case 6:\n\n            if (!(to && (reverse ? Path.isBefore(p, to) : Path.isAfter(p, to)))) {\n              _context6.next = 9;\n              break;\n            }\n\n            return _context6.abrupt(\"break\", 37);\n\n          case 9:\n            if (visited.has(n)) {\n              _context6.next = 12;\n              break;\n            }\n\n            _context6.next = 12;\n            return [n, p];\n\n          case 12:\n            if (!(!visited.has(n) && !Text.isText(n) && n.children.length !== 0 && (pass == null || pass([n, p]) === false))) {\n              _context6.next = 19;\n              break;\n            }\n\n            visited.add(n);\n            nextIndex = reverse ? n.children.length - 1 : 0;\n\n            if (Path.isAncestor(p, from)) {\n              nextIndex = from[p.length];\n            }\n\n            p = p.concat(nextIndex);\n            n = Node.get(root, p);\n            return _context6.abrupt(\"continue\", 6);\n\n          case 19:\n            if (!(p.length === 0)) {\n              _context6.next = 21;\n              break;\n            }\n\n            return _context6.abrupt(\"break\", 37);\n\n          case 21:\n            if (reverse) {\n              _context6.next = 27;\n              break;\n            }\n\n            newPath = Path.next(p);\n\n            if (!Node.has(root, newPath)) {\n              _context6.next = 27;\n              break;\n            }\n\n            p = newPath;\n            n = Node.get(root, p);\n            return _context6.abrupt(\"continue\", 6);\n\n          case 27:\n            if (!(reverse && p[p.length - 1] !== 0)) {\n              _context6.next = 32;\n              break;\n            }\n\n            _newPath = Path.previous(p);\n            p = _newPath;\n            n = Node.get(root, p);\n            return _context6.abrupt(\"continue\", 6);\n\n          case 32:\n            // Otherwise we're going upward...\n            p = Path.parent(p);\n            n = Node.get(root, p);\n            visited.add(n);\n            _context6.next = 6;\n            break;\n\n          case 37:\n          case \"end\":\n            return _context6.stop();\n        }\n      }\n    }, _marked6);\n  }\n\n  Node.nodes = nodes;\n  /**\r\n   * Get the parent of a node at a specific path.\r\n   */\n\n  Node.parent = function (root, path) {\n    var parentPath = Path.parent(path);\n    var p = Node.get(root, parentPath);\n\n    if (Text.isText(p)) {\n      throw new Error(\"Cannot get the parent of path [\".concat(path, \"] because it does not exist in the root.\"));\n    }\n\n    return p;\n  };\n  /**\r\n   * Get the concatenated text string of a node's content.\r\n   *\r\n   * Note that this will not include spaces or line breaks between block nodes.\r\n   * It is not a user-facing string, but a string for performing offset-related\r\n   * computations for a node.\r\n   */\n\n\n  Node.text = function (node) {\n    if (Text.isText(node)) {\n      return node.text;\n    } else {\n      return node.children.map(Node.text).join('');\n    }\n  };\n  /**\r\n   * Return an iterable of all leaf text nodes in a root node.\r\n   */\n\n\n  function texts(root) {\n    var options,\n        _iteratorNormalCompletion9,\n        _didIteratorError9,\n        _iteratorError9,\n        _iterator9,\n        _step9,\n        _step9$value,\n        node,\n        path,\n        _args7 = arguments;\n\n    return regenerator.wrap(function texts$(_context7) {\n      while (1) {\n        switch (_context7.prev = _context7.next) {\n          case 0:\n            options = _args7.length > 1 && _args7[1] !== undefined ? _args7[1] : {};\n            _iteratorNormalCompletion9 = true;\n            _didIteratorError9 = false;\n            _iteratorError9 = undefined;\n            _context7.prev = 4;\n            _iterator9 = Node.nodes(root, options)[Symbol.iterator]();\n\n          case 6:\n            if (_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done) {\n              _context7.next = 14;\n              break;\n            }\n\n            _step9$value = slicedToArray(_step9.value, 2), node = _step9$value[0], path = _step9$value[1];\n\n            if (!Text.isText(node)) {\n              _context7.next = 11;\n              break;\n            }\n\n            _context7.next = 11;\n            return [node, path];\n\n          case 11:\n            _iteratorNormalCompletion9 = true;\n            _context7.next = 6;\n            break;\n\n          case 14:\n            _context7.next = 20;\n            break;\n\n          case 16:\n            _context7.prev = 16;\n            _context7.t0 = _context7[\"catch\"](4);\n            _didIteratorError9 = true;\n            _iteratorError9 = _context7.t0;\n\n          case 20:\n            _context7.prev = 20;\n            _context7.prev = 21;\n\n            if (!_iteratorNormalCompletion9 && _iterator9[\"return\"] != null) {\n              _iterator9[\"return\"]();\n            }\n\n          case 23:\n            _context7.prev = 23;\n\n            if (!_didIteratorError9) {\n              _context7.next = 26;\n              break;\n            }\n\n            throw _iteratorError9;\n\n          case 26:\n            return _context7.finish(23);\n\n          case 27:\n            return _context7.finish(20);\n\n          case 28:\n          case \"end\":\n            return _context7.stop();\n        }\n      }\n    }, _marked7, null, [[4, 16, 20, 28], [21,, 23, 27]]);\n  }\n\n  Node.texts = texts;\n})(Node || (Node = {}));\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nvar defineProperty = _defineProperty;\n\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Operation;\n\n(function (Operation) {\n  /**\r\n   * Check of a value is an `AnnotationOperation` object.\r\n   */\n  Operation.isAnnotationOperation = function (value) {\n    return Operation.isOperation(value) && value.type.endsWith('_annotation');\n  };\n  /**\r\n   * Check of a value is a `NodeOperation` object.\r\n   */\n\n\n  Operation.isNodeOperation = function (value) {\n    return Operation.isOperation(value) && value.type.endsWith('_node');\n  };\n  /**\r\n   * Check of a value is a `MarkOperation` object.\r\n   */\n\n\n  Operation.isMarkOperation = function (value) {\n    return Operation.isOperation(value) && value.type.endsWith('_mark');\n  };\n  /**\r\n   * Check of a value is an `Operation` object.\r\n   */\n\n\n  Operation.isOperation = function (value) {\n    if (!isPlainObject(value)) {\n      return false;\n    }\n\n    switch (value.type) {\n      case 'add_mark':\n        {\n          return Path.isPath(value.path) && Mark.isMark(value.mark);\n        }\n\n      case 'add_annotation':\n        {\n          return typeof value.key === 'string' && Range.isRange(value.annotation);\n        }\n\n      case 'insert_node':\n        {\n          return Path.isPath(value.path) && Node.isNode(value.node);\n        }\n\n      case 'insert_text':\n        {\n          return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n        }\n\n      case 'merge_node':\n        {\n          return typeof value.position === 'number' && (typeof value.target === 'number' || value.target === null) && Path.isPath(value.path) && isPlainObject(value.properties);\n        }\n\n      case 'move_node':\n        {\n          return Path.isPath(value.path) && Path.isPath(value.newPath);\n        }\n\n      case 'remove_annotation':\n        {\n          return typeof value.key === 'string' && Range.isRange(value.annotation);\n        }\n\n      case 'remove_mark':\n        {\n          return Path.isPath(value.path) && Mark.isMark(value.mark);\n        }\n\n      case 'remove_node':\n        {\n          return Path.isPath(value.path) && Node.isNode(value.node);\n        }\n\n      case 'remove_text':\n        {\n          return typeof value.offset === 'number' && typeof value.text === 'string' && Path.isPath(value.path);\n        }\n\n      case 'set_annotation':\n        {\n          return typeof value.key === 'string' && isPlainObject(value.properties) && isPlainObject(value.newProperties);\n        }\n\n      case 'set_mark':\n        {\n          return Path.isPath(value.path) && isPlainObject(value.properties) && isPlainObject(value.newProperties);\n        }\n\n      case 'set_node':\n        {\n          return Path.isPath(value.path) && isPlainObject(value.properties) && isPlainObject(value.newProperties);\n        }\n\n      case 'set_selection':\n        {\n          return isPlainObject(value.properties) && isPlainObject(value.newProperties);\n        }\n\n      case 'set_value':\n        {\n          return isPlainObject(value.properties) && isPlainObject(value.newProperties);\n        }\n\n      case 'split_node':\n        {\n          return Path.isPath(value.path) && typeof value.position === 'number' && (typeof value.target === 'number' || value.target === null) && isPlainObject(value.properties);\n        }\n\n      default:\n        {\n          return false;\n        }\n    }\n  };\n  /**\r\n   * Check if a value is a list of `Operation` objects.\r\n   */\n\n\n  Operation.isOperationList = function (value) {\n    return Array.isArray(value) && (value.length === 0 || Operation.isOperation(value[0]));\n  };\n  /**\r\n   * Check of a value is a `SelectionOperation` object.\r\n   */\n\n\n  Operation.isSelectionOperation = function (value) {\n    return Operation.isOperation(value) && value.type.endsWith('_selection');\n  };\n  /**\r\n   * Check of a value is a `TextOperation` object.\r\n   */\n\n\n  Operation.isTextOperation = function (value) {\n    return Operation.isOperation(value) && value.type.endsWith('_text');\n  };\n  /**\r\n   * Check of a value is a `ValueOperation` object.\r\n   */\n\n\n  Operation.isValueOperation = function (value) {\n    return Operation.isOperation(value) && value.type.endsWith('_value');\n  };\n  /**\r\n   * Invert an operation, returning a new operation that will exactly undo the\r\n   * original when applied.\r\n   */\n\n\n  Operation.inverse = function (op) {\n    switch (op.type) {\n      case 'add_annotation':\n        {\n          return _objectSpread({}, op, {\n            type: 'remove_annotation'\n          });\n        }\n\n      case 'add_mark':\n        {\n          return _objectSpread({}, op, {\n            type: 'remove_mark'\n          });\n        }\n\n      case 'insert_node':\n        {\n          return _objectSpread({}, op, {\n            type: 'remove_node'\n          });\n        }\n\n      case 'insert_text':\n        {\n          return _objectSpread({}, op, {\n            type: 'remove_text'\n          });\n        }\n\n      case 'merge_node':\n        {\n          return _objectSpread({}, op, {\n            type: 'split_node',\n            path: Path.previous(op.path)\n          });\n        }\n\n      case 'move_node':\n        {\n          var newPath = op.newPath,\n              path = op.path; // PERF: in this case the move operation is a no-op anyways.\n\n          if (Path.equals(newPath, path)) {\n            return op;\n          } // We need to get the original path here, but sometimes the `newPath`\n          // is a younger sibling of (or ends before) the original, and this\n          // accounts for it.\n\n\n          var inversePath = Path.transform(path, op);\n          var inverseNewPath = Path.transform(Path.next(path), op);\n          return _objectSpread({}, op, {\n            path: inversePath,\n            newPath: inverseNewPath\n          });\n        }\n\n      case 'remove_annotation':\n        {\n          return _objectSpread({}, op, {\n            type: 'add_annotation'\n          });\n        }\n\n      case 'remove_mark':\n        {\n          return _objectSpread({}, op, {\n            type: 'add_mark'\n          });\n        }\n\n      case 'remove_node':\n        {\n          return _objectSpread({}, op, {\n            type: 'insert_node'\n          });\n        }\n\n      case 'remove_text':\n        {\n          return _objectSpread({}, op, {\n            type: 'insert_text'\n          });\n        }\n\n      case 'set_annotation':\n      case 'set_mark':\n      case 'set_node':\n      case 'set_value':\n        {\n          var properties = op.properties,\n              newProperties = op.newProperties;\n          return _objectSpread({}, op, {\n            properties: newProperties,\n            newProperties: properties\n          });\n        }\n\n      case 'set_selection':\n        {\n          var _properties = op.properties,\n              _newProperties = op.newProperties;\n\n          if (_properties == null) {\n            return _objectSpread({}, op, {\n              properties: _newProperties,\n              newProperties: null\n            });\n          } else if (_newProperties == null) {\n            return _objectSpread({}, op, {\n              properties: null,\n              newProperties: _properties\n            });\n          } else {\n            return _objectSpread({}, op, {\n              properties: _newProperties,\n              newProperties: _properties\n            });\n          }\n        }\n\n      case 'split_node':\n        {\n          return _objectSpread({}, op, {\n            type: 'merge_node',\n            path: Path.next(op.path)\n          });\n        }\n    }\n  };\n})(Operation || (Operation = {}));\n\nvar Path;\n\n(function (Path) {\n  /**\r\n   * Get a list of ancestor paths for a given path.\r\n   *\r\n   * The paths are sorted from deepest to shallowest ancestor. However, if the\r\n   * `reverse: true` option is passed, they are reversed.\r\n   */\n  Path.ancestors = function (path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$reverse = options.reverse,\n        reverse = _options$reverse === void 0 ? false : _options$reverse;\n    var paths = Path.levels(path, options);\n\n    if (reverse) {\n      paths = paths.slice(1);\n    } else {\n      paths = paths.slice(0, -1);\n    }\n\n    return paths;\n  };\n  /**\r\n   * Get the common ancestor path of two paths.\r\n   */\n\n\n  Path.common = function (path, another) {\n    var common = [];\n\n    for (var i = 0; i < path.length && i < another.length; i++) {\n      var av = path[i];\n      var bv = another[i];\n\n      if (av !== bv) {\n        break;\n      }\n\n      common.push(av);\n    }\n\n    return common;\n  };\n  /**\r\n   * Compare a path to another, returning an integer indicating whether the path\r\n   * was before, at, or after the other.\r\n   *\r\n   * Note: Two paths of unequal length can still receive a `0` result if one is\r\n   * directly above or below the other. If you want exact matching, use\r\n   * [[Path.equals]] instead.\r\n   */\n\n\n  Path.compare = function (path, another) {\n    var min = Math.min(path.length, another.length);\n\n    for (var i = 0; i < min; i++) {\n      if (path[i] < another[i]) return -1;\n      if (path[i] > another[i]) return 1;\n    }\n\n    return 0;\n  };\n  /**\r\n   * Check if a path ends after one of the indexes in another.\r\n   */\n\n\n  Path.endsAfter = function (path, another) {\n    var i = path.length - 1;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    var av = path[i];\n    var bv = another[i];\n    return Path.equals(as, bs) && av > bv;\n  };\n  /**\r\n   * Check if a path ends at one of the indexes in another.\r\n   */\n\n\n  Path.endsAt = function (path, another) {\n    var i = path.length;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    return Path.equals(as, bs);\n  };\n  /**\r\n   * Check if a path ends before one of the indexes in another.\r\n   */\n\n\n  Path.endsBefore = function (path, another) {\n    var i = path.length - 1;\n    var as = path.slice(0, i);\n    var bs = another.slice(0, i);\n    var av = path[i];\n    var bv = another[i];\n    return Path.equals(as, bs) && av < bv;\n  };\n  /**\r\n   * Check if a path is exactly equal to another.\r\n   */\n\n\n  Path.equals = function (path, another) {\n    return path.length === another.length && path.every(function (n, i) {\n      return n === another[i];\n    });\n  };\n  /**\r\n   * Check if a path is after another.\r\n   */\n\n\n  Path.isAfter = function (path, another) {\n    return Path.compare(path, another) === 1;\n  };\n  /**\r\n   * Check if a path is an ancestor of another.\r\n   */\n\n\n  Path.isAncestor = function (path, another) {\n    return path.length < another.length && Path.compare(path, another) === 0;\n  };\n  /**\r\n   * Check if a path is before another.\r\n   */\n\n\n  Path.isBefore = function (path, another) {\n    return Path.compare(path, another) === -1;\n  };\n  /**\r\n   * Check if a path is a child of another.\r\n   */\n\n\n  Path.isChild = function (path, another) {\n    return path.length === another.length + 1 && Path.compare(path, another) === 0;\n  };\n  /**\r\n   * Check if a path is equal to or an ancestor of another.\r\n   */\n\n\n  Path.isCommon = function (path, another) {\n    return path.length <= another.length && Path.compare(path, another) === 0;\n  };\n  /**\r\n   * Check if a path is a descendant of another.\r\n   */\n\n\n  Path.isDescendant = function (path, another) {\n    return path.length > another.length && Path.compare(path, another) === 0;\n  };\n  /**\r\n   * Check if a path is the parent of another.\r\n   */\n\n\n  Path.isParent = function (path, another) {\n    return path.length + 1 === another.length && Path.compare(path, another) === 0;\n  };\n  /**\r\n   * Check is a value implements the `Path` interface.\r\n   */\n\n\n  Path.isPath = function (value) {\n    return Array.isArray(value) && (value.length === 0 || typeof value[0] === 'number');\n  };\n  /**\r\n   * Check if a path is a sibling of another.\r\n   */\n\n\n  Path.isSibling = function (path, another) {\n    if (path.length !== another.length) {\n      return false;\n    }\n\n    var as = path.slice(0, -1);\n    var bs = another.slice(0, -1);\n    var al = path[path.length - 1];\n    var bl = another[another.length - 1];\n    return al !== bl && Path.equals(as, bs);\n  };\n  /**\r\n   * Get a list of paths at every level down to a path. Note: this is the same\r\n   * as `Path.ancestors`, but including the path itself.\r\n   *\r\n   * The paths are sorted from shallowest to deepest. However, if the `reverse:\r\n   * true` option is passed, they are reversed.\r\n   */\n\n\n  Path.levels = function (path) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$reverse2 = options.reverse,\n        reverse = _options$reverse2 === void 0 ? false : _options$reverse2;\n    var list = [];\n\n    for (var i = 0; i <= path.length; i++) {\n      list.push(path.slice(0, i));\n    }\n\n    if (reverse) {\n      list.reverse();\n    }\n\n    return list;\n  };\n  /**\r\n   * Given a path, get the path to the next sibling node.\r\n   */\n\n\n  Path.next = function (path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the next path of a root path [\".concat(path, \"], because it has no next index.\"));\n    }\n\n    var last = path[path.length - 1];\n    return path.slice(0, -1).concat(last + 1);\n  };\n  /**\r\n   * Given a path, return a new path referring to the parent node above it.\r\n   */\n\n\n  Path.parent = function (path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the parent path of the root path [\".concat(path, \"].\"));\n    }\n\n    return path.slice(0, -1);\n  };\n  /**\r\n   * Given a path, get the path to the previous sibling node.\r\n   */\n\n\n  Path.previous = function (path) {\n    if (path.length === 0) {\n      throw new Error(\"Cannot get the previous path of a root path [\".concat(path, \"], because it has no previous index.\"));\n    }\n\n    var last = path[path.length - 1];\n\n    if (last <= 0) {\n      throw new Error(\"Cannot get the previous path of a first child path [\".concat(path, \"] because it would result in a negative index.\"));\n    }\n\n    return path.slice(0, -1).concat(last - 1);\n  };\n  /**\r\n   * Get a path relative to an ancestor.\r\n   */\n\n\n  Path.relative = function (path, ancestor) {\n    if (!Path.isAncestor(ancestor, path) && !Path.equals(path, ancestor)) {\n      throw new Error(\"Cannot get the relative path of [\".concat(path, \"] inside ancestor [\").concat(ancestor, \"], because it is not above or equal to the path.\"));\n    }\n\n    return path.slice(ancestor.length);\n  };\n  /**\r\n   * Transform a path by an operation.\r\n   */\n\n\n  Path.transform = function (path, operation) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return produce(path, function (p) {\n      var _options$affinity = options.affinity,\n          affinity = _options$affinity === void 0 ? 'forward' : _options$affinity; // PERF: Exit early if the operation is guaranteed not to have an effect.\n\n      if (path.length === 0) {\n        return;\n      }\n\n      switch (operation.type) {\n        case 'insert_node':\n          {\n            var op = operation.path;\n\n            if (Path.equals(op, p) || Path.endsBefore(op, p) || Path.isAncestor(op, p)) {\n              p[op.length - 1] += 1;\n            }\n\n            break;\n          }\n\n        case 'remove_node':\n          {\n            var _op = operation.path;\n\n            if (Path.equals(_op, p) || Path.isAncestor(_op, p)) {\n              return null;\n            } else if (Path.endsBefore(_op, p)) {\n              p[_op.length - 1] -= 1;\n            }\n\n            break;\n          }\n\n        case 'merge_node':\n          {\n            var _op2 = operation.path,\n                position = operation.position;\n\n            if (Path.equals(_op2, p) || Path.endsBefore(_op2, p)) {\n              p[_op2.length - 1] -= 1;\n            } else if (Path.isAncestor(_op2, p)) {\n              p[_op2.length - 1] -= 1;\n              p[_op2.length] += position;\n            }\n\n            break;\n          }\n\n        case 'split_node':\n          {\n            var _op3 = operation.path,\n                _position = operation.position;\n\n            if (Path.equals(_op3, p)) {\n              if (affinity === 'forward') {\n                p[p.length - 1] += 1;\n              } else if (affinity === 'backward') ; else {\n                return null;\n              }\n            } else if (Path.endsBefore(_op3, p)) {\n              p[_op3.length - 1] += 1;\n            } else if (Path.isAncestor(_op3, p) && path[_op3.length] >= _position) {\n              p[_op3.length - 1] += 1;\n              p[_op3.length] -= _position;\n            }\n\n            break;\n          }\n\n        case 'move_node':\n          {\n            var _op4 = operation.path,\n                onp = operation.newPath; // If the old and new path are the same, it's a no-op.\n\n            if (Path.equals(_op4, onp)) {\n              return;\n            }\n\n            if (Path.isAncestor(_op4, p) || Path.equals(_op4, p)) {\n              var copy = onp.slice();\n\n              if (Path.endsBefore(_op4, onp) && _op4.length < onp.length) {\n                var i = Math.min(onp.length, _op4.length) - 1;\n                copy[i] -= 1;\n              }\n\n              return copy.concat(p.slice(_op4.length));\n            } else if (Path.endsBefore(onp, p) || Path.equals(onp, p) || Path.isAncestor(onp, p)) {\n              if (Path.endsBefore(_op4, p)) {\n                p[_op4.length - 1] -= 1;\n              }\n\n              p[onp.length - 1] += 1;\n            } else if (Path.endsBefore(_op4, p)) {\n              if (Path.equals(onp, p)) {\n                p[onp.length - 1] += 1;\n              }\n\n              p[_op4.length - 1] -= 1;\n            }\n\n            break;\n          }\n      }\n    });\n  };\n})(Path || (Path = {}));\n\nfunction ownKeys$1(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$1(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$1(source, true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$1(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Point;\n\n(function (Point) {\n  /**\r\n   * Compare a point to another, returning an integer indicating whether the\r\n   * point was before, at, or after the other.\r\n   */\n  Point.compare = function (point, another) {\n    var result = Path.compare(point.path, another.path);\n\n    if (result === 0) {\n      if (point.offset < another.offset) return -1;\n      if (point.offset > another.offset) return 1;\n      return 0;\n    }\n\n    return result;\n  };\n  /**\r\n   * Check if a point is after another.\r\n   */\n\n\n  Point.isAfter = function (point, another) {\n    return Point.compare(point, another) === 1;\n  };\n  /**\r\n   * Check if a point is before another.\r\n   */\n\n\n  Point.isBefore = function (point, another) {\n    return Point.compare(point, another) === -1;\n  };\n  /**\r\n   * Check if a point is exactly equal to another.\r\n   */\n\n\n  Point.equals = function (point, another) {\n    // PERF: We could compare to a result of `0` here, but it's slightly faster\n    // to first ensure the offsets are equal and to use `Path.equals`.\n    return point.offset === another.offset && Path.equals(point.path, another.path);\n  };\n  /**\r\n   * Check if a value implements the `Point` interface.\r\n   */\n\n\n  Point.isPoint = function (value) {\n    return isPlainObject(value) && typeof value.offset === 'number' && Path.isPath(value.path);\n  };\n  /**\r\n   * Transform a point by an operation.\r\n   */\n\n\n  Point.transform = function (point, op) {\n    var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n    return produce(point, function (p) {\n      var _options$affinity = options.affinity,\n          affinity = _options$affinity === void 0 ? 'forward' : _options$affinity;\n      var path = p.path,\n          offset = p.offset;\n\n      switch (op.type) {\n        case 'insert_node':\n        case 'move_node':\n          {\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'insert_text':\n          {\n            if (Path.equals(op.path, path) && op.offset <= offset) {\n              p.offset += op.text.length;\n            }\n\n            break;\n          }\n\n        case 'merge_node':\n          {\n            if (Path.equals(op.path, path)) {\n              p.offset += op.position;\n            }\n\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'remove_text':\n          {\n            if (Path.equals(op.path, path) && op.offset <= offset) {\n              p.offset -= Math.min(offset - op.offset, op.text.length);\n            }\n\n            break;\n          }\n\n        case 'remove_node':\n          {\n            if (Path.equals(op.path, path) || Path.isAncestor(op.path, path)) {\n              return null;\n            }\n\n            p.path = Path.transform(path, op, options);\n            break;\n          }\n\n        case 'split_node':\n          {\n            if (Path.equals(op.path, path)) {\n              if (op.position === offset && affinity == null) {\n                return null;\n              } else if (op.position < offset || op.position === offset && affinity === 'forward') {\n                p.offset -= op.position;\n                p.path = Path.transform(path, op, _objectSpread$1({}, options, {\n                  affinity: 'forward'\n                }));\n              }\n            } else {\n              p.path = Path.transform(path, op, options);\n            }\n\n            break;\n          }\n      }\n    });\n  };\n})(Point || (Point = {}));\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nvar objectWithoutPropertiesLoose = _objectWithoutPropertiesLoose;\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar objectWithoutProperties = _objectWithoutProperties;\n\nfunction ownKeys$2(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$2(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$2(source, true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$2(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Range;\n\n(function (Range) {\n  Range.start = function (range) {\n    var _Range$edges = Range.edges(range),\n        _Range$edges2 = slicedToArray(_Range$edges, 1),\n        start = _Range$edges2[0];\n\n    return start;\n  };\n\n  Range.end = function (range) {\n    var _Range$edges3 = Range.edges(range),\n        _Range$edges4 = slicedToArray(_Range$edges3, 2),\n        end = _Range$edges4[1];\n\n    return end;\n  };\n\n  Range.intersection = function (range, another) {\n    var anchor = range.anchor,\n        focus = range.focus,\n        rest = objectWithoutProperties(range, [\"anchor\", \"focus\"]);\n\n    var _Range$edges5 = Range.edges(range),\n        _Range$edges6 = slicedToArray(_Range$edges5, 2),\n        s1 = _Range$edges6[0],\n        e1 = _Range$edges6[1];\n\n    var _Range$edges7 = Range.edges(another),\n        _Range$edges8 = slicedToArray(_Range$edges7, 2),\n        s2 = _Range$edges8[0],\n        e2 = _Range$edges8[1];\n\n    var start = Point.isBefore(s1, s2) ? s2 : s1;\n    var end = Point.isBefore(e1, e2) ? e1 : e2;\n\n    if (Point.isBefore(end, start)) {\n      return null;\n    } else {\n      return _objectSpread$2({\n        anchor: start,\n        focus: end\n      }, rest);\n    }\n  };\n  /**\r\n   * Check if a range is exactly equal to another.\r\n   */\n\n\n  Range.equals = function (range, another) {\n    return Point.equals(range.anchor, another.anchor) && Point.equals(range.focus, another.focus);\n  };\n  /**\r\n   * Check if a range exists in a list or map of ranges.\r\n   */\n\n\n  Range.exists = function (range, target) {\n    if (Range.isRangeList(target)) {\n      return !!target.find(function (r) {\n        return Range.equals(r, range);\n      });\n    }\n\n    if (Range.isRangeMap(target)) {\n      for (var key in target) {\n        if (Range.equals(range, target[key])) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  };\n  /**\r\n   * Check if a range includes a path, a point or part of another range.\r\n   */\n\n\n  Range.includes = function (range, target) {\n    if (Range.isRange(target)) {\n      if (Range.includes(range, target.anchor) || Range.includes(range, target.focus)) {\n        return true;\n      }\n\n      var _Range$edges9 = Range.edges(range),\n          _Range$edges10 = slicedToArray(_Range$edges9, 2),\n          rs = _Range$edges10[0],\n          re = _Range$edges10[1];\n\n      var _Range$edges11 = Range.edges(target),\n          _Range$edges12 = slicedToArray(_Range$edges11, 2),\n          ts = _Range$edges12[0],\n          te = _Range$edges12[1];\n\n      return Point.isBefore(rs, ts) && Point.isAfter(re, te);\n    }\n\n    var _Range$edges13 = Range.edges(range),\n        _Range$edges14 = slicedToArray(_Range$edges13, 2),\n        start = _Range$edges14[0],\n        end = _Range$edges14[1];\n\n    var isAfterStart = false;\n    var isBeforeEnd = false;\n\n    if (Point.isPoint(target)) {\n      isAfterStart = Point.compare(target, start) >= 0;\n      isBeforeEnd = Point.compare(target, end) <= 0;\n    } else {\n      isAfterStart = Path.compare(target, start.path) >= 0;\n      isBeforeEnd = Path.compare(target, end.path) <= 0;\n    }\n\n    return isAfterStart && isBeforeEnd;\n  };\n  /**\r\n   * Check if a range is backward, meaning that its anchor point appears in the\r\n   * document _after_ its focus point.\r\n   */\n\n\n  Range.isBackward = function (range) {\n    var anchor = range.anchor,\n        focus = range.focus;\n    return Point.isAfter(anchor, focus);\n  };\n  /**\r\n   * Check if a range is collapsed, meaning that both its anchor and focus\r\n   * points refer to the exact same position in the document.\r\n   */\n\n\n  Range.isCollapsed = function (range) {\n    var anchor = range.anchor,\n        focus = range.focus;\n    return Point.equals(anchor, focus);\n  };\n  /**\r\n   * Check if a range is expanded.\r\n   *\r\n   * This is the opposite of [[Range.isCollapsed]] and is provided for legibility.\r\n   */\n\n\n  Range.isExpanded = function (range) {\n    return !Range.isCollapsed(range);\n  };\n  /**\r\n   * Check if a range is forward.\r\n   *\r\n   * This is the opposite of [[Range.isBackward]] and is provided for legibility.\r\n   */\n\n\n  Range.isForward = function (range) {\n    return !Range.isBackward(range);\n  };\n  /**\r\n   * Check if a value implements the [[Range]] interface.\r\n   */\n\n\n  Range.isRange = function (value) {\n    return isPlainObject(value) && Point.isPoint(value.anchor) && Point.isPoint(value.focus);\n  };\n  /**\r\n   * Check if a value is an array of `Range` objects.\r\n   */\n\n\n  Range.isRangeList = function (value) {\n    return Array.isArray(value) && (value.length === 0 || Range.isRange(value[0]));\n  };\n  /**\r\n   * Check if a value is a map of `Range` objects.\r\n   */\n\n\n  Range.isRangeMap = function (value) {\n    if (!isPlainObject(value)) {\n      return false;\n    }\n\n    for (var key in value) {\n      return Range.isRange(value[key]);\n    }\n\n    return true;\n  };\n  /**\r\n   * Get the start and end points of a range, in the order in which they appear\r\n   * in the document.\r\n   */\n\n\n  Range.edges = function (range) {\n    var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    var _options$reverse = options.reverse,\n        reverse = _options$reverse === void 0 ? false : _options$reverse;\n    var anchor = range.anchor,\n        focus = range.focus;\n    return Range.isBackward(range) === reverse ? [anchor, focus] : [focus, anchor];\n  };\n  /**\r\n   * Transform a range by an operation.\r\n   */\n\n\n  Range.transform = function (range, op, options) {\n    var _options$affinity = options.affinity,\n        affinity = _options$affinity === void 0 ? 'inward' : _options$affinity;\n    var affinityAnchor;\n    var affinityFocus;\n\n    if (affinity === 'inward') {\n      if (Range.isForward(range)) {\n        affinityAnchor = 'forward';\n        affinityFocus = 'backward';\n      } else {\n        affinityAnchor = 'backward';\n        affinityFocus = 'forward';\n      }\n    } else if (affinity === 'outward') {\n      if (Range.isForward(range)) {\n        affinityAnchor = 'backward';\n        affinityFocus = 'forward';\n      } else {\n        affinityAnchor = 'forward';\n        affinityFocus = 'backward';\n      }\n    } else {\n      affinityAnchor = affinity;\n      affinityFocus = affinity;\n    }\n\n    return produce(range, function (r) {\n      var anchor = Point.transform(r.anchor, op, {\n        affinity: affinityAnchor\n      });\n      var focus = Point.transform(r.focus, op, {\n        affinity: affinityFocus\n      });\n\n      if (!anchor || !focus) {\n        return null;\n      }\n\n      r.anchor = anchor;\n      r.focus = focus;\n    });\n  };\n})(Range || (Range = {}));\n\nvar Text;\n\n(function (Text) {\n  /**\r\n   * Check if a value implements the `Text` interface.\r\n   */\n  Text.isText = function (value) {\n    return isPlainObject(value) && typeof value.text === 'string' && Array.isArray(value.marks);\n  };\n  /**\r\n   * Check if a value is a list of `Text` objects.\r\n   */\n\n\n  Text.isTextList = function (value) {\n    return Array.isArray(value) && (value.length === 0 || Text.isText(value[0]));\n  };\n  /**\r\n   * Check if an text matches set of properties.\r\n   *\r\n   * Note: this is for matching custom properties, and it does not ensure that\r\n   * the `text` property are two nodes equal. However, if `marks` are passed it\r\n   * will ensure that the set of marks is exactly equal.\r\n   */\n\n\n  Text.matches = function (text, props) {\n    for (var key in props) {\n      if (key === 'text') {\n        continue;\n      }\n\n      if (key === 'marks' && props.marks != null) {\n        var existing = text.marks;\n        var marks = props.marks; // PERF: If the lengths aren't the same, we know it's not a match.\n\n        if (existing.length !== marks.length) {\n          return false;\n        }\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = existing[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var m = _step.value;\n\n            if (!Mark.exists(m, marks)) {\n              return false;\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = marks[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _m = _step2.value;\n\n            if (!Mark.exists(_m, existing)) {\n              return false;\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n\n        continue;\n      }\n\n      if (text[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n})(Text || (Text = {}));\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nvar arrayWithoutHoles = _arrayWithoutHoles;\n\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nvar iterableToArray = _iterableToArray;\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nvar nonIterableSpread = _nonIterableSpread;\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nvar toConsumableArray = _toConsumableArray;\n\nfunction ownKeys$3(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$3(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$3(source, true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$3(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\nvar Value;\n\n(function (Value) {\n  var _marked =\n  /*#__PURE__*/\n  regenerator.mark(points);\n\n  /**\r\n   * Check if a value implements the `Value` interface.\r\n   */\n  Value.isValue = function (value) {\n    return isPlainObject(value) && (value.selection === null || Range.isRange(value.selection)) && Node.isNodeList(value.children) && Range.isRangeMap(value.annotations);\n  };\n  /**\r\n   * Check if a value matches a set of properties.\r\n   *\r\n   * Note: the is for checking custom properties, and it does not ensure that\r\n   * any children in the `nodes` property are equal.\r\n   */\n\n\n  Value.matches = function (value, props) {\n    for (var key in props) {\n      if (key === 'annotations' || key === 'children' || key === 'selection') {\n        continue;\n      }\n\n      if (value[key] !== props[key]) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n  /**\r\n   * Iterate through all of the point objects in a value.\r\n   */\n\n\n  function points(value) {\n    var selection, annotations, key, annotation;\n    return regenerator.wrap(function points$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            selection = value.selection, annotations = value.annotations;\n\n            if (!(selection != null)) {\n              _context.next = 6;\n              break;\n            }\n\n            _context.next = 4;\n            return [selection.anchor, 'anchor', selection];\n\n          case 4:\n            _context.next = 6;\n            return [selection.focus, 'focus', selection];\n\n          case 6:\n            _context.t0 = regenerator.keys(annotations);\n\n          case 7:\n            if ((_context.t1 = _context.t0()).done) {\n              _context.next = 16;\n              break;\n            }\n\n            key = _context.t1.value;\n            annotation = annotations[key];\n            _context.next = 12;\n            return [annotation.anchor, 'anchor', annotation, key];\n\n          case 12:\n            _context.next = 14;\n            return [annotation.focus, 'focus', annotation, key];\n\n          case 14:\n            _context.next = 7;\n            break;\n\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _marked);\n  }\n\n  Value.points = points;\n  /**\r\n   * Transform a value by an operation.\r\n   */\n\n  Value.transform = function (value, op) {\n    return produce(value, function (v) {\n      switch (op.type) {\n        case 'add_annotation':\n          {\n            var annotation = op.annotation,\n                key = op.key;\n            v.annotations[key] = annotation;\n            break;\n          }\n\n        case 'add_mark':\n          {\n            var path = op.path,\n                mark = op.mark;\n            var node = Node.leaf(v, path);\n\n            if (!Mark.exists(mark, node.marks)) {\n              node.marks.push(mark);\n            }\n\n            break;\n          }\n\n        case 'insert_node':\n          {\n            var _path = op.path,\n                _node = op.node;\n            var parent = Node.parent(v, _path);\n            var index = _path[_path.length - 1];\n            parent.children.splice(index, 0, _node);\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n              for (var _iterator = Value.points(v)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var _step$value = slicedToArray(_step.value, 3),\n                    point = _step$value[0],\n                    _key = _step$value[1],\n                    range = _step$value[2];\n\n                range[_key] = Point.transform(point, op);\n              }\n            } catch (err) {\n              _didIteratorError = true;\n              _iteratorError = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n                  _iterator[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError) {\n                  throw _iteratorError;\n                }\n              }\n            }\n\n            break;\n          }\n\n        case 'insert_text':\n          {\n            var _path2 = op.path,\n                offset = op.offset,\n                text = op.text;\n\n            var _node2 = Node.leaf(v, _path2);\n\n            var before = _node2.text.slice(0, offset);\n\n            var after = _node2.text.slice(offset);\n\n            _node2.text = before + text + after;\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n              for (var _iterator2 = Value.points(v)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var _step2$value = slicedToArray(_step2.value, 3),\n                    _point = _step2$value[0],\n                    _key2 = _step2$value[1],\n                    _range = _step2$value[2];\n\n                _range[_key2] = Point.transform(_point, op);\n              }\n            } catch (err) {\n              _didIteratorError2 = true;\n              _iteratorError2 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n                  _iterator2[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError2) {\n                  throw _iteratorError2;\n                }\n              }\n            }\n\n            break;\n          }\n\n        case 'merge_node':\n          {\n            var _path3 = op.path;\n\n            var _node3 = Node.get(v, _path3);\n\n            var prevPath = Path.previous(_path3);\n            var prev = Node.get(v, prevPath);\n\n            var _parent = Node.parent(v, _path3);\n\n            var _index = _path3[_path3.length - 1];\n\n            if (Text.isText(_node3) && Text.isText(prev)) {\n              prev.text += _node3.text;\n            } else if (!Text.isText(_node3) && !Text.isText(prev)) {\n              var _prev$children;\n\n              (_prev$children = prev.children).push.apply(_prev$children, toConsumableArray(_node3.children));\n            } else {\n              throw new Error(\"Cannot apply a \\\"merge_node\\\" operation at path [\".concat(_path3, \"] to nodes of different interaces: \").concat(_node3, \" \").concat(prev));\n            }\n\n            _parent.children.splice(_index, 1);\n\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n              for (var _iterator3 = Value.points(v)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                var _step3$value = slicedToArray(_step3.value, 3),\n                    _point2 = _step3$value[0],\n                    _key3 = _step3$value[1],\n                    _range2 = _step3$value[2];\n\n                _range2[_key3] = Point.transform(_point2, op);\n              }\n            } catch (err) {\n              _didIteratorError3 = true;\n              _iteratorError3 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n                  _iterator3[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError3) {\n                  throw _iteratorError3;\n                }\n              }\n            }\n\n            break;\n          }\n\n        case 'move_node':\n          {\n            var _path4 = op.path,\n                newPath = op.newPath;\n\n            if (Path.isAncestor(_path4, newPath)) {\n              throw new Error(\"Cannot move a path [\".concat(_path4, \"] to new path [\").concat(newPath, \"] because the destination is inside itself.\"));\n            }\n\n            var _node4 = Node.get(v, _path4);\n\n            var _parent2 = Node.parent(v, _path4);\n\n            var _index2 = _path4[_path4.length - 1]; // This is tricky, but since the `path` and `newPath` both refer to\n            // the same snapshot in time, there's a mismatch. After either\n            // removing the original position, the second step's path can be out\n            // of date. So instead of using the `op.newPath` directly, we\n            // transform `op.path` to ascertain what the `newPath` would be after\n            // the operation was applied.\n\n            _parent2.children.splice(_index2, 1);\n\n            var truePath = Path.transform(_path4, op);\n            var newParent = Node.get(v, Path.parent(truePath));\n            var newIndex = truePath[truePath.length - 1];\n            newParent.children.splice(newIndex, 0, _node4);\n            var _iteratorNormalCompletion4 = true;\n            var _didIteratorError4 = false;\n            var _iteratorError4 = undefined;\n\n            try {\n              for (var _iterator4 = Value.points(v)[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n                var _step4$value = slicedToArray(_step4.value, 3),\n                    _point3 = _step4$value[0],\n                    _key4 = _step4$value[1],\n                    _range3 = _step4$value[2];\n\n                _range3[_key4] = Point.transform(_point3, op);\n              }\n            } catch (err) {\n              _didIteratorError4 = true;\n              _iteratorError4 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n                  _iterator4[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError4) {\n                  throw _iteratorError4;\n                }\n              }\n            }\n\n            break;\n          }\n\n        case 'remove_annotation':\n          {\n            var _key5 = op.key;\n            delete v.annotations[_key5];\n            break;\n          }\n\n        case 'remove_mark':\n          {\n            var _path5 = op.path,\n                _mark = op.mark;\n\n            var _node5 = Node.leaf(v, _path5);\n\n            for (var i = 0; i < _node5.marks.length; i++) {\n              if (Mark.matches(_node5.marks[i], _mark)) {\n                _node5.marks.splice(i, 1);\n\n                break;\n              }\n            }\n\n            break;\n          }\n\n        case 'remove_node':\n          {\n            var _path6 = op.path;\n            var _index3 = _path6[_path6.length - 1];\n\n            var _parent3 = Node.parent(v, _path6);\n\n            var _Node$texts = Node.texts(v, {\n              from: _path6,\n              reverse: true\n            }),\n                _Node$texts2 = slicedToArray(_Node$texts, 2),\n                _prev = _Node$texts2[1];\n\n            var _Node$texts3 = Node.texts(v, {\n              from: _path6\n            }),\n                _Node$texts4 = slicedToArray(_Node$texts3, 2),\n                next = _Node$texts4[1];\n\n            _parent3.children.splice(_index3, 1); // Transform all of the points in the value, but if the point was in the\n            // node that was removed we need to update the range or remove it.\n\n\n            var _iteratorNormalCompletion5 = true;\n            var _didIteratorError5 = false;\n            var _iteratorError5 = undefined;\n\n            try {\n              for (var _iterator5 = Value.points(v)[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n                var _step5$value = slicedToArray(_step5.value, 4),\n                    _point4 = _step5$value[0],\n                    k = _step5$value[1],\n                    _range4 = _step5$value[2],\n                    _key6 = _step5$value[3];\n\n                var result = Point.transform(_point4, op);\n\n                if (result != null) {\n                  _range4[k] = result;\n                } else if (_prev) {\n                  var _prev2 = slicedToArray(_prev, 2),\n                      prevNode = _prev2[0],\n                      _prevPath = _prev2[1];\n\n                  _point4.path = _prevPath;\n                  _point4.offset = prevNode.text.length;\n                } else if (next) {\n                  var _next = slicedToArray(next, 2),\n                      nextPath = _next[1];\n\n                  var newNextPath = Path.transform(nextPath, op);\n                  _point4.path = newNextPath;\n                  _point4.offset = 0;\n                } else if (_key6 != null) {\n                  delete v.annotations[_key6];\n                } else {\n                  v.selection = null;\n                }\n              }\n            } catch (err) {\n              _didIteratorError5 = true;\n              _iteratorError5 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n                  _iterator5[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError5) {\n                  throw _iteratorError5;\n                }\n              }\n            }\n\n            break;\n          }\n\n        case 'remove_text':\n          {\n            var _path7 = op.path,\n                _offset = op.offset,\n                _text = op.text;\n\n            var _node6 = Node.leaf(v, _path7);\n\n            var _before = _node6.text.slice(0, _offset);\n\n            var _after = _node6.text.slice(_offset + _text.length);\n\n            _node6.text = _before + _after;\n            var _iteratorNormalCompletion6 = true;\n            var _didIteratorError6 = false;\n            var _iteratorError6 = undefined;\n\n            try {\n              for (var _iterator6 = Value.points(v)[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n                var _step6$value = slicedToArray(_step6.value, 3),\n                    _point5 = _step6$value[0],\n                    _key7 = _step6$value[1],\n                    _range5 = _step6$value[2];\n\n                _range5[_key7] = Point.transform(_point5, op);\n              }\n            } catch (err) {\n              _didIteratorError6 = true;\n              _iteratorError6 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n                  _iterator6[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError6) {\n                  throw _iteratorError6;\n                }\n              }\n            }\n\n            break;\n          }\n\n        case 'set_annotation':\n          {\n            var _key8 = op.key,\n                newProperties = op.newProperties;\n            var _annotation = v.annotations[_key8];\n            Object.assign(_annotation, newProperties);\n            break;\n          }\n\n        case 'set_mark':\n          {\n            var _path8 = op.path,\n                properties = op.properties,\n                _newProperties = op.newProperties;\n\n            var _node7 = Node.leaf(v, _path8);\n\n            var _iteratorNormalCompletion7 = true;\n            var _didIteratorError7 = false;\n            var _iteratorError7 = undefined;\n\n            try {\n              for (var _iterator7 = _node7.marks[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n                var _mark2 = _step7.value;\n\n                if (Mark.matches(_mark2, properties)) {\n                  Object.assign(_mark2, _newProperties);\n                  break;\n                }\n              }\n            } catch (err) {\n              _didIteratorError7 = true;\n              _iteratorError7 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n                  _iterator7[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError7) {\n                  throw _iteratorError7;\n                }\n              }\n            }\n\n            break;\n          }\n\n        case 'set_node':\n          {\n            var _path9 = op.path,\n                _newProperties2 = op.newProperties;\n\n            var _node8 = Node.get(v, _path9);\n\n            Object.assign(_node8, _newProperties2);\n            break;\n          }\n\n        case 'set_selection':\n          {\n            var _newProperties3 = op.newProperties;\n\n            if (_newProperties3 == null) {\n              v.selection = _newProperties3;\n            } else if (v.selection == null) {\n              if (!Range.isRange(_newProperties3)) {\n                throw new Error(\"Cannot apply an incomplete \\\"set_selection\\\" operation properties \".concat(JSON.stringify(_newProperties3), \" when there is no current selection.\"));\n              }\n\n              v.selection = _newProperties3;\n            } else {\n              Object.assign(v.selection, _newProperties3);\n            }\n\n            break;\n          }\n\n        case 'set_value':\n          {\n            var _newProperties4 = op.newProperties;\n            Object.assign(v, _newProperties4);\n            break;\n          }\n\n        case 'split_node':\n          {\n            var _path10 = op.path,\n                position = op.position,\n                _properties = op.properties;\n\n            if (_path10.length === 0) {\n              throw new Error(\"Cannot apply a \\\"split_node\\\" operation at path [\".concat(_path10, \"] because the top-level value cannot be split.\"));\n            }\n\n            var _node9 = Node.get(v, _path10);\n\n            var _parent4 = Node.parent(v, _path10);\n\n            var _index4 = _path10[_path10.length - 1];\n            var newNode;\n\n            if (Text.isText(_node9)) {\n              var _before2 = _node9.text.slice(0, position);\n\n              var _after2 = _node9.text.slice(position);\n\n              _node9.text = _before2;\n              newNode = _objectSpread$3({}, _node9, {}, _properties, {\n                text: _after2\n              });\n            } else {\n              var _before3 = _node9.children.slice(0, position);\n\n              var _after3 = _node9.children.slice(position);\n\n              _node9.children = _before3;\n              newNode = _objectSpread$3({}, _node9, {}, _properties, {\n                children: _after3\n              });\n            }\n\n            _parent4.children.splice(_index4 + 1, 0, newNode);\n\n            var _iteratorNormalCompletion8 = true;\n            var _didIteratorError8 = false;\n            var _iteratorError8 = undefined;\n\n            try {\n              for (var _iterator8 = Value.points(v)[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n                var _step8$value = slicedToArray(_step8.value, 3),\n                    _point6 = _step8$value[0],\n                    _key9 = _step8$value[1],\n                    _range6 = _step8$value[2];\n\n                _range6[_key9] = Point.transform(_point6, op);\n              }\n            } catch (err) {\n              _didIteratorError8 = true;\n              _iteratorError8 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion8 && _iterator8[\"return\"] != null) {\n                  _iterator8[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError8) {\n                  throw _iteratorError8;\n                }\n              }\n            }\n\n            break;\n          }\n      }\n    });\n  };\n})(Value || (Value = {}));\n\nvar AnnotationCommands =\n/*#__PURE__*/\nfunction () {\n  function AnnotationCommands() {\n    classCallCheck(this, AnnotationCommands);\n  }\n\n  createClass(AnnotationCommands, [{\n    key: \"addAnnotation\",\n\n    /**\r\n     * Add a new `annotation` object with a `key`.\r\n     */\n    value: function addAnnotation(key, annotation) {\n      this.apply({\n        type: 'add_annotation',\n        key: key,\n        annotation: annotation\n      });\n    }\n    /**\r\n     * Remove an existing annotation object by `key`.\r\n     */\n\n  }, {\n    key: \"removeAnnotation\",\n    value: function removeAnnotation(key) {\n      var annotations = this.value.annotations;\n\n      if (!(key in annotations)) {\n        throw new Error(\"Unable to remove annotation by \".concat(key, \" because it does not exist.\"));\n      }\n\n      var annotation = annotations[key];\n      this.apply({\n        type: 'remove_annotation',\n        key: key,\n        annotation: annotation\n      });\n    }\n    /**\r\n     * Set new properties on an annotation object with `key`.\r\n     */\n\n  }, {\n    key: \"setAnnotation\",\n    value: function setAnnotation(key, props) {\n      var annotations = this.value.annotations;\n\n      if (!(key in annotations)) {\n        throw new Error(\"Unable to set new properties on annotation by \".concat(key, \" because it does not exist.\"));\n      }\n\n      var annotation = annotations[key];\n      var newProps = {};\n      var prevProps = {};\n\n      for (var k in props) {\n        var isPoint = k === 'anchor' || k === 'focus';\n\n        if (isPoint && !Point.equals(props[k], annotation[k]) || !isPoint && props[k] !== annotation[k]) {\n          newProps[k] = props[k];\n          prevProps[k] = annotation[k];\n        }\n      }\n\n      if (Object.keys(newProps).length > 0) {\n        this.apply({\n          type: 'set_annotation',\n          key: key,\n          properties: prevProps,\n          newProperties: newProps\n        });\n      }\n    }\n  }]);\n\n  return AnnotationCommands;\n}();\n\nvar DeletingCommands =\n/*#__PURE__*/\nfunction () {\n  function DeletingCommands() {\n    classCallCheck(this, DeletingCommands);\n  }\n\n  createClass(DeletingCommands, [{\n    key: \"delete\",\n\n    /**\r\n     * Delete content in the editor.\r\n     */\n    value: function _delete() {\n      var _this = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.withoutNormalizing(function () {\n        var _options$reverse = options.reverse,\n            reverse = _options$reverse === void 0 ? false : _options$reverse,\n            _options$unit = options.unit,\n            unit = _options$unit === void 0 ? 'character' : _options$unit,\n            _options$distance = options.distance,\n            distance = _options$distance === void 0 ? 1 : _options$distance;\n        var _options$at = options.at,\n            at = _options$at === void 0 ? _this.value.selection : _options$at,\n            _options$hanging = options.hanging,\n            hanging = _options$hanging === void 0 ? false : _options$hanging;\n\n        if (!at) {\n          return;\n        }\n\n        if (Range.isRange(at) && Range.isCollapsed(at)) {\n          at = at.anchor;\n        }\n\n        if (Point.isPoint(at)) {\n          var furthestVoid = _this.getMatch(at.path, 'void');\n\n          if (furthestVoid) {\n            var _furthestVoid = slicedToArray(furthestVoid, 2),\n                voidPath = _furthestVoid[1];\n\n            at = voidPath;\n          } else {\n            var opts = {\n              unit: unit,\n              distance: distance\n            };\n            var target = reverse ? _this.getBefore(at, opts) || _this.getStart([]) : _this.getAfter(at, opts) || _this.getEnd([]);\n            at = {\n              anchor: at,\n              focus: target\n            };\n            hanging = true;\n          }\n        }\n\n        if (Path.isPath(at)) {\n          _this.removeNodes({\n            at: at\n          });\n\n          return;\n        }\n\n        if (Range.isCollapsed(at)) {\n          return;\n        }\n\n        if (!hanging) {\n          at = _this.unhangRange(at);\n        }\n\n        var _Range$edges = Range.edges(at),\n            _Range$edges2 = slicedToArray(_Range$edges, 2),\n            start = _Range$edges2[0],\n            end = _Range$edges2[1];\n\n        var _this$getAncestor = _this.getAncestor(at),\n            _this$getAncestor2 = slicedToArray(_this$getAncestor, 1),\n            ancestor = _this$getAncestor2[0];\n\n        var isSingleText = Path.equals(start.path, end.path);\n\n        var startVoid = _this.getMatch(start.path, 'void');\n\n        var endVoid = _this.getMatch(end.path, 'void'); // If the start or end points are inside an inline void, nudge them out.\n\n\n        if (startVoid) {\n          var block = _this.getMatch(start.path, 'block');\n\n          var before = _this.getBefore(start);\n\n          if (before && block && Path.isAncestor(block[1], before.path)) {\n            start = before;\n          }\n        }\n\n        if (endVoid) {\n          var _block = _this.getMatch(end.path, 'block');\n\n          var after = _this.getAfter(end);\n\n          if (after && _block && Path.isAncestor(_block[1], after.path)) {\n            end = after;\n          }\n        } // Get the highest nodes that are completely inside the range, as well as\n        // the start and end nodes.\n\n\n        var matches = _this.matches({\n          at: at,\n          match: function match(_ref) {\n            var _ref2 = slicedToArray(_ref, 2),\n                n = _ref2[0],\n                p = _ref2[1];\n\n            return Element.isElement(n) && _this.isVoid(n) || !Path.isCommon(p, start.path) && !Path.isCommon(p, end.path);\n          }\n        });\n\n        var pathRefs = Array.from(matches, function (_ref3) {\n          var _ref4 = slicedToArray(_ref3, 2),\n              p = _ref4[1];\n\n          return _this.createPathRef(p);\n        });\n\n        var startRef = _this.createPointRef(start);\n\n        var endRef = _this.createPointRef(end);\n\n        if (!isSingleText && !startVoid) {\n          var _point = startRef.current;\n\n          var _this$getLeaf = _this.getLeaf(_point),\n              _this$getLeaf2 = slicedToArray(_this$getLeaf, 1),\n              node = _this$getLeaf2[0];\n\n          var path = _point.path;\n          var _start = start,\n              offset = _start.offset;\n          var text = node.text.slice(offset);\n\n          _this.apply({\n            type: 'remove_text',\n            path: path,\n            offset: offset,\n            text: text\n          });\n        }\n\n        for (var _i = 0, _pathRefs = pathRefs; _i < _pathRefs.length; _i++) {\n          var pathRef = _pathRefs[_i];\n\n          var _path2 = pathRef.unref();\n\n          _this.removeNodes({\n            at: _path2\n          });\n        }\n\n        if (!endVoid) {\n          var _point2 = endRef.current;\n\n          var _this$getLeaf3 = _this.getLeaf(_point2),\n              _this$getLeaf4 = slicedToArray(_this$getLeaf3, 1),\n              _node = _this$getLeaf4[0];\n\n          var _path = _point2.path;\n\n          var _offset = isSingleText ? start.offset : 0;\n\n          var _text = _node.text.slice(_offset, end.offset);\n\n          _this.apply({\n            type: 'remove_text',\n            path: _path,\n            offset: _offset,\n            text: _text\n          });\n        }\n\n        var isBlockAncestor = Value.isValue(ancestor) || Element.isElement(ancestor) && !_this.isInline(ancestor);\n\n        if (!isSingleText && isBlockAncestor && endRef.current && startRef.current) {\n          _this.mergeNodes({\n            at: endRef.current,\n            hanging: true\n          });\n        }\n\n        var point = endRef.unref() || startRef.unref();\n\n        if (options.at == null && point) {\n          _this.select(point);\n        }\n      });\n    }\n    /**\r\n     * Insert a fragment at a specific location in the editor.\r\n     */\n\n  }, {\n    key: \"insertFragment\",\n    value: function insertFragment(fragment) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.withoutNormalizing(function () {\n        var _options$at2 = options.at,\n            at = _options$at2 === void 0 ? _this2.value.selection : _options$at2;\n        var _options$hanging2 = options.hanging,\n            hanging = _options$hanging2 === void 0 ? false : _options$hanging2;\n\n        if (!fragment.length) {\n          return;\n        }\n\n        if (!at) {\n          return;\n        } else if (Range.isRange(at)) {\n          if (!hanging) {\n            at = _this2.unhangRange(at);\n          }\n\n          if (Range.isCollapsed(at)) {\n            at = at.anchor;\n          } else {\n            var _Range$edges3 = Range.edges(at),\n                _Range$edges4 = slicedToArray(_Range$edges3, 2),\n                end = _Range$edges4[1];\n\n            var pointRef = _this2.createPointRef(end);\n\n            _this2[\"delete\"]({\n              at: at\n            });\n\n            at = pointRef.unref();\n          }\n        } else if (Path.isPath(at)) {\n          at = _this2.getStart(at);\n        }\n\n        if (_this2.getMatch(at.path, 'void')) {\n          return;\n        } // If the insert point is at the edge of an inline node, move it outside\n        // instead since it will need to be split otherwise.\n\n\n        var inlineElementMatch = _this2.getMatch(at, 'inline-element');\n\n        if (inlineElementMatch) {\n          var _inlineElementMatch = slicedToArray(inlineElementMatch, 2),\n              _inlinePath = _inlineElementMatch[1];\n\n          if (_this2.isEnd(at, _inlinePath)) {\n            var after = _this2.getAfter(_inlinePath);\n\n            at = after;\n          } else if (_this2.isStart(at, _inlinePath)) {\n            var before = _this2.getBefore(_inlinePath);\n\n            at = before;\n          }\n        }\n\n        var blockMatch = _this2.getMatch(at, 'block');\n\n        var _blockMatch = slicedToArray(blockMatch, 2),\n            blockPath = _blockMatch[1];\n\n        var isBlockStart = _this2.isStart(at, blockPath);\n\n        var isBlockEnd = _this2.isEnd(at, blockPath);\n\n        var mergeStart = !isBlockStart || isBlockStart && isBlockEnd;\n        var mergeEnd = !isBlockEnd;\n\n        var _Node$first = Node.first({\n          children: fragment\n        }, []),\n            _Node$first2 = slicedToArray(_Node$first, 2),\n            firstPath = _Node$first2[1];\n\n        var _Node$last = Node.last({\n          children: fragment\n        }, []),\n            _Node$last2 = slicedToArray(_Node$last, 2),\n            lastPath = _Node$last2[1]; // TODO: convert into a proper `Nodes.matches` iterable\n\n\n        var matches = [];\n\n        var matcher = function matcher(_ref5) {\n          var _ref6 = slicedToArray(_ref5, 2),\n              n = _ref6[0],\n              p = _ref6[1];\n\n          if (mergeStart && Path.isAncestor(p, firstPath) && Element.isElement(n) && !_this2.isVoid(n) && !_this2.isInline(n)) {\n            return false;\n          }\n\n          if (mergeEnd && Path.isAncestor(p, lastPath) && Element.isElement(n) && !_this2.isVoid(n) && !_this2.isInline(n)) {\n            return false;\n          }\n\n          return true;\n        };\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = Node.nodes({\n            children: fragment\n          }, {\n            pass: matcher\n          })[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var entry = _step.value;\n\n            if (entry[1].length > 0 && matcher(entry)) {\n              matches.push(entry);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        var starts = [];\n        var middles = [];\n        var ends = [];\n        var starting = true;\n        var hasBlocks = false;\n\n        for (var _i2 = 0, _matches = matches; _i2 < _matches.length; _i2++) {\n          var _matches$_i = slicedToArray(_matches[_i2], 1),\n              node = _matches$_i[0];\n\n          if (Element.isElement(node) && !_this2.isInline(node)) {\n            starting = false;\n            hasBlocks = true;\n            middles.push(node);\n          } else if (starting) {\n            starts.push(node);\n          } else {\n            ends.push(node);\n          }\n        }\n\n        var inlineMatch = _this2.getMatch(at, 'inline');\n\n        var _inlineMatch = slicedToArray(inlineMatch, 2),\n            inlinePath = _inlineMatch[1];\n\n        var isInlineStart = _this2.isStart(at, inlinePath);\n\n        var isInlineEnd = _this2.isEnd(at, inlinePath);\n\n        var middleRef = _this2.createPathRef(isBlockEnd ? Path.next(blockPath) : blockPath);\n\n        var endRef = _this2.createPathRef(isInlineEnd ? Path.next(inlinePath) : inlinePath);\n\n        _this2.splitNodes({\n          at: at,\n          match: hasBlocks ? 'block' : 'inline'\n        });\n\n        var startRef = _this2.createPathRef(!isInlineStart || isInlineStart && isInlineEnd ? Path.next(inlinePath) : inlinePath);\n\n        _this2.insertNodes(starts, {\n          at: startRef.current,\n          match: 'inline'\n        });\n\n        _this2.insertNodes(middles, {\n          at: middleRef.current,\n          match: 'block'\n        });\n\n        _this2.insertNodes(ends, {\n          at: endRef.current,\n          match: 'inline'\n        });\n\n        if (!options.at) {\n          var path;\n\n          if (ends.length > 0) {\n            path = Path.previous(endRef.current);\n          } else if (middles.length > 0) {\n            path = Path.previous(middleRef.current);\n          } else {\n            path = Path.previous(startRef.current);\n          }\n\n          var _end = _this2.getEnd(path);\n\n          _this2.select(_end);\n        }\n\n        startRef.unref();\n        middleRef.unref();\n        endRef.unref();\n      });\n    }\n    /**\r\n     * Insert a string of text in the editor.\r\n     */\n\n  }, {\n    key: \"insertText\",\n    value: function insertText(text) {\n      var _this3 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.withoutNormalizing(function () {\n        var selection = _this3.value.selection;\n        var at = options.at;\n\n        if (!at && selection) {\n          at = selection;\n        }\n\n        if (Range.isRange(at)) {\n          if (Range.isCollapsed(at)) {\n            at = at.anchor;\n          } else {\n            var pointRef = _this3.createPointRef(Range.end(at));\n\n            _this3[\"delete\"]({\n              at: at\n            });\n\n            at = pointRef.unref();\n          }\n        }\n\n        if (Point.isPoint(at) && !_this3.getMatch(at.path, 'void')) {\n          var _at = at,\n              path = _at.path,\n              offset = _at.offset;\n\n          _this3.apply({\n            type: 'insert_text',\n            path: path,\n            offset: offset,\n            text: text\n          });\n        }\n      });\n    }\n    /**\r\n     * Remove a string of text in the editor.\r\n     */\n\n  }, {\n    key: \"removeText\",\n    value: function removeText(text) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.withoutNormalizing(function () {\n        var _options$at3 = options.at,\n            at = _options$at3 === void 0 ? _this4.value.selection : _options$at3;\n\n        if (!at || Range.isCollapsed(at)) {\n          return;\n        }\n\n        var _Range$edges5 = Range.edges(at),\n            _Range$edges6 = slicedToArray(_Range$edges5, 2),\n            start = _Range$edges6[0],\n            end = _Range$edges6[1];\n\n        var texts = _this4.texts({\n          at: at\n        });\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = _this4.texts({\n            at: at\n          })[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _step2$value = slicedToArray(_step2.value, 2),\n                node = _step2$value[0],\n                path = _step2$value[1];\n\n            if (Point.isPoint(at) && !_this4.getMatch(at.path, 'void')) {\n              var _path3 = at.path,\n                  offset = at.offset;\n\n              _this4.apply({\n                type: 'insert_text',\n                path: _path3,\n                offset: offset,\n                text: text\n              });\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      });\n    }\n  }]);\n\n  return DeletingCommands;\n}();\n\nfunction ownKeys$4(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$4(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$4(source, true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$4(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar NodeCommands =\n/*#__PURE__*/\nfunction () {\n  function NodeCommands() {\n    classCallCheck(this, NodeCommands);\n  }\n\n  createClass(NodeCommands, [{\n    key: \"insertNodes\",\n\n    /**\r\n     * Insert nodes at a specific location in the editor.\r\n     */\n    value: function insertNodes(nodes) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.withoutNormalizing(function () {\n        var _this$value = _this.value,\n            selection = _this$value.selection,\n            _this$value$hanging = _this$value.hanging,\n            hanging = _this$value$hanging === void 0 ? false : _this$value$hanging;\n        var at = options.at,\n            match = options.match;\n        var select = false;\n\n        if (Node.isNode(nodes)) {\n          nodes = [nodes];\n        }\n\n        if (nodes.length === 0) {\n          return;\n        }\n\n        var _nodes = nodes,\n            _nodes2 = slicedToArray(_nodes, 1),\n            node = _nodes2[0];\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            var path = at;\n\n            match = function match(_ref) {\n              var _ref2 = slicedToArray(_ref, 2),\n                  p = _ref2[1];\n\n              return Path.equals(p, path);\n            };\n          } else if (Text.isText(node)) {\n            match = 'text';\n          } else if (_this.isInline(node)) {\n            match = 'inline';\n          } else {\n            match = 'block';\n          }\n        } // By default, use the selection as the target location. But if there is\n        // no selection, insert at the end of the document since that is such a\n        // common use case when inserting from a non-selected state.\n\n\n        if (!at) {\n          at = selection || _this.getEnd([]) || [_this.value.children.length];\n          select = true;\n        }\n\n        if (Range.isRange(at)) {\n          if (!hanging) {\n            at = _this.unhangRange(at);\n          }\n\n          if (Range.isCollapsed(at)) {\n            at = at.anchor;\n          } else {\n            var _Range$edges = Range.edges(at),\n                _Range$edges2 = slicedToArray(_Range$edges, 2),\n                end = _Range$edges2[1];\n\n            var pointRef = _this.createPointRef(end);\n\n            _this[\"delete\"]({\n              at: at\n            });\n\n            at = pointRef.unref();\n          }\n        }\n\n        if (Point.isPoint(at)) {\n          var atMatch = _this.getMatch(at.path, match);\n\n          if (atMatch) {\n            var _atMatch = slicedToArray(atMatch, 2),\n                matchPath = _atMatch[1];\n\n            var pathRef = _this.createPathRef(matchPath);\n\n            var isAtEnd = _this.isEnd(at, matchPath);\n\n            _this.splitNodes({\n              at: at,\n              match: match\n            });\n\n            var _path = pathRef.unref();\n\n            at = isAtEnd ? Path.next(_path) : _path;\n          } else {\n            return;\n          }\n        }\n\n        var parentPath = Path.parent(at);\n        var index = at[at.length - 1];\n\n        if (_this.getMatch(parentPath, 'void')) {\n          return;\n        }\n\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = nodes[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var _node = _step.value;\n\n            var _path2 = parentPath.concat(index);\n\n            index++;\n\n            _this.apply({\n              type: 'insert_node',\n              path: _path2,\n              node: _node\n            });\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        if (select) {\n          var point = _this.getEnd(at);\n\n          if (point) {\n            _this.select(point);\n          }\n        }\n      });\n    }\n    /**\r\n     * Lift nodes at a specific location upwards in the document tree, splitting\r\n     * their parent in two if necessary.\r\n     */\n\n  }, {\n    key: \"liftNodes\",\n    value: function liftNodes() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.withoutNormalizing(function () {\n        var _options$at = options.at,\n            at = _options$at === void 0 ? _this2.value.selection : _options$at;\n        var match = options.match;\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            var path = at;\n\n            match = function match(_ref3) {\n              var _ref4 = slicedToArray(_ref3, 2),\n                  p = _ref4[1];\n\n              return Path.equals(p, path);\n            };\n          } else {\n            match = 'block';\n          }\n        }\n\n        if (!at) {\n          return;\n        }\n\n        var matches = _this2.matches({\n          at: at,\n          match: match\n        });\n\n        var pathRefs = Array.from(matches, function (_ref5) {\n          var _ref6 = slicedToArray(_ref5, 2),\n              p = _ref6[1];\n\n          return _this2.createPathRef(p);\n        });\n\n        for (var _i = 0, _pathRefs = pathRefs; _i < _pathRefs.length; _i++) {\n          var pathRef = _pathRefs[_i];\n\n          var _path3 = pathRef.unref();\n\n          if (_path3.length < 2) {\n            throw new Error(\"Cannot lift node at a path [\".concat(_path3, \"] because it has a depth of less than `2`.\"));\n          }\n\n          var _this2$getNode = _this2.getNode(Path.parent(_path3)),\n              _this2$getNode2 = slicedToArray(_this2$getNode, 2),\n              parent = _this2$getNode2[0],\n              parentPath = _this2$getNode2[1];\n\n          var index = _path3[_path3.length - 1];\n          var length = parent.children.length;\n\n          if (length === 1) {\n            _this2.moveNodes({\n              at: _path3,\n              to: Path.next(parentPath)\n            });\n\n            _this2.removeNodes({\n              at: parentPath\n            });\n          } else if (index === 0) {\n            _this2.moveNodes({\n              at: _path3,\n              to: parentPath\n            });\n          } else if (index === length - 1) {\n            _this2.moveNodes({\n              at: _path3,\n              to: Path.next(parentPath)\n            });\n          } else {\n            _this2.splitNodes({\n              at: Path.next(_path3)\n            });\n\n            _this2.moveNodes({\n              at: _path3,\n              to: Path.next(parentPath)\n            });\n          }\n        }\n      });\n    }\n    /**\r\n     * Merge a node at a location with the previous node of the same depth,\r\n     * removing any empty containing nodes after the merge if necessary.\r\n     */\n\n  }, {\n    key: \"mergeNodes\",\n    value: function mergeNodes() {\n      var _this3 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.withoutNormalizing(function () {\n        var match = options.match,\n            _options$at2 = options.at,\n            at = _options$at2 === void 0 ? _this3.value.selection : _options$at2;\n        var _options$hanging = options.hanging,\n            hanging = _options$hanging === void 0 ? false : _options$hanging;\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            var _path4 = at;\n\n            match = function match(_ref7) {\n              var _ref8 = slicedToArray(_ref7, 2),\n                  p = _ref8[1];\n\n              return Path.equals(p, _path4);\n            };\n          } else {\n            match = 'block';\n          }\n        }\n\n        if (!at) {\n          return;\n        }\n\n        if (!hanging && Range.isRange(at)) {\n          at = _this3.unhangRange(at);\n        }\n\n        if (Range.isRange(at)) {\n          if (Range.isCollapsed(at)) {\n            at = at.anchor;\n          } else {\n            var _Range$edges3 = Range.edges(at),\n                _Range$edges4 = slicedToArray(_Range$edges3, 2),\n                end = _Range$edges4[1];\n\n            var pointRef = _this3.createPointRef(end);\n\n            _this3[\"delete\"]({\n              at: at\n            });\n\n            at = pointRef.unref();\n\n            if (options.at == null) {\n              _this3.select(at);\n            }\n          }\n        }\n\n        var current = _this3.getMatch(at, match);\n\n        if (!current) {\n          return;\n        }\n\n        var prevMatch = 'block';\n\n        var _current = slicedToArray(current, 2),\n            node = _current[0],\n            path = _current[1];\n\n        if (Value.isValue(node)) {\n          return;\n        } else if (Text.isText(node)) {\n          prevMatch = 'text';\n        } else if (_this3.isInline(node)) {\n          prevMatch = 'inline';\n        }\n\n        var prev = _this3.getPrevious(at, prevMatch);\n\n        if (!prev) {\n          return;\n        }\n\n        var _prev = slicedToArray(prev, 2),\n            prevNode = _prev[0],\n            prevPath = _prev[1];\n\n        var newPath = Path.next(prevPath);\n        var commonPath = Path.common(path, prevPath);\n        var isPreviousSibling = Path.isSibling(path, prevPath); // Determine if the merge will leave an ancestor of the path empty as a\n        // result, in which case we'll want to remove it after merging.\n\n        var emptyAncestor = Node.furthest(_this3.value, path, function (_ref9) {\n          var _ref10 = slicedToArray(_ref9, 2),\n              n = _ref10[0],\n              p = _ref10[1];\n\n          return Path.isDescendant(p, commonPath) && Path.isAncestor(p, path) && Element.isElement(n) && n.children.length === 1;\n        });\n\n        var emptyRef = emptyAncestor && _this3.createPathRef(emptyAncestor[1]);\n\n        var properties;\n        var position; // Ensure that the nodes are equivalent, and figure out what the position\n        // and extra properties of the merge will be.\n\n        if (Text.isText(node) && Text.isText(prevNode)) {\n          var text = node.text,\n              marks = node.marks,\n              rest = objectWithoutProperties(node, [\"text\", \"marks\"]);\n\n          position = prevNode.text.length;\n          properties = rest;\n        } else if (Element.isElement(node) && Element.isElement(prevNode)) {\n          var children = node.children,\n              _rest = objectWithoutProperties(node, [\"children\"]);\n\n          position = prevNode.children.length;\n          properties = _rest;\n        } else {\n          throw new Error(\"Cannot merge the node at path [\".concat(path, \"] with the previous sibling because it is not the same kind: \").concat(JSON.stringify(node), \" \").concat(JSON.stringify(prevNode)));\n        } // If the node isn't already the next sibling of the previous node, move\n        // it so that it is before merging.\n\n\n        if (!isPreviousSibling) {\n          _this3.moveNodes({\n            at: path,\n            to: newPath\n          });\n        } // If there was going to be an empty ancestor of the node that was merged,\n        // we remove it from the tree.\n\n\n        if (emptyRef) {\n          _this3.removeNodes({\n            at: emptyRef.current\n          });\n        } // If the target node that we're merging with is empty, remove it instead\n        // of merging the two. This is a common rich text editor behavior to\n        // prevent losing formatting when deleting entire nodes when you have a\n        // hanging selection.\n\n\n        if (Element.isElement(prevNode) && _this3.isEmpty(prevNode) || Text.isText(prevNode) && prevNode.text === '') {\n          _this3.removeNodes({\n            at: prevPath\n          });\n        } else {\n          _this3.apply({\n            type: 'merge_node',\n            path: newPath,\n            position: position,\n            target: null,\n            properties: properties\n          });\n        }\n\n        if (emptyRef) {\n          emptyRef.unref();\n        }\n      });\n    }\n    /**\r\n     * Move the nodes at a location to a new location.\r\n     */\n\n  }, {\n    key: \"moveNodes\",\n    value: function moveNodes(options) {\n      var _this4 = this;\n\n      this.withoutNormalizing(function () {\n        var to = options.to,\n            _options$at3 = options.at,\n            at = _options$at3 === void 0 ? _this4.value.selection : _options$at3;\n        var match = options.match;\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            var path = at;\n\n            match = function match(_ref11) {\n              var _ref12 = slicedToArray(_ref11, 2),\n                  p = _ref12[1];\n\n              return Path.equals(p, path);\n            };\n          } else {\n            match = 'block';\n          }\n        }\n\n        if (!at) {\n          return;\n        }\n\n        var toRef = _this4.createPathRef(to);\n\n        var targets = _this4.matches({\n          at: at,\n          match: match\n        });\n\n        var pathRefs = Array.from(targets, function (_ref13) {\n          var _ref14 = slicedToArray(_ref13, 2),\n              p = _ref14[1];\n\n          return _this4.createPathRef(p);\n        });\n\n        for (var _i2 = 0, _pathRefs2 = pathRefs; _i2 < _pathRefs2.length; _i2++) {\n          var pathRef = _pathRefs2[_i2];\n\n          var _path5 = pathRef.unref();\n\n          var newPath = toRef.current;\n\n          if (_path5.length !== 0) {\n            _this4.apply({\n              type: 'move_node',\n              path: _path5,\n              newPath: newPath\n            });\n          }\n        }\n\n        toRef.unref();\n      });\n    }\n    /**\r\n     * Normalize a node at a path, returning it to a valid state if it is\r\n     * currently invalid.\r\n     */\n\n  }, {\n    key: \"normalizeNodes\",\n    value: function normalizeNodes(options) {\n      var at = options.at;\n\n      var _this$getNode = this.getNode(at),\n          _this$getNode2 = slicedToArray(_this$getNode, 1),\n          node = _this$getNode2[0]; // There are no core normalizations for text nodes.\n\n\n      if (Text.isText(node)) {\n        return;\n      } // Ensure that block and inline nodes have at least one text child.\n\n\n      if (Element.isElement(node) && node.children.length === 0) {\n        var child = {\n          text: '',\n          marks: []\n        };\n        this.insertNodes(child, {\n          at: at.concat(0)\n        });\n        return;\n      } // Determine whether the node should have block or inline children.\n\n\n      var shouldHaveInlines = Value.isValue(node) ? false : Element.isElement(node) && (this.isInline(node) || node.children.length === 0 || Text.isText(node.children[0]) || this.isInline(node.children[0])); // Since we'll be applying operations while iterating, keep track of an\n      // index that accounts for any added/removed nodes.\n\n      var n = 0;\n\n      for (var i = 0; i < node.children.length; i++, n++) {\n        var _child = node.children[i];\n        var prev = node.children[i - 1];\n        var isLast = i === node.children.length - 1;\n        var isInlineOrText = Text.isText(_child) || Element.isElement(_child) && this.isInline(_child); // Only allow block nodes in the top-level value and parent blocks that\n        // only contain block nodes. Similarly, only allow inline nodes in other\n        // inline nodes, or parent blocks that only contain inlines and text.\n\n        if (isInlineOrText !== shouldHaveInlines) {\n          this.removeNodes({\n            at: at.concat(n)\n          });\n          n--;\n          continue;\n        }\n\n        if (Element.isElement(_child)) {\n          // Ensure that inline nodes are surrounded by text nodes.\n          if (this.isInline(_child)) {\n            if (prev == null || !Text.isText(prev)) {\n              var newChild = {\n                text: '',\n                marks: []\n              };\n              this.insertNodes(newChild, {\n                at: at.concat(n)\n              });\n              n++;\n              continue;\n            }\n\n            if (isLast) {\n              var _newChild = {\n                text: '',\n                marks: []\n              };\n              this.insertNodes(_newChild, {\n                at: at.concat(n + 1)\n              });\n              n++;\n              continue;\n            }\n          }\n        } else {\n          // Merge adjacent text nodes that are empty or have matching marks.\n          if (prev != null && Text.isText(prev)) {\n            if (Text.matches(_child, prev)) {\n              this.mergeNodes({\n                at: at.concat(n)\n              });\n              n--;\n              continue;\n            } else if (prev.text === '') {\n              this.removeNodes({\n                at: at.concat(n - 1)\n              });\n              n--;\n              continue;\n            } else if (isLast && _child.text === '') {\n              this.removeNodes({\n                at: at.concat(n)\n              });\n              n--;\n              continue;\n            }\n          }\n        }\n      }\n    }\n    /**\r\n     * Remove the nodes at a specific location in the document.\r\n     */\n\n  }, {\n    key: \"removeNodes\",\n    value: function removeNodes() {\n      var _this5 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.withoutNormalizing(function () {\n        var match = options.match,\n            _options$at4 = options.at,\n            at = _options$at4 === void 0 ? _this5.value.selection : _options$at4;\n        var _options$hanging2 = options.hanging,\n            hanging = _options$hanging2 === void 0 ? false : _options$hanging2;\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            var path = at;\n\n            match = function match(_ref15) {\n              var _ref16 = slicedToArray(_ref15, 2),\n                  p = _ref16[1];\n\n              return Path.equals(p, path);\n            };\n          } else {\n            match = 'block';\n          }\n        }\n\n        if (!at) {\n          return;\n        }\n\n        if (!hanging && Range.isRange(at)) {\n          at = _this5.unhangRange(at);\n        }\n\n        var depths = _this5.matches({\n          at: at,\n          match: match\n        });\n\n        var pathRefs = Array.from(depths, function (_ref17) {\n          var _ref18 = slicedToArray(_ref17, 2),\n              p = _ref18[1];\n\n          return _this5.createPathRef(p);\n        });\n\n        for (var _i3 = 0, _pathRefs3 = pathRefs; _i3 < _pathRefs3.length; _i3++) {\n          var pathRef = _pathRefs3[_i3];\n\n          var _path6 = pathRef.unref();\n\n          var _this5$getNode = _this5.getNode(_path6),\n              _this5$getNode2 = slicedToArray(_this5$getNode, 1),\n              node = _this5$getNode2[0];\n\n          _this5.apply({\n            type: 'remove_node',\n            path: _path6,\n            node: node\n          });\n        }\n      });\n    }\n    /**\r\n     * Set new properties on the nodes ...\r\n     */\n\n  }, {\n    key: \"setNodes\",\n    value: function setNodes(props) {\n      var _this6 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.withoutNormalizing(function () {\n        var match = options.match,\n            _options$at5 = options.at,\n            at = _options$at5 === void 0 ? _this6.value.selection : _options$at5;\n        var _options$hanging3 = options.hanging,\n            hanging = _options$hanging3 === void 0 ? false : _options$hanging3;\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            var path = at;\n\n            match = function match(_ref19) {\n              var _ref20 = slicedToArray(_ref19, 2),\n                  p = _ref20[1];\n\n              return Path.equals(p, path);\n            };\n          } else {\n            match = 'block';\n          }\n        }\n\n        if (!at) {\n          return;\n        }\n\n        if (!hanging && Range.isRange(at)) {\n          at = _this6.unhangRange(at);\n        }\n\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = _this6.matches({\n            at: at,\n            match: match\n          })[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _step2$value = slicedToArray(_step2.value, 2),\n                node = _step2$value[0],\n                _path7 = _step2$value[1];\n\n            var properties = {};\n            var newProperties = {};\n\n            for (var k in props) {\n              if (k === 'annotations' || k === 'marks' || k === 'children' || k === 'selection' || k === 'text') {\n                continue;\n              }\n\n              if (props[k] !== node[k]) {\n                properties[k] = node[k];\n                newProperties[k] = props[k];\n              }\n            }\n\n            if (Object.keys(newProperties).length !== 0) {\n              _this6.apply({\n                type: 'set_node',\n                path: _path7,\n                properties: properties,\n                newProperties: newProperties\n              });\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      });\n    }\n    /**\r\n     * Split the nodes at a specific location.\r\n     */\n\n  }, {\n    key: \"splitNodes\",\n    value: function splitNodes() {\n      var _this7 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      this.withoutNormalizing(function () {\n        var match = options.match,\n            _options$at6 = options.at,\n            at = _options$at6 === void 0 ? _this7.value.selection : _options$at6,\n            _options$height = options.height,\n            height = _options$height === void 0 ? 0 : _options$height,\n            _options$always = options.always,\n            always = _options$always === void 0 ? false : _options$always;\n\n        if (match == null) {\n          match = 'block';\n        }\n\n        if (Range.isRange(at)) {\n          at = deleteRange(_this7, at);\n        } // If the target is a path, the default height-skipping and position\n        // counters need to account for us potentially splitting at a non-leaf.\n\n\n        if (Path.isPath(at)) {\n          var path = at;\n\n          var point = _this7.getPoint(path);\n\n          match = function match(_ref21) {\n            var _ref22 = slicedToArray(_ref21, 2),\n                p = _ref22[1];\n\n            return p.length === path.length - 1;\n          };\n\n          height = point.path.length - path.length + 1;\n          at = point;\n          always = true;\n        }\n\n        if (!at) {\n          return;\n        }\n\n        var beforeRef = _this7.createPointRef(at, {\n          affinity: 'backward'\n        });\n\n        var highest = _this7.getMatch(at, match);\n\n        if (!highest) {\n          return;\n        }\n\n        var voidMatch = _this7.getMatch(at, 'void');\n\n        var nudge = 0;\n\n        if (voidMatch) {\n          var _voidMatch = slicedToArray(voidMatch, 2),\n              voidNode = _voidMatch[0],\n              voidPath = _voidMatch[1];\n\n          if (Element.isElement(voidNode) && _this7.isInline(voidNode)) {\n            var after = _this7.getAfter(voidPath);\n\n            if (!after) {\n              var text = {\n                text: '',\n                marks: []\n              };\n              var afterPath = Path.next(voidPath);\n\n              _this7.insertNodes(text, {\n                at: afterPath\n              });\n\n              after = _this7.getPoint(afterPath);\n            }\n\n            at = after;\n            always = true;\n          }\n\n          var siblingHeight = at.path.length - voidPath.length;\n          height = siblingHeight + 1;\n          always = true;\n        }\n\n        var afterRef = _this7.createPointRef(at);\n\n        var depth = at.path.length - height;\n\n        var _highest = slicedToArray(highest, 2),\n            highestPath = _highest[1];\n\n        var lowestPath = at.path.slice(0, depth);\n        var position = height === 0 ? at.offset : at.path[depth] + nudge;\n        var target = null;\n        var _iteratorNormalCompletion3 = true;\n        var _didIteratorError3 = false;\n        var _iteratorError3 = undefined;\n\n        try {\n          for (var _iterator3 = _this7.levels({\n            at: lowestPath,\n            reverse: true\n          })[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            var _step3$value = slicedToArray(_step3.value, 2),\n                node = _step3$value[0],\n                _path8 = _step3$value[1];\n\n            var split = false;\n\n            if (_path8.length < highestPath.length || _path8.length === 0 || Element.isElement(node) && _this7.isVoid(node)) {\n              break;\n            }\n\n            var _point2 = beforeRef.current;\n\n            var isEnd = _this7.isEnd(_point2, _path8);\n\n            if (always || !beforeRef || !_this7.isEdge(_point2, _path8)) {\n              var _text = node.text,\n                  marks = node.marks,\n                  children = node.children,\n                  properties = objectWithoutProperties(node, [\"text\", \"marks\", \"children\"]);\n\n              _this7.apply({\n                type: 'split_node',\n                path: _path8,\n                position: position,\n                target: target,\n                properties: properties\n              });\n\n              split = true;\n            }\n\n            target = position;\n            position = _path8[_path8.length - 1] + (split || isEnd ? 1 : 0);\n          }\n        } catch (err) {\n          _didIteratorError3 = true;\n          _iteratorError3 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n              _iterator3[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError3) {\n              throw _iteratorError3;\n            }\n          }\n        }\n\n        if (options.at == null) {\n          var _point = afterRef.current || _this7.getEnd([]);\n\n          _this7.select(_point);\n        }\n\n        beforeRef.unref();\n        afterRef.unref();\n      });\n    }\n    /**\r\n     * Unwrap the nodes at a location from a parent node, splitting the parent if\r\n     * necessary to ensure that only the content in the range is unwrapped.\r\n     */\n\n  }, {\n    key: \"unwrapNodes\",\n    value: function unwrapNodes(options) {\n      var _this8 = this;\n\n      this.withoutNormalizing(function () {\n        var _options$at7 = options.at,\n            at = _options$at7 === void 0 ? _this8.value.selection : _options$at7,\n            _options$split = options.split,\n            split = _options$split === void 0 ? false : _options$split;\n        var match = options.match;\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            var path = at;\n\n            match = function match(_ref23) {\n              var _ref24 = slicedToArray(_ref23, 2),\n                  p = _ref24[1];\n\n              return Path.equals(p, path);\n            };\n          } else {\n            match = 'block';\n          }\n        }\n\n        if (!at) {\n          return;\n        }\n\n        var matches = _this8.matches({\n          at: at,\n          match: match\n        });\n\n        var pathRefs = Array.from(matches, function (_ref25) {\n          var _ref26 = slicedToArray(_ref25, 2),\n              p = _ref26[1];\n\n          return _this8.createPathRef(p);\n        });\n\n        var _loop = function _loop() {\n          var pathRef = _pathRefs4[_i4];\n          var path = pathRef.unref();\n          var depth = path.length + 1;\n\n          var range = _this8.getRange(path);\n\n          if (split && Range.isRange(at)) {\n            range = Range.intersection(at, range);\n          }\n\n          _this8.liftNodes({\n            at: range,\n            match: function match(_ref27) {\n              var _ref28 = slicedToArray(_ref27, 2),\n                  p = _ref28[1];\n\n              return p.length === depth;\n            }\n          });\n        };\n\n        for (var _i4 = 0, _pathRefs4 = pathRefs; _i4 < _pathRefs4.length; _i4++) {\n          _loop();\n        }\n      });\n    }\n    /**\r\n     * Wrap the nodes at a location in a new container node, splitting the edges\r\n     * of the range first to ensure that only the content in the range is wrapped.\r\n     */\n\n  }, {\n    key: \"wrapNodes\",\n    value: function wrapNodes(element) {\n      var _this9 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.withoutNormalizing(function () {\n        var _options$split2 = options.split,\n            split = _options$split2 === void 0 ? false : _options$split2;\n        var match = options.match,\n            _options$at8 = options.at,\n            at = _options$at8 === void 0 ? _this9.value.selection : _options$at8;\n\n        if (!at) {\n          return;\n        }\n\n        if (match == null) {\n          if (Path.isPath(at)) {\n            var path = at;\n\n            match = function match(_ref29) {\n              var _ref30 = slicedToArray(_ref29, 2),\n                  p = _ref30[1];\n\n              return Path.equals(p, path);\n            };\n          } else if (_this9.isInline(element)) {\n            match = 'inline';\n          } else {\n            match = 'block';\n          }\n        }\n\n        if (split && Range.isRange(at)) {\n          var _Range$edges5 = Range.edges(at),\n              _Range$edges6 = slicedToArray(_Range$edges5, 2),\n              start = _Range$edges6[0],\n              end = _Range$edges6[1];\n\n          var rangeRef = _this9.createRangeRef(at, {\n            affinity: 'inward'\n          });\n\n          _this9.splitNodes({\n            at: end,\n            match: match\n          });\n\n          _this9.splitNodes({\n            at: start,\n            match: match\n          });\n\n          at = rangeRef.unref();\n\n          if (options.at == null) {\n            _this9.select(at);\n          }\n        }\n\n        var roots = _this9.isInline(element) ? Array.from(_this9.matches(_objectSpread$4({}, options, {\n          at: at,\n          match: 'block'\n        }))) : [[_this9.value, []]];\n        var _iteratorNormalCompletion4 = true;\n        var _didIteratorError4 = false;\n        var _iteratorError4 = undefined;\n\n        try {\n          for (var _iterator4 = roots[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            var _step4$value = slicedToArray(_step4.value, 2),\n                rootPath = _step4$value[1];\n\n            var a = Range.isRange(at) ? Range.intersection(at, _this9.getRange(rootPath)) : at;\n\n            if (!a) {\n              continue;\n            }\n\n            var matches = Array.from(_this9.matches(_objectSpread$4({}, options, {\n              at: a,\n              match: match\n            })));\n\n            if (matches.length > 0) {\n              (function () {\n                var _matches = slicedToArray(matches, 1),\n                    first = _matches[0];\n\n                var last = matches[matches.length - 1];\n\n                var _first = slicedToArray(first, 2),\n                    firstPath = _first[1];\n\n                var _last = slicedToArray(last, 2),\n                    lastPath = _last[1];\n\n                var commonPath = Path.equals(firstPath, lastPath) ? Path.parent(firstPath) : Path.common(firstPath, lastPath);\n\n                var range = _this9.getRange(firstPath, lastPath);\n\n                var depth = commonPath.length + 1;\n                var wrapperPath = Path.next(lastPath).slice(0, depth);\n\n                var wrapper = _objectSpread$4({}, element, {\n                  children: []\n                });\n\n                _this9.insertNodes(wrapper, {\n                  at: wrapperPath\n                });\n\n                _this9.moveNodes({\n                  at: range,\n                  match: function match(_ref31) {\n                    var _ref32 = slicedToArray(_ref31, 2),\n                        p = _ref32[1];\n\n                    return p.length === depth;\n                  },\n                  to: wrapperPath.concat(0)\n                });\n              })();\n            }\n          }\n        } catch (err) {\n          _didIteratorError4 = true;\n          _iteratorError4 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n              _iterator4[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError4) {\n              throw _iteratorError4;\n            }\n          }\n        }\n      });\n    }\n  }]);\n\n  return NodeCommands;\n}();\n/**\r\n * Convert a range into a point by deleting it's content.\r\n */\n\n\nvar deleteRange = function deleteRange(editor, range) {\n  if (Range.isCollapsed(range)) {\n    return range.anchor;\n  } else {\n    var _Range$edges7 = Range.edges(range),\n        _Range$edges8 = slicedToArray(_Range$edges7, 2),\n        end = _Range$edges8[1];\n\n    var pointRef = editor.createPointRef(end);\n    editor[\"delete\"]({\n      at: range\n    });\n    return pointRef.unref();\n  }\n};\n\nvar MarkCommands =\n/*#__PURE__*/\nfunction () {\n  function MarkCommands() {\n    classCallCheck(this, MarkCommands);\n  }\n\n  createClass(MarkCommands, [{\n    key: \"addMarks\",\n\n    /**\r\n     * Add a set of marks to the text nodes at a location.\r\n     */\n    value: function addMarks(marks) {\n      var _this = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.withoutNormalizing(function () {\n        var at = splitLocation(_this, options);\n\n        if (!at) {\n          return;\n        } // De-dupe the marks being added to ensure the set is unique.\n\n\n        var set = [];\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = marks[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var mark = _step.value;\n\n            if (!Mark.exists(mark, set)) {\n              set.push(mark);\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n          for (var _iterator2 = _this.texts({\n            at: at\n          })[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var _step2$value = slicedToArray(_step2.value, 2),\n                node = _step2$value[0],\n                path = _step2$value[1];\n\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n              for (var _iterator3 = set[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                var _mark = _step3.value;\n\n                if (!Mark.exists(_mark, node.marks)) {\n                  _this.apply({\n                    type: 'add_mark',\n                    path: path,\n                    mark: _mark\n                  });\n                }\n              }\n            } catch (err) {\n              _didIteratorError3 = true;\n              _iteratorError3 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n                  _iterator3[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError3) {\n                  throw _iteratorError3;\n                }\n              }\n            }\n          }\n        } catch (err) {\n          _didIteratorError2 = true;\n          _iteratorError2 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n              _iterator2[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError2) {\n              throw _iteratorError2;\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"removeMarks\",\n    value: function removeMarks(marks) {\n      var _this2 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.withoutNormalizing(function () {\n        var at = splitLocation(_this2, options);\n\n        if (at) {\n          var _iteratorNormalCompletion4 = true;\n          var _didIteratorError4 = false;\n          var _iteratorError4 = undefined;\n\n          try {\n            for (var _iterator4 = _this2.marks({\n              at: at\n            })[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n              var _step4$value = slicedToArray(_step4.value, 4),\n                  mark = _step4$value[0],\n                  i = _step4$value[1],\n                  node = _step4$value[2],\n                  path = _step4$value[3];\n\n              if (Mark.exists(mark, marks)) {\n                _this2.apply({\n                  type: 'remove_mark',\n                  path: path,\n                  mark: mark\n                });\n              }\n            }\n          } catch (err) {\n            _didIteratorError4 = true;\n            _iteratorError4 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n                _iterator4[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError4) {\n                throw _iteratorError4;\n              }\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"setMarks\",\n    value: function setMarks(marks, props) {\n      var _this3 = this;\n\n      var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n      this.withoutNormalizing(function () {\n        var at = splitLocation(_this3, options);\n\n        if (at) {\n          var _iteratorNormalCompletion5 = true;\n          var _didIteratorError5 = false;\n          var _iteratorError5 = undefined;\n\n          try {\n            for (var _iterator5 = _this3.marks({\n              at: at\n            })[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n              var _step5$value = slicedToArray(_step5.value, 4),\n                  mark = _step5$value[0],\n                  i = _step5$value[1],\n                  node = _step5$value[2],\n                  path = _step5$value[3];\n\n              if (Mark.exists(mark, marks)) {\n                var newProps = {};\n\n                for (var k in props) {\n                  if (props[k] !== mark[k]) {\n                    newProps[k] = props[k];\n                  }\n                }\n\n                if (Object.keys(newProps).length > 0) {\n                  _this3.apply({\n                    type: 'set_mark',\n                    path: path,\n                    properties: mark,\n                    newProperties: newProps\n                  });\n                }\n              }\n            }\n          } catch (err) {\n            _didIteratorError5 = true;\n            _iteratorError5 = err;\n          } finally {\n            try {\n              if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n                _iterator5[\"return\"]();\n              }\n            } finally {\n              if (_didIteratorError5) {\n                throw _iteratorError5;\n              }\n            }\n          }\n        }\n      });\n    }\n  }, {\n    key: \"toggleMarks\",\n    value: function toggleMarks(marks) {\n      var _this4 = this;\n\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      this.withoutNormalizing(function () {\n        var existing = _this4.getActiveMarks(options);\n\n        var exists = marks.every(function (m) {\n          return Mark.exists(m, existing);\n        });\n\n        if (exists) {\n          _this4.removeMarks(marks, options);\n        } else {\n          _this4.addMarks(marks, options);\n        }\n      });\n    }\n  }]);\n\n  return MarkCommands;\n}();\n/**\r\n * Split the text nodes at a range's edges to prepare for adding/removing marks.\r\n */\n\n\nvar splitLocation = function splitLocation(editor) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$at = options.at,\n      at = _options$at === void 0 ? editor.value.selection : _options$at,\n      _options$hanging = options.hanging,\n      hanging = _options$hanging === void 0 ? false : _options$hanging;\n\n  if (!at) {\n    return;\n  }\n\n  if (Range.isRange(at)) {\n    if (!hanging) {\n      at = editor.unhangRange(at);\n    }\n\n    var rangeRef = editor.createRangeRef(at, {\n      affinity: 'inward'\n    });\n\n    var _Range$edges = Range.edges(at),\n        _Range$edges2 = slicedToArray(_Range$edges, 2),\n        start = _Range$edges2[0],\n        end = _Range$edges2[1];\n\n    editor.splitNodes({\n      at: end,\n      match: 'text'\n    });\n    editor.splitNodes({\n      at: start,\n      match: 'text'\n    });\n    var range = rangeRef.unref();\n\n    if (options.at == null) {\n      editor.select(range);\n    }\n\n    return range;\n  }\n\n  return at;\n};\n\nvar SelectionCommands =\n/*#__PURE__*/\nfunction () {\n  function SelectionCommands() {\n    classCallCheck(this, SelectionCommands);\n  }\n\n  createClass(SelectionCommands, [{\n    key: \"collapse\",\n\n    /**\r\n     * Collapse the selection.\r\n     */\n    value: function collapse() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _options$edge = options.edge,\n          edge = _options$edge === void 0 ? 'anchor' : _options$edge;\n      var selection = this.value.selection;\n\n      if (!selection) {\n        return;\n      } else if (edge === 'anchor') {\n        this.select(selection.anchor);\n      } else if (edge === 'focus') {\n        this.select(selection.focus);\n      } else if (edge === 'start') {\n        var _Range$edges = Range.edges(selection),\n            _Range$edges2 = slicedToArray(_Range$edges, 1),\n            start = _Range$edges2[0];\n\n        this.select(start);\n      } else if (edge === 'end') {\n        var _Range$edges3 = Range.edges(selection),\n            _Range$edges4 = slicedToArray(_Range$edges3, 2),\n            end = _Range$edges4[1];\n\n        this.select(end);\n      }\n    }\n    /**\r\n     * Unset the selection.\r\n     */\n\n  }, {\n    key: \"deselect\",\n    value: function deselect() {\n      var selection = this.value.selection;\n\n      if (selection) {\n        this.apply({\n          type: 'set_selection',\n          properties: selection,\n          newProperties: null\n        });\n      }\n    }\n    /**\r\n     * Move the selection's point forward or backward.\r\n     */\n\n  }, {\n    key: \"move\",\n    value: function move() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var selection = this.value.selection;\n      var _options$distance = options.distance,\n          distance = _options$distance === void 0 ? 1 : _options$distance,\n          _options$unit = options.unit,\n          unit = _options$unit === void 0 ? 'character' : _options$unit,\n          _options$reverse = options.reverse,\n          reverse = _options$reverse === void 0 ? false : _options$reverse;\n      var _options$edge2 = options.edge,\n          edge = _options$edge2 === void 0 ? null : _options$edge2;\n\n      if (!selection) {\n        return;\n      }\n\n      if (edge === 'start') {\n        edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n      }\n\n      if (edge === 'end') {\n        edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n      }\n\n      var anchor = selection.anchor,\n          focus = selection.focus;\n      var opts = {\n        distance: distance,\n        unit: unit\n      };\n      var props = {};\n\n      if (edge == null || edge === 'anchor') {\n        var point = reverse ? this.getBefore(anchor, opts) : this.getAfter(anchor, opts);\n\n        if (point) {\n          props.anchor = point;\n        }\n      }\n\n      if (edge == null || edge === 'focus') {\n        var _point = reverse ? this.getBefore(focus, opts) : this.getAfter(focus, opts);\n\n        if (_point) {\n          props.focus = _point;\n        }\n      }\n\n      this.setSelection(props);\n    }\n    /**\r\n     * Set the selection to a new value.\r\n     */\n\n  }, {\n    key: \"select\",\n    value: function select(target) {\n      var selection = this.value.selection;\n      target = this.getRange(target);\n\n      if (selection) {\n        this.setSelection(target);\n        return;\n      }\n\n      if (!Range.isRange(target)) {\n        throw new Error(\"When setting the selection and the current selection is `null` you must provide at least an `anchor` and `focus`, but you passed: \".concat(JSON.stringify(target)));\n      }\n\n      this.apply({\n        type: 'set_selection',\n        properties: selection,\n        newProperties: target\n      });\n    }\n    /**\r\n     * Set new properties on one of the selection's points.\r\n     */\n\n  }, {\n    key: \"setPoint\",\n    value: function setPoint(props, options) {\n      var selection = this.value.selection;\n      var _options$edge3 = options.edge,\n          edge = _options$edge3 === void 0 ? 'both' : _options$edge3;\n\n      if (!selection) {\n        return;\n      }\n\n      if (edge === 'start') {\n        edge = Range.isBackward(selection) ? 'focus' : 'anchor';\n      }\n\n      if (edge === 'end') {\n        edge = Range.isBackward(selection) ? 'anchor' : 'focus';\n      }\n\n      var anchor = selection.anchor,\n          focus = selection.focus;\n      var point = edge === 'anchor' ? anchor : focus;\n      var newPoint = Object.assign(point, props);\n\n      if (edge === 'anchor') {\n        this.setSelection({\n          anchor: newPoint\n        });\n      } else {\n        this.setSelection({\n          focus: newPoint\n        });\n      }\n    }\n    /**\r\n     * Set new properties on the selection.\r\n     */\n\n  }, {\n    key: \"setSelection\",\n    value: function setSelection(props) {\n      var selection = this.value.selection;\n      var oldProps = {};\n      var newProps = {};\n\n      if (!selection) {\n        return;\n      }\n\n      for (var k in props) {\n        if (k === 'anchor' && props.anchor != null && !Point.equals(props.anchor, selection.anchor) || k === 'focus' && props.focus != null && !Point.equals(props.focus, selection.focus) || k !== 'anchor' && k !== 'focus' && props[k] !== selection[k]) {\n          oldProps[k] = selection[k];\n          newProps[k] = props[k];\n        }\n      }\n\n      if (Object.keys(oldProps).length > 0) {\n        this.apply({\n          type: 'set_selection',\n          properties: oldProps,\n          newProperties: newProps\n        });\n      }\n    }\n  }]);\n\n  return SelectionCommands;\n}();\n\nvar GeneralCommands =\n/*#__PURE__*/\nfunction () {\n  function GeneralCommands() {\n    classCallCheck(this, GeneralCommands);\n  }\n\n  createClass(GeneralCommands, [{\n    key: \"apply\",\n    value: function apply(op) {\n      var _this = this;\n\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = PATH_REFS.get(this)[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var ref = _step.value;\n          ref.transform(op);\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = POINT_REFS.get(this)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var _ref = _step2.value;\n\n          _ref.transform(op);\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = RANGE_REFS.get(this)[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var _ref2 = _step3.value;\n\n          _ref2.transform(op);\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      var set = new Set();\n      var dirtyPaths = [];\n\n      var add = function add(path) {\n        if (path) {\n          var key = path.join(',');\n\n          if (!set.has(key)) {\n            set.add(key);\n            dirtyPaths.push(path);\n          }\n        }\n      };\n\n      var oldDirtyPaths = DIRTY_PATHS.get(this);\n      var newDirtyPaths = getDirtyPaths(op);\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = oldDirtyPaths[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var path = _step4.value;\n          var newPath = Path.transform(path, op);\n          add(newPath);\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n            _iterator4[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = newDirtyPaths[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var _path = _step5.value;\n          add(_path);\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n            _iterator5[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n\n      DIRTY_PATHS.set(this, dirtyPaths);\n      this.value = Value.transform(this.value, op);\n      this.operations.push(op);\n      this.normalize();\n\n      if (!FLUSHING.get(this)) {\n        FLUSHING.set(this, true);\n        Promise.resolve().then(function () {\n          return _this.flush();\n        });\n      }\n    }\n  }, {\n    key: \"flush\",\n    value: function flush() {\n      FLUSHING.set(this, false);\n      var value = this.value,\n          operations = this.operations;\n\n      if (operations.length !== 0) {\n        this.operations = [];\n        this.onChange(value, operations);\n      }\n    }\n  }, {\n    key: \"normalize\",\n    value: function normalize() {\n      var _this2 = this;\n\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _options$force = options.force,\n          force = _options$force === void 0 ? false : _options$force;\n\n      if (!NORMALIZING.get(this)) {\n        return;\n      }\n\n      if (force) {\n        var allPaths = Array.from(Node.nodes(this.value), function (_ref3) {\n          var _ref4 = slicedToArray(_ref3, 2),\n              p = _ref4[1];\n\n          return p;\n        });\n        DIRTY_PATHS.set(this, allPaths);\n      }\n\n      if (DIRTY_PATHS.get(this).length === 0) {\n        return;\n      }\n\n      this.withoutNormalizing(function () {\n        var max = DIRTY_PATHS.get(_this2).length * 42; // HACK: better way to do this?\n\n        var m = 0;\n\n        while (DIRTY_PATHS.get(_this2).length !== 0) {\n          if (m > max) {\n            throw new Error(\"\\n            Could not completely normalize the value after \".concat(max, \" iterations! This is usually due to incorrect normalization logic that leaves a node in an invalid state.\\n          \"));\n          }\n\n          var path = DIRTY_PATHS.get(_this2).pop();\n\n          _this2.normalizeNodes({\n            at: path\n          });\n\n          m++;\n        }\n      });\n    }\n  }, {\n    key: \"withoutNormalizing\",\n    value: function withoutNormalizing(fn) {\n      var value = NORMALIZING.get(this);\n      NORMALIZING.set(this, false);\n      fn();\n      NORMALIZING.set(this, value);\n      this.normalize();\n    }\n  }]);\n\n  return GeneralCommands;\n}();\n/**\r\n * Get the \"dirty\" paths generated from an operation.\r\n */\n\n\nvar getDirtyPaths = function getDirtyPaths(op) {\n  switch (op.type) {\n    case 'add_mark':\n    case 'insert_text':\n    case 'remove_mark':\n    case 'remove_text':\n    case 'set_mark':\n    case 'set_node':\n      {\n        var path = op.path;\n        return Path.levels(path);\n      }\n\n    case 'insert_node':\n      {\n        var node = op.node,\n            _path2 = op.path;\n        var levels = Path.levels(_path2);\n        var descendants = Text.isText(node) ? [] : Array.from(Node.nodes(node), function (_ref5) {\n          var _ref6 = slicedToArray(_ref5, 2),\n              p = _ref6[1];\n\n          return _path2.concat(p);\n        });\n        return [].concat(toConsumableArray(levels), toConsumableArray(descendants));\n      }\n\n    case 'merge_node':\n      {\n        var _path3 = op.path;\n        var ancestors = Path.ancestors(_path3);\n        var previousPath = Path.previous(_path3);\n        return [].concat(toConsumableArray(ancestors), [previousPath]);\n      }\n\n    case 'move_node':\n      {\n        var _path4 = op.path,\n            newPath = op.newPath;\n\n        if (Path.equals(_path4, newPath)) {\n          return [];\n        }\n\n        var oldAncestors = [];\n        var newAncestors = [];\n        var _iteratorNormalCompletion6 = true;\n        var _didIteratorError6 = false;\n        var _iteratorError6 = undefined;\n\n        try {\n          for (var _iterator6 = Path.ancestors(_path4)[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n            var ancestor = _step6.value;\n            var p = Path.transform(ancestor, op);\n            oldAncestors.push(p);\n          }\n        } catch (err) {\n          _didIteratorError6 = true;\n          _iteratorError6 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n              _iterator6[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError6) {\n              throw _iteratorError6;\n            }\n          }\n        }\n\n        var _iteratorNormalCompletion7 = true;\n        var _didIteratorError7 = false;\n        var _iteratorError7 = undefined;\n\n        try {\n          for (var _iterator7 = Path.ancestors(newPath)[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n            var _ancestor = _step7.value;\n\n            var _p = Path.transform(_ancestor, op);\n\n            newAncestors.push(_p);\n          }\n        } catch (err) {\n          _didIteratorError7 = true;\n          _iteratorError7 = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n              _iterator7[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError7) {\n              throw _iteratorError7;\n            }\n          }\n        }\n\n        return [].concat(oldAncestors, newAncestors);\n      }\n\n    case 'remove_node':\n      {\n        var _path5 = op.path;\n\n        var _ancestors = Path.ancestors(_path5);\n\n        return toConsumableArray(_ancestors);\n      }\n\n    case 'split_node':\n      {\n        var _path6 = op.path;\n\n        var _levels = Path.levels(_path6);\n\n        var nextPath = Path.next(_path6);\n        return [].concat(toConsumableArray(_levels), [nextPath]);\n      }\n\n    default:\n      {\n        return [];\n      }\n  }\n};\n\nvar ElementQueries =\n/*#__PURE__*/\nfunction () {\n  function ElementQueries() {\n    classCallCheck(this, ElementQueries);\n  }\n\n  createClass(ElementQueries, [{\n    key: \"hasBlocks\",\n\n    /**\r\n     * Check if a node has block children.\r\n     */\n    value: function hasBlocks(element) {\n      var _this = this;\n\n      return element.children.some(function (n) {\n        return Element.isElement(n) && !_this.isInline(n);\n      });\n    }\n    /**\r\n     * Check if a node has inline and text children.\r\n     */\n\n  }, {\n    key: \"hasInlines\",\n    value: function hasInlines(element) {\n      var _this2 = this;\n\n      return element.children.some(function (n) {\n        return Text.isText(n) || Element.isElement(n) && _this2.isInline(n);\n      });\n    }\n    /**\r\n     * Check if a node has text children.\r\n     */\n\n  }, {\n    key: \"hasTexts\",\n    value: function hasTexts(element) {\n      return element.children.every(function (n) {\n        return Text.isText(n);\n      });\n    }\n    /**\r\n     * Check if an element is empty, accounting for void nodes.\r\n     */\n\n  }, {\n    key: \"isEmpty\",\n    value: function isEmpty(element) {\n      var children = element.children;\n\n      var _children = slicedToArray(children, 1),\n          first = _children[0];\n\n      return children.length === 0 || children.length === 1 && Text.isText(first) && first.text === '' && !this.isVoid(element);\n    }\n    /**\r\n     * Check if a node is an inline, meaning that it lives intermixed with text\r\n     * nodes in the document tree.\r\n     */\n\n  }, {\n    key: \"isInline\",\n    value: function isInline(element) {\n      return false;\n    }\n    /**\r\n     * Check if a node is a void, meaning that Slate considers its content a black\r\n     * box. It will be edited as if it has no content.\r\n     */\n\n  }, {\n    key: \"isVoid\",\n    value: function isVoid(element) {\n      return false;\n    }\n  }]);\n\n  return ElementQueries;\n}();\n\nvar GeneralQueries =\n/*#__PURE__*/\nfunction () {\n  function GeneralQueries() {\n    classCallCheck(this, GeneralQueries);\n  }\n\n  createClass(GeneralQueries, [{\n    key: \"createPathRef\",\n\n    /**\r\n     * Create a mutable ref for a `Path` object, which will stay in sync as new\r\n     * operations are applied to the this.\r\n     */\n    value: function createPathRef(path) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$affinity = options.affinity,\n          affinity = _options$affinity === void 0 ? 'forward' : _options$affinity;\n      var ref = new PathRef({\n        path: path,\n        affinity: affinity,\n        editor: this\n      });\n      return ref;\n    }\n    /**\r\n     * Create a mutable ref for a `Point` object, which will stay in sync as new\r\n     * operations are applied to the this.\r\n     */\n\n  }, {\n    key: \"createPointRef\",\n    value: function createPointRef(point) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$affinity2 = options.affinity,\n          affinity = _options$affinity2 === void 0 ? 'forward' : _options$affinity2;\n      var ref = new PointRef({\n        point: point,\n        affinity: affinity,\n        editor: this\n      });\n      return ref;\n    }\n    /**\r\n     * Create a mutable ref for a `Range` object, which will stay in sync as new\r\n     * operations are applied to the this.\r\n     */\n\n  }, {\n    key: \"createRangeRef\",\n    value: function createRangeRef(range) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$affinity3 = options.affinity,\n          affinity = _options$affinity3 === void 0 ? 'forward' : _options$affinity3;\n      var ref = new RangeRef({\n        range: range,\n        affinity: affinity,\n        editor: this\n      });\n      return ref;\n    }\n  }]);\n\n  return GeneralQueries;\n}();\n\n/**\r\n * Constants for string distance checking.\r\n */\nvar SPACE = /\\s/;\nvar PUNCTUATION = /[\\u0021-\\u0023\\u0025-\\u002A\\u002C-\\u002F\\u003A\\u003B\\u003F\\u0040\\u005B-\\u005D\\u005F\\u007B\\u007D\\u00A1\\u00A7\\u00AB\\u00B6\\u00B7\\u00BB\\u00BF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E3B\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]/;\nvar CHAMELEON = /['\\u2018\\u2019]/;\nvar SURROGATE_START = 0xd800;\nvar SURROGATE_END = 0xdfff;\n/**\r\n * Check if a character is a word character. The `remaining` argument is used\r\n * because sometimes you must read subsequent characters to truly determine it.\r\n */\n\nvar isWordCharacter = function isWordCharacter(_char, remaining) {\n  if (SPACE.test(_char)) {\n    return false;\n  } // Chameleons count as word characters as long as they're in a word, so\n  // recurse to see if the next one is a word character or not.\n\n\n  if (CHAMELEON.test(_char)) {\n    var next = remaining.charAt(0);\n    var length = getCharacterDistance(next);\n    next = remaining.slice(0, length);\n    var rest = remaining.slice(length);\n\n    if (isWordCharacter(next, rest)) {\n      return true;\n    }\n  }\n\n  if (PUNCTUATION.test(_char)) {\n    return false;\n  }\n\n  return true;\n};\n/**\r\n * Get the distance to the end of the first character in a string of text.\r\n */\n\nvar getCharacterDistance = function getCharacterDistance(text) {\n  var code = text.charCodeAt(0);\n  var isSurrogate = SURROGATE_START <= code && code <= SURROGATE_END;\n  return isSurrogate ? 2 : 1;\n};\n/**\r\n * Get the distance to the end of the first word in a string of text.\r\n */\n\nvar getWordDistance = function getWordDistance(text) {\n  var length = 0;\n  var i = 0;\n  var started = false;\n\n  var _char2;\n\n  while (_char2 = text.charAt(i)) {\n    var l = getCharacterDistance(_char2);\n    _char2 = text.slice(i, i + l);\n    var rest = text.slice(i + l);\n\n    if (isWordCharacter(_char2, rest)) {\n      started = true;\n      length += l;\n    } else if (!started) {\n      length += l;\n    } else {\n      break;\n    }\n\n    i += l;\n  }\n\n  return length;\n};\n\nfunction ownKeys$5(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread$5(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys$5(source, true).forEach(function (key) { defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys$5(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nvar LocationQueries =\n/*#__PURE__*/\nfunction () {\n  function LocationQueries() {\n    classCallCheck(this, LocationQueries);\n  }\n\n  createClass(LocationQueries, [{\n    key: \"annotations\",\n\n    /**\r\n     * Iterate through all of the annotations in the editor.\r\n     */\n    value:\n    /*#__PURE__*/\n    regenerator.mark(function annotations() {\n      var options,\n          _this$value,\n          annotations,\n          selection,\n          _options$at,\n          at,\n          range,\n          key,\n          annotation,\n          _args = arguments;\n\n      return regenerator.wrap(function annotations$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n              _this$value = this.value, annotations = _this$value.annotations, selection = _this$value.selection;\n              _options$at = options.at, at = _options$at === void 0 ? selection : _options$at;\n\n              if (at) {\n                _context.next = 5;\n                break;\n              }\n\n              return _context.abrupt(\"return\");\n\n            case 5:\n              range = this.getRange(at);\n              _context.t0 = regenerator.keys(annotations);\n\n            case 7:\n              if ((_context.t1 = _context.t0()).done) {\n                _context.next = 16;\n                break;\n              }\n\n              key = _context.t1.value;\n              annotation = annotations[key];\n\n              if (!(at && !Range.includes(range, annotation))) {\n                _context.next = 12;\n                break;\n              }\n\n              return _context.abrupt(\"continue\", 7);\n\n            case 12:\n              _context.next = 14;\n              return [annotation, key];\n\n            case 14:\n              _context.next = 7;\n              break;\n\n            case 16:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, annotations, this);\n    })\n    /**\r\n     * Iterate through all of the elements in the editor.\r\n     */\n\n  }, {\n    key: \"elements\",\n    value:\n    /*#__PURE__*/\n    regenerator.mark(function elements() {\n      var _this = this;\n\n      var options,\n          _options$at2,\n          at,\n          _getSpan,\n          _getSpan2,\n          from,\n          to,\n          _args2 = arguments;\n\n      return regenerator.wrap(function elements$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              options = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {};\n              _options$at2 = options.at, at = _options$at2 === void 0 ? this.value.selection : _options$at2;\n\n              if (at) {\n                _context2.next = 4;\n                break;\n              }\n\n              return _context2.abrupt(\"return\");\n\n            case 4:\n              _getSpan = getSpan(this, at, options), _getSpan2 = slicedToArray(_getSpan, 2), from = _getSpan2[0], to = _getSpan2[1];\n              return _context2.delegateYield(Node.elements(this.value, _objectSpread$5({}, options, {\n                from: from,\n                to: to,\n                pass: function pass(_ref) {\n                  var _ref2 = slicedToArray(_ref, 1),\n                      n = _ref2[0];\n\n                  return Element.isElement(n) && _this.isVoid(n);\n                }\n              })), \"t0\", 6);\n\n            case 6:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, elements, this);\n    })\n    /**\r\n     * Get the marks that are \"active\" at a location. These are the\r\n     * marks that will be added to any text that is inserted.\r\n     *\r\n     * The `union: true` option can be passed to create a union of marks across\r\n     * the text nodes in the selection, instead of creating an intersection, which\r\n     * is the default.\r\n     *\r\n     * Note: to obey common rich text behavior, if the selection is collapsed at\r\n     * the start of a text node and there are previous text nodes in the same\r\n     * block, it will carry those marks forward from the previous text node. This\r\n     * allows for continuation of marks from previous words.\r\n     */\n\n  }, {\n    key: \"getActiveMarks\",\n    value: function getActiveMarks() {\n      var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n      var _options$union = options.union,\n          union = _options$union === void 0 ? false : _options$union,\n          _options$hanging = options.hanging,\n          hanging = _options$hanging === void 0 ? false : _options$hanging;\n      var _options$at3 = options.at,\n          at = _options$at3 === void 0 ? this.value.selection : _options$at3;\n\n      if (!at) {\n        return [];\n      }\n\n      at = this.getRange(at);\n\n      if (!hanging) {\n        at = this.unhangRange(at);\n      } // If the range is collapsed at the start of a text node, it should carry\n      // over the marks from the previous text node in the same block.\n\n\n      if (Range.isCollapsed(at) && at.anchor.offset === 0) {\n        var _at = at,\n            anchor = _at.anchor;\n        var prev = this.getPrevious(anchor, 'text');\n\n        if (prev && Path.isSibling(anchor.path, prev[1])) {\n          var _prev = slicedToArray(prev, 2),\n              prevNode = _prev[0],\n              prevPath = _prev[1];\n\n          if (Text.isText(prevNode)) {\n            at = this.getRange(prevPath);\n          }\n        }\n      }\n\n      var marks = [];\n      var first = true;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.texts({\n          at: at\n        })[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = slicedToArray(_step.value, 1),\n              node = _step$value[0];\n\n          if (first) {\n            marks.push.apply(marks, toConsumableArray(node.marks));\n            first = false;\n            continue;\n          }\n\n          if (union) {\n            var _iteratorNormalCompletion2 = true;\n            var _didIteratorError2 = false;\n            var _iteratorError2 = undefined;\n\n            try {\n              for (var _iterator2 = node.marks[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var mark = _step2.value;\n\n                if (!Mark.exists(mark, marks)) {\n                  marks.push(mark);\n                }\n              }\n            } catch (err) {\n              _didIteratorError2 = true;\n              _iteratorError2 = err;\n            } finally {\n              try {\n                if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n                  _iterator2[\"return\"]();\n                }\n              } finally {\n                if (_didIteratorError2) {\n                  throw _iteratorError2;\n                }\n              }\n            }\n          } else {\n            // PERF: If we're doing an intersection and the result hits zero it can\n            // never increase again, so we can exit early.\n            if (marks.length === 0) {\n              break;\n            } // Iterate backwards so that removing marks doesn't impact indexing.\n\n\n            for (var i = marks.length - 1; i >= 0; i--) {\n              var existing = marks[i];\n\n              if (!Mark.exists(existing, node.marks)) {\n                marks.splice(i, 1);\n              }\n            }\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return marks;\n    }\n    /**\r\n     * Get the point after a location.\r\n     */\n\n  }, {\n    key: \"getAfter\",\n    value: function getAfter(at) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var anchor = this.getPoint(at, {\n        edge: 'end'\n      });\n      var focus = this.getEnd([]);\n      var range = {\n        anchor: anchor,\n        focus: focus\n      };\n      var _options$distance = options.distance,\n          distance = _options$distance === void 0 ? 1 : _options$distance;\n      var d = 0;\n      var target;\n      var _iteratorNormalCompletion3 = true;\n      var _didIteratorError3 = false;\n      var _iteratorError3 = undefined;\n\n      try {\n        for (var _iterator3 = this.positions(_objectSpread$5({}, options, {\n          at: range\n        }))[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n          var p = _step3.value;\n\n          if (d > distance) {\n            break;\n          }\n\n          if (d !== 0) {\n            target = p;\n          }\n\n          d++;\n        }\n      } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion3 && _iterator3[\"return\"] != null) {\n            _iterator3[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError3) {\n            throw _iteratorError3;\n          }\n        }\n      }\n\n      return target;\n    }\n    /**\r\n     * Get the common ancestor node of a location.\r\n     */\n\n  }, {\n    key: \"getAncestor\",\n    value: function getAncestor(at) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n      if (Path.isPath(at) || Point.isPoint(at)) {\n        return this.getParent(at, options);\n      }\n\n      var path = this.getPath(at, options);\n      var ancestorPath = Path.equals(at.anchor.path, at.focus.path) ? Path.parent(path) : path;\n      var ancestor = Node.get(this.value, ancestorPath);\n      return [ancestor, ancestorPath];\n    }\n    /**\r\n     * Get the point before a location.\r\n     */\n\n  }, {\n    key: \"getBefore\",\n    value: function getBefore(at) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var anchor = this.getStart([]);\n      var focus = this.getPoint(at, {\n        edge: 'start'\n      });\n      var range = {\n        anchor: anchor,\n        focus: focus\n      };\n      var _options$distance2 = options.distance,\n          distance = _options$distance2 === void 0 ? 1 : _options$distance2;\n      var d = 0;\n      var target;\n      var _iteratorNormalCompletion4 = true;\n      var _didIteratorError4 = false;\n      var _iteratorError4 = undefined;\n\n      try {\n        for (var _iterator4 = this.positions(_objectSpread$5({}, options, {\n          at: range,\n          reverse: true\n        }))[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n          var p = _step4.value;\n\n          if (d > distance) {\n            break;\n          }\n\n          if (d !== 0) {\n            target = p;\n          }\n\n          d++;\n        }\n      } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion4 && _iterator4[\"return\"] != null) {\n            _iterator4[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError4) {\n            throw _iteratorError4;\n          }\n        }\n      }\n\n      return target;\n    }\n    /**\r\n     * Get the start and end points of a location.\r\n     */\n\n  }, {\n    key: \"getEdges\",\n    value: function getEdges(at) {\n      return [this.getStart(at), this.getEnd(at)];\n    }\n    /**\r\n     * Get the end point of a location.\r\n     */\n\n  }, {\n    key: \"getEnd\",\n    value: function getEnd(at) {\n      return this.getPoint(at, {\n        edge: 'end'\n      });\n    }\n    /**\r\n     * Get the first node at a location.\r\n     */\n\n  }, {\n    key: \"getFirst\",\n    value: function getFirst(at) {\n      var path = this.getPath(at, {\n        edge: 'start'\n      });\n      return this.getNode(path);\n    }\n    /**\r\n     * Get the fragment at a location.\r\n     */\n\n  }, {\n    key: \"getFragment\",\n    value: function getFragment(at) {\n      var range = this.getRange(at);\n      var fragment = Node.fragment(this.value, range);\n      return fragment;\n    }\n    /**\r\n     * Get the last node at a location.\r\n     */\n\n  }, {\n    key: \"getLast\",\n    value: function getLast(at) {\n      var path = this.getPath(at, {\n        edge: 'end'\n      });\n      return this.getNode(path);\n    }\n    /**\r\n     * Get the leaf text node at a location.\r\n     */\n\n  }, {\n    key: \"getLeaf\",\n    value: function getLeaf(at) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var path = this.getPath(at, options);\n      var node = Node.leaf(this.value, path);\n      return [node, path];\n    }\n    /**\r\n     * Get the first matching node in a single branch of the document.\r\n     */\n\n  }, {\n    key: \"getMatch\",\n    value: function getMatch(at, match) {\n      var path = this.getPath(at);\n      var _iteratorNormalCompletion5 = true;\n      var _didIteratorError5 = false;\n      var _iteratorError5 = undefined;\n\n      try {\n        for (var _iterator5 = this.levels({\n          at: path\n        })[Symbol.iterator](), _step5; !(_iteratorNormalCompletion5 = (_step5 = _iterator5.next()).done); _iteratorNormalCompletion5 = true) {\n          var entry = _step5.value;\n\n          if (this.isNodeMatch(entry, match)) {\n            return entry;\n          }\n        }\n      } catch (err) {\n        _didIteratorError5 = true;\n        _iteratorError5 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion5 && _iterator5[\"return\"] != null) {\n            _iterator5[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError5) {\n            throw _iteratorError5;\n          }\n        }\n      }\n    }\n    /**\r\n     * Get the matching node in the branch of the document after a location.\r\n     */\n\n  }, {\n    key: \"getNext\",\n    value: function getNext(at, match) {\n      var _this$getLast = this.getLast(at),\n          _this$getLast2 = slicedToArray(_this$getLast, 2),\n          from = _this$getLast2[1];\n\n      var _this$getLast3 = this.getLast([]),\n          _this$getLast4 = slicedToArray(_this$getLast3, 2),\n          to = _this$getLast4[1];\n\n      var span = [from, to];\n      var i = 0;\n      var _iteratorNormalCompletion6 = true;\n      var _didIteratorError6 = false;\n      var _iteratorError6 = undefined;\n\n      try {\n        for (var _iterator6 = this.matches({\n          at: span,\n          match: match\n        })[Symbol.iterator](), _step6; !(_iteratorNormalCompletion6 = (_step6 = _iterator6.next()).done); _iteratorNormalCompletion6 = true) {\n          var entry = _step6.value;\n\n          if (i === 1) {\n            return entry;\n          }\n\n          i++;\n        }\n      } catch (err) {\n        _didIteratorError6 = true;\n        _iteratorError6 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion6 && _iterator6[\"return\"] != null) {\n            _iterator6[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError6) {\n            throw _iteratorError6;\n          }\n        }\n      }\n    }\n    /**\r\n     * Get the node at a location.\r\n     */\n\n  }, {\n    key: \"getNode\",\n    value: function getNode(at) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var path = this.getPath(at, options);\n      var node = Node.get(this.value, path);\n      return [node, path];\n    }\n    /**\r\n     * Get the parent node of a location.\r\n     */\n\n  }, {\n    key: \"getParent\",\n    value: function getParent(at) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var path = this.getPath(at, options);\n      var parentPath = Path.parent(path);\n      var entry = this.getNode(parentPath);\n      return entry;\n    }\n    /**\r\n     * Get the path of a location.\r\n     */\n\n  }, {\n    key: \"getPath\",\n    value: function getPath(at) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var depth = options.depth,\n          edge = options.edge;\n\n      if (Path.isPath(at)) {\n        if (edge === 'start') {\n          var _Node$first = Node.first(this.value, at),\n              _Node$first2 = slicedToArray(_Node$first, 2),\n              firstPath = _Node$first2[1];\n\n          at = firstPath;\n        } else if (edge === 'end') {\n          var _Node$last = Node.last(this.value, at),\n              _Node$last2 = slicedToArray(_Node$last, 2),\n              lastPath = _Node$last2[1];\n\n          at = lastPath;\n        }\n      }\n\n      if (Range.isRange(at)) {\n        if (edge === 'start') {\n          at = Range.start(at);\n        } else if (edge === 'end') {\n          at = Range.end(at);\n        } else {\n          at = Path.common(at.anchor.path, at.focus.path);\n        }\n      }\n\n      if (Point.isPoint(at)) {\n        at = at.path;\n      }\n\n      if (depth != null) {\n        at = at.slice(0, depth);\n      }\n\n      return at;\n    }\n    /**\r\n     * Get the start or end point of a location.\r\n     */\n\n  }, {\n    key: \"getPoint\",\n    value: function getPoint(at) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var _options$edge = options.edge,\n          edge = _options$edge === void 0 ? 'start' : _options$edge;\n\n      if (Path.isPath(at)) {\n        var path;\n\n        if (edge === 'end') {\n          var _Node$last3 = Node.last(this.value, at),\n              _Node$last4 = slicedToArray(_Node$last3, 2),\n              lastPath = _Node$last4[1];\n\n          path = lastPath;\n        } else {\n          var _Node$first3 = Node.first(this.value, at),\n              _Node$first4 = slicedToArray(_Node$first3, 2),\n              firstPath = _Node$first4[1];\n\n          path = firstPath;\n        }\n\n        var node = Node.get(this.value, path);\n\n        if (!Text.isText(node)) {\n          throw new Error(\"Cannot get the \".concat(edge, \" point in the node at path [\").concat(at, \"] because it has no \").concat(edge, \" text node.\"));\n        }\n\n        return {\n          path: path,\n          offset: edge === 'end' ? node.text.length : 0\n        };\n      }\n\n      if (Range.isRange(at)) {\n        var _Range$edges = Range.edges(at),\n            _Range$edges2 = slicedToArray(_Range$edges, 2),\n            start = _Range$edges2[0],\n            end = _Range$edges2[1];\n\n        return edge === 'start' ? start : end;\n      }\n\n      return at;\n    }\n    /**\r\n     * Get the matching node in the branch of the document before a location.\r\n     */\n\n  }, {\n    key: \"getPrevious\",\n    value: function getPrevious(at, match) {\n      var _this$getFirst = this.getFirst(at),\n          _this$getFirst2 = slicedToArray(_this$getFirst, 2),\n          from = _this$getFirst2[1];\n\n      var _this$getFirst3 = this.getFirst([]),\n          _this$getFirst4 = slicedToArray(_this$getFirst3, 2),\n          to = _this$getFirst4[1];\n\n      var span = [from, to];\n      var i = 0;\n      var _iteratorNormalCompletion7 = true;\n      var _didIteratorError7 = false;\n      var _iteratorError7 = undefined;\n\n      try {\n        for (var _iterator7 = this.matches({\n          match: match,\n          at: span,\n          reverse: true\n        })[Symbol.iterator](), _step7; !(_iteratorNormalCompletion7 = (_step7 = _iterator7.next()).done); _iteratorNormalCompletion7 = true) {\n          var entry = _step7.value;\n\n          if (i === 1) {\n            return entry;\n          }\n\n          i++;\n        }\n      } catch (err) {\n        _didIteratorError7 = true;\n        _iteratorError7 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion7 && _iterator7[\"return\"] != null) {\n            _iterator7[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError7) {\n            throw _iteratorError7;\n          }\n        }\n      }\n    }\n    /**\r\n     * Get a range of a location.\r\n     */\n\n  }, {\n    key: \"getRange\",\n    value: function getRange(at, to) {\n      if (Range.isRange(at) && !to) {\n        return at;\n      }\n\n      var start = this.getStart(at);\n      var end = this.getEnd(to || at);\n      return {\n        anchor: start,\n        focus: end\n      };\n    }\n    /**\r\n     * Get the start point of a location.\r\n     */\n\n  }, {\n    key: \"getStart\",\n    value: function getStart(at) {\n      return this.getPoint(at, {\n        edge: 'start'\n      });\n    }\n    /**\r\n     * Get the text content of a location.\r\n     *\r\n     * Note: the text of void nodes is presumed to be an empty string, regardless\r\n     * of what their actual content is.\r\n     */\n\n  }, {\n    key: \"getText\",\n    value: function getText(at) {\n      var range = this.getRange(at);\n\n      var _Range$edges3 = Range.edges(range),\n          _Range$edges4 = slicedToArray(_Range$edges3, 2),\n          start = _Range$edges4[0],\n          end = _Range$edges4[1];\n\n      var text = '';\n      var _iteratorNormalCompletion8 = true;\n      var _didIteratorError8 = false;\n      var _iteratorError8 = undefined;\n\n      try {\n        for (var _iterator8 = this.texts({\n          at: range\n        })[Symbol.iterator](), _step8; !(_iteratorNormalCompletion8 = (_step8 = _iterator8.next()).done); _iteratorNormalCompletion8 = true) {\n          var _step8$value = slicedToArray(_step8.value, 2),\n              node = _step8$value[0],\n              path = _step8$value[1];\n\n          var t = node.text;\n\n          if (Path.equals(path, end.path)) {\n            t = t.slice(0, end.offset);\n          }\n\n          if (Path.equals(path, start.path)) {\n            t = t.slice(start.offset);\n          }\n\n          text += t;\n        }\n      } catch (err) {\n        _didIteratorError8 = true;\n        _iteratorError8 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion8 && _iterator8[\"return\"] != null) {\n            _iterator8[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError8) {\n            throw _iteratorError8;\n          }\n        }\n      }\n\n      return text;\n    }\n    /**\r\n     * Check if there is a node at a location.\r\n     */\n\n  }, {\n    key: \"hasNode\",\n    value: function hasNode(at) {\n      var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n      var path = this.getPath(at, options);\n      var exists = Node.has(this.value, path);\n      return exists;\n    }\n    /**\r\n     * Check if a point the start point of a location.\r\n     */\n\n  }, {\n    key: \"isStart\",\n    value: function isStart(point, at) {\n      // PERF: If the offset isn't `0` we know it's not the start.\n      if (point.offset !== 0) {\n        return false;\n      }\n\n      var start = this.getStart(at);\n      return Point.equals(point, start);\n    }\n    /**\r\n     * Check if a point is the end point of a location.\r\n     */\n\n  }, {\n    key: \"isEnd\",\n    value: function isEnd(point, at) {\n      var end = this.getEnd(at);\n      return Point.equals(point, end);\n    }\n    /**\r\n     * Check if a point is an edge of a location.\r\n     */\n\n  }, {\n    key: \"isEdge\",\n    value: function isEdge(point, at) {\n      return this.isStart(point, at) || this.isEnd(point, at);\n    }\n    /**\r\n     * Iterate through all of the levels at a location.\r\n     */\n\n  }, {\n    key: \"levels\",\n    value:\n    /*#__PURE__*/\n    regenerator.mark(function levels() {\n      var options,\n          _options$at4,\n          at,\n          _options$reverse,\n          reverse,\n          levels,\n          path,\n          _iteratorNormalCompletion9,\n          _didIteratorError9,\n          _iteratorError9,\n          _iterator9,\n          _step9,\n          _step9$value,\n          n,\n          p,\n          _args3 = arguments;\n\n      return regenerator.wrap(function levels$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              options = _args3.length > 0 && _args3[0] !== undefined ? _args3[0] : {};\n              _options$at4 = options.at, at = _options$at4 === void 0 ? this.value.selection : _options$at4, _options$reverse = options.reverse, reverse = _options$reverse === void 0 ? false : _options$reverse;\n\n              if (at) {\n                _context3.next = 4;\n                break;\n              }\n\n              return _context3.abrupt(\"return\");\n\n            case 4:\n              levels = [];\n              path = this.getPath(at);\n              _iteratorNormalCompletion9 = true;\n              _didIteratorError9 = false;\n              _iteratorError9 = undefined;\n              _context3.prev = 9;\n              _iterator9 = Node.levels(this.value, path)[Symbol.iterator]();\n\n            case 11:\n              if (_iteratorNormalCompletion9 = (_step9 = _iterator9.next()).done) {\n                _context3.next = 19;\n                break;\n              }\n\n              _step9$value = slicedToArray(_step9.value, 2), n = _step9$value[0], p = _step9$value[1];\n              levels.push([n, p]);\n\n              if (!(Element.isElement(n) && this.isVoid(n))) {\n                _context3.next = 16;\n                break;\n              }\n\n              return _context3.abrupt(\"break\", 19);\n\n            case 16:\n              _iteratorNormalCompletion9 = true;\n              _context3.next = 11;\n              break;\n\n            case 19:\n              _context3.next = 25;\n              break;\n\n            case 21:\n              _context3.prev = 21;\n              _context3.t0 = _context3[\"catch\"](9);\n              _didIteratorError9 = true;\n              _iteratorError9 = _context3.t0;\n\n            case 25:\n              _context3.prev = 25;\n              _context3.prev = 26;\n\n              if (!_iteratorNormalCompletion9 && _iterator9[\"return\"] != null) {\n                _iterator9[\"return\"]();\n              }\n\n            case 28:\n              _context3.prev = 28;\n\n              if (!_didIteratorError9) {\n                _context3.next = 31;\n                break;\n              }\n\n              throw _iteratorError9;\n\n            case 31:\n              return _context3.finish(28);\n\n            case 32:\n              return _context3.finish(25);\n\n            case 33:\n              if (reverse) {\n                levels.reverse();\n              }\n\n              return _context3.delegateYield(levels, \"t1\", 35);\n\n            case 35:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, levels, this, [[9, 21, 25, 33], [26,, 28, 32]]);\n    })\n    /**\r\n     * Iterate through all of the text nodes in the editor.\r\n     */\n\n  }, {\n    key: \"marks\",\n    value:\n    /*#__PURE__*/\n    regenerator.mark(function marks() {\n      var _this2 = this;\n\n      var options,\n          _options$at5,\n          at,\n          _getSpan3,\n          _getSpan4,\n          from,\n          to,\n          _args4 = arguments;\n\n      return regenerator.wrap(function marks$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              options = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {};\n              _options$at5 = options.at, at = _options$at5 === void 0 ? this.value.selection : _options$at5;\n\n              if (at) {\n                _context4.next = 4;\n                break;\n              }\n\n              return _context4.abrupt(\"return\");\n\n            case 4:\n              _getSpan3 = getSpan(this, at, options), _getSpan4 = slicedToArray(_getSpan3, 2), from = _getSpan4[0], to = _getSpan4[1];\n              return _context4.delegateYield(Node.marks(this.value, _objectSpread$5({}, options, {\n                from: from,\n                to: to,\n                pass: function pass(_ref3) {\n                  var _ref4 = slicedToArray(_ref3, 1),\n                      n = _ref4[0];\n\n                  return Element.isElement(n) && _this2.isVoid(n);\n                }\n              })), \"t0\", 6);\n\n            case 6:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, marks, this);\n    })\n    /**\r\n     * Iterate through all of the nodes that match.\r\n     */\n\n  }, {\n    key: \"matches\",\n    value:\n    /*#__PURE__*/\n    regenerator.mark(function matches(options) {\n      var _options$at6, at, _options$reverse2, reverse, match, path, prevPath, _iteratorNormalCompletion10, _didIteratorError10, _iteratorError10, _iterator10, _step10, _step10$value, n, p;\n\n      return regenerator.wrap(function matches$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              _options$at6 = options.at, at = _options$at6 === void 0 ? this.value.selection : _options$at6, _options$reverse2 = options.reverse, reverse = _options$reverse2 === void 0 ? false : _options$reverse2;\n              match = options.match;\n\n              if (at) {\n                _context5.next = 4;\n                break;\n              }\n\n              return _context5.abrupt(\"return\");\n\n            case 4:\n              if (match == null) {\n                if (Path.isPath(at)) {\n                  path = at;\n\n                  match = function match(_ref5) {\n                    var _ref6 = slicedToArray(_ref5, 2),\n                        p = _ref6[1];\n\n                    return Path.equals(p, path);\n                  };\n                } else {\n                  match = function match() {\n                    return true;\n                  };\n                }\n              }\n\n              _iteratorNormalCompletion10 = true;\n              _didIteratorError10 = false;\n              _iteratorError10 = undefined;\n              _context5.prev = 8;\n              _iterator10 = this.nodes({\n                at: at,\n                reverse: reverse\n              })[Symbol.iterator]();\n\n            case 10:\n              if (_iteratorNormalCompletion10 = (_step10 = _iterator10.next()).done) {\n                _context5.next = 21;\n                break;\n              }\n\n              _step10$value = slicedToArray(_step10.value, 2), n = _step10$value[0], p = _step10$value[1];\n\n              if (!(prevPath && Path.compare(p, prevPath) === 0)) {\n                _context5.next = 14;\n                break;\n              }\n\n              return _context5.abrupt(\"continue\", 18);\n\n            case 14:\n              if (!this.isNodeMatch([n, p], match)) {\n                _context5.next = 18;\n                break;\n              }\n\n              prevPath = p;\n              _context5.next = 18;\n              return [n, p];\n\n            case 18:\n              _iteratorNormalCompletion10 = true;\n              _context5.next = 10;\n              break;\n\n            case 21:\n              _context5.next = 27;\n              break;\n\n            case 23:\n              _context5.prev = 23;\n              _context5.t0 = _context5[\"catch\"](8);\n              _didIteratorError10 = true;\n              _iteratorError10 = _context5.t0;\n\n            case 27:\n              _context5.prev = 27;\n              _context5.prev = 28;\n\n              if (!_iteratorNormalCompletion10 && _iterator10[\"return\"] != null) {\n                _iterator10[\"return\"]();\n              }\n\n            case 30:\n              _context5.prev = 30;\n\n              if (!_didIteratorError10) {\n                _context5.next = 33;\n                break;\n              }\n\n              throw _iteratorError10;\n\n            case 33:\n              return _context5.finish(30);\n\n            case 34:\n              return _context5.finish(27);\n\n            case 35:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, matches, this, [[8, 23, 27, 35], [28,, 30, 34]]);\n    })\n    /**\r\n     * Iterate through all of the nodes in the editor.\r\n     */\n\n  }, {\n    key: \"nodes\",\n    value:\n    /*#__PURE__*/\n    regenerator.mark(function nodes() {\n      var _this3 = this;\n\n      var options,\n          _options$at7,\n          at,\n          _getSpan5,\n          _getSpan6,\n          from,\n          to,\n          iterable,\n          _iteratorNormalCompletion11,\n          _didIteratorError11,\n          _iteratorError11,\n          _iterator11,\n          _step11,\n          entry,\n          _args6 = arguments;\n\n      return regenerator.wrap(function nodes$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              options = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : {};\n              _options$at7 = options.at, at = _options$at7 === void 0 ? this.value.selection : _options$at7;\n\n              if (at) {\n                _context6.next = 4;\n                break;\n              }\n\n              return _context6.abrupt(\"return\");\n\n            case 4:\n              _getSpan5 = getSpan(this, at, options), _getSpan6 = slicedToArray(_getSpan5, 2), from = _getSpan6[0], to = _getSpan6[1];\n              iterable = Node.nodes(this.value, _objectSpread$5({}, options, {\n                from: from,\n                to: to,\n                pass: function pass(_ref7) {\n                  var _ref8 = slicedToArray(_ref7, 1),\n                      n = _ref8[0];\n\n                  return Element.isElement(n) && _this3.isVoid(n);\n                }\n              }));\n              _iteratorNormalCompletion11 = true;\n              _didIteratorError11 = false;\n              _iteratorError11 = undefined;\n              _context6.prev = 9;\n              _iterator11 = iterable[Symbol.iterator]();\n\n            case 11:\n              if (_iteratorNormalCompletion11 = (_step11 = _iterator11.next()).done) {\n                _context6.next = 18;\n                break;\n              }\n\n              entry = _step11.value;\n              _context6.next = 15;\n              return entry;\n\n            case 15:\n              _iteratorNormalCompletion11 = true;\n              _context6.next = 11;\n              break;\n\n            case 18:\n              _context6.next = 24;\n              break;\n\n            case 20:\n              _context6.prev = 20;\n              _context6.t0 = _context6[\"catch\"](9);\n              _didIteratorError11 = true;\n              _iteratorError11 = _context6.t0;\n\n            case 24:\n              _context6.prev = 24;\n              _context6.prev = 25;\n\n              if (!_iteratorNormalCompletion11 && _iterator11[\"return\"] != null) {\n                _iterator11[\"return\"]();\n              }\n\n            case 27:\n              _context6.prev = 27;\n\n              if (!_didIteratorError11) {\n                _context6.next = 30;\n                break;\n              }\n\n              throw _iteratorError11;\n\n            case 30:\n              return _context6.finish(27);\n\n            case 31:\n              return _context6.finish(24);\n\n            case 32:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, nodes, this, [[9, 20, 24, 32], [25,, 27, 31]]);\n    })\n    /**\r\n     * Iterate through all of the positions in the document where a `Point` can be\r\n     * placed.\r\n     *\r\n     * By default it will move forward by individual offsets at a time,  but you\r\n     * can pass the `unit: 'character'` option to moved forward one character, word,\r\n     * or line at at time.\r\n     *\r\n     * Note: void nodes are treated as a single point, and iteration will not\r\n     * happen inside their content.\r\n     */\n\n  }, {\n    key: \"positions\",\n    value:\n    /*#__PURE__*/\n    regenerator.mark(function positions() {\n      var options,\n          _options$at8,\n          at,\n          _options$unit,\n          unit,\n          _options$reverse3,\n          reverse$1,\n          range,\n          _Range$edges5,\n          _Range$edges6,\n          start,\n          end,\n          first,\n          string,\n          available,\n          offset,\n          distance,\n          isNewBlock,\n          advance,\n          _iteratorNormalCompletion12,\n          _didIteratorError12,\n          _iteratorError12,\n          _iterator12,\n          _step12,\n          _step12$value,\n          node,\n          path,\n          e,\n          s,\n          text,\n          isFirst,\n          _args7 = arguments;\n\n      return regenerator.wrap(function positions$(_context7) {\n        while (1) {\n          switch (_context7.prev = _context7.next) {\n            case 0:\n              options = _args7.length > 0 && _args7[0] !== undefined ? _args7[0] : {};\n              _options$at8 = options.at, at = _options$at8 === void 0 ? this.value.selection : _options$at8, _options$unit = options.unit, unit = _options$unit === void 0 ? 'offset' : _options$unit, _options$reverse3 = options.reverse, reverse$1 = _options$reverse3 === void 0 ? false : _options$reverse3;\n\n              if (at) {\n                _context7.next = 4;\n                break;\n              }\n\n              return _context7.abrupt(\"return\");\n\n            case 4:\n              range = this.getRange(at);\n              _Range$edges5 = Range.edges(range), _Range$edges6 = slicedToArray(_Range$edges5, 2), start = _Range$edges6[0], end = _Range$edges6[1];\n              first = reverse$1 ? end : start;\n              string = '';\n              available = 0;\n              offset = 0;\n              distance = null;\n              isNewBlock = false;\n\n              advance = function advance() {\n                if (distance == null) {\n                  if (unit === 'character') {\n                    distance = getCharacterDistance(string);\n                  } else if (unit === 'word') {\n                    distance = getWordDistance(string);\n                  } else if (unit === 'line' || unit === 'block') {\n                    distance = string.length;\n                  } else {\n                    distance = 1;\n                  }\n\n                  string = string.slice(distance);\n                } // Add or substract the offset.\n\n\n                offset = reverse$1 ? offset - distance : offset + distance; // Subtract the distance traveled from the available text.\n\n                available = available - distance; // If the available had room to spare, reset the distance so that it will\n                // advance again next time. Otherwise, set it to the overflow amount.\n\n                distance = available >= 0 ? null : 0 - available;\n              };\n\n              _iteratorNormalCompletion12 = true;\n              _didIteratorError12 = false;\n              _iteratorError12 = undefined;\n              _context7.prev = 16;\n              _iterator12 = this.nodes({\n                at: at,\n                reverse: reverse$1\n              })[Symbol.iterator]();\n\n            case 18:\n              if (_iteratorNormalCompletion12 = (_step12 = _iterator12.next()).done) {\n                _context7.next = 54;\n                break;\n              }\n\n              _step12$value = slicedToArray(_step12.value, 2), node = _step12$value[0], path = _step12$value[1];\n\n              if (!Element.isElement(node)) {\n                _context7.next = 28;\n                break;\n              }\n\n              if (!this.isVoid(node)) {\n                _context7.next = 25;\n                break;\n              }\n\n              _context7.next = 24;\n              return this.getStart(path);\n\n            case 24:\n              return _context7.abrupt(\"continue\", 51);\n\n            case 25:\n              if (!this.isInline(node)) {\n                _context7.next = 27;\n                break;\n              }\n\n              return _context7.abrupt(\"continue\", 51);\n\n            case 27:\n              if (this.hasInlines(node)) {\n                e = Path.isAncestor(path, end.path) ? end : this.getEnd(path);\n                s = Path.isAncestor(path, start.path) ? start : this.getStart(path);\n                text = this.getText({\n                  anchor: s,\n                  focus: e\n                });\n                string = reverse$1 ? reverse(text) : text;\n                isNewBlock = true;\n              }\n\n            case 28:\n              if (!Text.isText(node)) {\n                _context7.next = 51;\n                break;\n              }\n\n              isFirst = Path.equals(path, first.path);\n              available = node.text.length;\n              offset = reverse$1 ? available : 0;\n\n              if (isFirst) {\n                available = reverse$1 ? first.offset : available - first.offset;\n                offset = first.offset;\n              }\n\n              if (!(isFirst || isNewBlock || unit === 'offset')) {\n                _context7.next = 36;\n                break;\n              }\n\n              _context7.next = 36;\n              return {\n                path: path,\n                offset: offset\n              };\n\n            case 36:\n\n              if (!(string === '')) {\n                _context7.next = 41;\n                break;\n              }\n\n              return _context7.abrupt(\"break\", 50);\n\n            case 41:\n              advance();\n\n            case 42:\n              if (!(available >= 0)) {\n                _context7.next = 47;\n                break;\n              }\n\n              _context7.next = 45;\n              return {\n                path: path,\n                offset: offset\n              };\n\n            case 45:\n              _context7.next = 48;\n              break;\n\n            case 47:\n              return _context7.abrupt(\"break\", 50);\n\n            case 48:\n              _context7.next = 36;\n              break;\n\n            case 50:\n              isNewBlock = false;\n\n            case 51:\n              _iteratorNormalCompletion12 = true;\n              _context7.next = 18;\n              break;\n\n            case 54:\n              _context7.next = 60;\n              break;\n\n            case 56:\n              _context7.prev = 56;\n              _context7.t0 = _context7[\"catch\"](16);\n              _didIteratorError12 = true;\n              _iteratorError12 = _context7.t0;\n\n            case 60:\n              _context7.prev = 60;\n              _context7.prev = 61;\n\n              if (!_iteratorNormalCompletion12 && _iterator12[\"return\"] != null) {\n                _iterator12[\"return\"]();\n              }\n\n            case 63:\n              _context7.prev = 63;\n\n              if (!_didIteratorError12) {\n                _context7.next = 66;\n                break;\n              }\n\n              throw _iteratorError12;\n\n            case 66:\n              return _context7.finish(63);\n\n            case 67:\n              return _context7.finish(60);\n\n            case 68:\n            case \"end\":\n              return _context7.stop();\n          }\n        }\n      }, positions, this, [[16, 56, 60, 68], [61,, 63, 67]]);\n    })\n    /**\r\n     * Iterate through all of the text nodes in the editor.\r\n     */\n\n  }, {\n    key: \"texts\",\n    value:\n    /*#__PURE__*/\n    regenerator.mark(function texts() {\n      var _this4 = this;\n\n      var options,\n          _options$at9,\n          at,\n          _getSpan7,\n          _getSpan8,\n          from,\n          to,\n          _args8 = arguments;\n\n      return regenerator.wrap(function texts$(_context8) {\n        while (1) {\n          switch (_context8.prev = _context8.next) {\n            case 0:\n              options = _args8.length > 0 && _args8[0] !== undefined ? _args8[0] : {};\n              _options$at9 = options.at, at = _options$at9 === void 0 ? this.value.selection : _options$at9;\n\n              if (at) {\n                _context8.next = 4;\n                break;\n              }\n\n              return _context8.abrupt(\"return\");\n\n            case 4:\n              _getSpan7 = getSpan(this, at, options), _getSpan8 = slicedToArray(_getSpan7, 2), from = _getSpan8[0], to = _getSpan8[1];\n              return _context8.delegateYield(Node.texts(this.value, _objectSpread$5({}, options, {\n                from: from,\n                to: to,\n                pass: function pass(_ref9) {\n                  var _ref10 = slicedToArray(_ref9, 1),\n                      n = _ref10[0];\n\n                  return Element.isElement(n) && _this4.isVoid(n);\n                }\n              })), \"t0\", 6);\n\n            case 6:\n            case \"end\":\n              return _context8.stop();\n          }\n        }\n      }, texts, this);\n    })\n  }]);\n\n  return LocationQueries;\n}();\n/**\r\n * Get the from and to path span from a location.\r\n */\n\n\nvar getSpan = function getSpan(editor, at) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {};\n  var _options$reverse4 = options.reverse,\n      reverse = _options$reverse4 === void 0 ? false : _options$reverse4;\n\n  if (Span.isSpan(at)) {\n    return at;\n  }\n\n  var first = editor.getPath(at, {\n    edge: 'start'\n  });\n  var last = editor.getPath(at, {\n    edge: 'end'\n  });\n  var from = reverse ? last : first;\n  var to = reverse ? first : last;\n  return [from, to];\n};\n\nvar NodeQueries =\n/*#__PURE__*/\nfunction () {\n  function NodeQueries() {\n    classCallCheck(this, NodeQueries);\n  }\n\n  createClass(NodeQueries, [{\n    key: \"isNodeMatch\",\n\n    /**\r\n     * Check if a node entry is a match.\r\n     */\n    value: function isNodeMatch(entry, match) {\n      var _entry = slicedToArray(entry, 1),\n          node = _entry[0]; // If match is an array, treat it as an OR condition.\n\n\n      if (Array.isArray(match)) {\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n          for (var _iterator = match[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var m = _step.value;\n\n            if (this.isNodeMatch(entry, m)) {\n              return true;\n            }\n          }\n        } catch (err) {\n          _didIteratorError = true;\n          _iteratorError = err;\n        } finally {\n          try {\n            if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n              _iterator[\"return\"]();\n            }\n          } finally {\n            if (_didIteratorError) {\n              throw _iteratorError;\n            }\n          }\n        }\n\n        return false;\n      }\n\n      switch (match) {\n        case 'text':\n          return Text.isText(node);\n\n        case 'value':\n          return Value.isValue(node);\n\n        case 'element':\n          return Element.isElement(node);\n\n        case 'inline':\n          return Element.isElement(node) && this.isInline(node) || Text.isText(node);\n\n        case 'inline-element':\n          return Element.isElement(node) && this.isInline(node);\n\n        case 'block':\n          return Element.isElement(node) && !this.isInline(node) && this.hasInlines(node);\n\n        case 'void':\n          return Element.isElement(node) && this.isVoid(node);\n      }\n\n      if (typeof match === 'function') {\n        return match(entry);\n      } else {\n        return Node.matches(node, match);\n      }\n    }\n  }]);\n\n  return NodeQueries;\n}();\n\nvar RangeQueries =\n/*#__PURE__*/\nfunction () {\n  function RangeQueries() {\n    classCallCheck(this, RangeQueries);\n  }\n\n  createClass(RangeQueries, [{\n    key: \"unhangRange\",\n\n    /**\r\n     * Convert a range into a non-hanging one.\r\n     */\n    value: function unhangRange(range) {\n      var _Range$edges = Range.edges(range),\n          _Range$edges2 = slicedToArray(_Range$edges, 2),\n          start = _Range$edges2[0],\n          end = _Range$edges2[1]; // PERF: exit early if we can guarantee that the range isn't hanging.\n\n\n      if (start.offset !== 0 || end.offset !== 0 || Range.isCollapsed(range)) {\n        return range;\n      }\n\n      var closestBlock = this.getMatch(end.path, 'block');\n      var blockPath = closestBlock ? closestBlock[1] : [];\n      var first = this.getStart([]);\n      var before = {\n        anchor: first,\n        focus: end\n      };\n      var skip = true;\n      var _iteratorNormalCompletion = true;\n      var _didIteratorError = false;\n      var _iteratorError = undefined;\n\n      try {\n        for (var _iterator = this.texts({\n          at: before,\n          reverse: true\n        })[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n          var _step$value = slicedToArray(_step.value, 2),\n              node = _step$value[0],\n              path = _step$value[1];\n\n          if (skip) {\n            skip = false;\n            continue;\n          }\n\n          if (node.text !== '' || Path.isBefore(path, blockPath)) {\n            end = {\n              path: path,\n              offset: node.text.length\n            };\n            break;\n          }\n        }\n      } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n            _iterator[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError) {\n            throw _iteratorError;\n          }\n        }\n      }\n\n      return {\n        anchor: start,\n        focus: end\n      };\n    }\n  }]);\n\n  return RangeQueries;\n}();\n\n/**\r\n * The `Editor` class stores all the state of a Slate editor. It is extended by\r\n * plugins that wish to add their own methods that implement new behaviors.\r\n */\n\nvar Editor = function Editor() {\n  var props = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n\n  classCallCheck(this, Editor);\n\n  var _props$onChange = props.onChange,\n      onChange = _props$onChange === void 0 ? function () {} : _props$onChange,\n      _props$value = props.value,\n      value = _props$value === void 0 ? produce({\n    children: [],\n    selection: null,\n    annotations: {}\n  }, function () {}) : _props$value;\n  this.onChange = onChange;\n  this.operations = [];\n  this.value = value;\n  DIRTY_PATHS.set(this, []);\n  FLUSHING.set(this, false);\n  NORMALIZING.set(this, true);\n  PATH_REFS.set(this, new Set());\n  POINT_REFS.set(this, new Set());\n  RANGE_REFS.set(this, new Set());\n};\n\nvar mixin = function mixin(Mixins) {\n  var _iteratorNormalCompletion = true;\n  var _didIteratorError = false;\n  var _iteratorError = undefined;\n\n  try {\n    for (var _iterator = Mixins[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n      var Mixin = _step.value;\n      var _iteratorNormalCompletion2 = true;\n      var _didIteratorError2 = false;\n      var _iteratorError2 = undefined;\n\n      try {\n        for (var _iterator2 = Object.getOwnPropertyNames(Mixin.prototype)[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n          var key = _step2.value;\n\n          if (key !== 'constructor') {\n            Editor.prototype[key] = Mixin.prototype[key];\n          }\n        }\n      } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n      } finally {\n        try {\n          if (!_iteratorNormalCompletion2 && _iterator2[\"return\"] != null) {\n            _iterator2[\"return\"]();\n          }\n        } finally {\n          if (_didIteratorError2) {\n            throw _iteratorError2;\n          }\n        }\n      }\n    }\n  } catch (err) {\n    _didIteratorError = true;\n    _iteratorError = err;\n  } finally {\n    try {\n      if (!_iteratorNormalCompletion && _iterator[\"return\"] != null) {\n        _iterator[\"return\"]();\n      }\n    } finally {\n      if (_didIteratorError) {\n        throw _iteratorError;\n      }\n    }\n  }\n};\n\nmixin([AnnotationCommands, DeletingCommands, NodeCommands, MarkCommands, SelectionCommands, GeneralCommands, ElementQueries, GeneralQueries, LocationQueries, NodeQueries, RangeQueries]);\n\nexport { Editor, Element, Location, Mark, Node, Operation, Path, PathRef, Point, PointRef, Range, RangeRef, Span, Text, Value };\n//# sourceMappingURL=index.es.js.map\n","import { createContext, useContext } from 'react'\r\nimport { ReactEditor } from '..'\r\n\r\n/**\r\n * A React context for sharing the `ReactEditor` class.\r\n */\r\n\r\nexport const EditorContext = createContext<ReactEditor | undefined>(undefined)\r\n\r\n/**\r\n * Get the current `ReactEditor` class that the component lives under.\r\n */\r\n\r\nexport const useEditor = () => {\r\n  const editor = useContext(EditorContext)\r\n\r\n  if (!editor) {\r\n    throw new Error(\r\n      `The \\`useEditor\\` hook must be used inside the <Editor> context.`\r\n    )\r\n  }\r\n\r\n  return editor\r\n}\r\n","import { createContext, useContext } from 'react'\r\n\r\n/**\r\n * A React context for sharing the `focused` state of the editor.\r\n */\r\n\r\nexport const FocusedContext = createContext(false)\r\n\r\n/**\r\n * Get the current `focused` state of the editor.\r\n */\r\n\r\nexport const useFocused = (): boolean => {\r\n  return useContext(FocusedContext)\r\n}\r\n","import { createContext, useContext } from 'react'\r\n\r\n/**\r\n * A React context for sharing the `readOnly` state of the editor.\r\n */\r\n\r\nexport const ReadOnlyContext = createContext(false)\r\n\r\n/**\r\n * Get the current `readOnly` state of the editor.\r\n */\r\n\r\nexport const useReadOnly = (): boolean => {\r\n  return useContext(ReadOnlyContext)\r\n}\r\n","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;","function _iterableToArrayLimit(arr, i) {\n  if (!(Symbol.iterator in Object(arr) || Object.prototype.toString.call(arr) === \"[object Arguments]\")) {\n    return;\n  }\n\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance\");\n}\n\nmodule.exports = _nonIterableRest;","var arrayWithHoles = require(\"./arrayWithHoles\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit\");\n\nvar nonIterableRest = require(\"./nonIterableRest\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;","/**\r\n * Types.\r\n */\r\n\r\nexport type DOMComment = Comment\r\nexport type DOMElement = Element\r\nexport type DOMText = Text\r\nexport type DOMNode = Node\r\nexport type DOMPoint = [Node, number]\r\nexport type DOMRange = Range\r\nexport type DOMSelection = Selection\r\nexport type DOMStaticRange = StaticRange\r\n\r\n/**\r\n * Check if a DOM node is a comment node.\r\n */\r\n\r\nexport const isDOMComment = (value: any): value is DOMComment => {\r\n  return isDOMNode(value) && value.nodeType === 8\r\n}\r\n\r\n/**\r\n * Check if a DOM node is an element node.\r\n */\r\n\r\nexport const isDOMElement = (value: any): value is DOMElement => {\r\n  return isDOMNode(value) && value.nodeType === 1\r\n}\r\n\r\n/**\r\n * Check if a value is a DOM node.\r\n */\r\n\r\nexport const isDOMNode = (value: any): value is DOMNode => {\r\n  return value instanceof Node\r\n}\r\n\r\n/**\r\n * Check if a DOM node is an element node.\r\n */\r\n\r\nexport const isDOMText = (value: any): value is DOMText => {\r\n  return isDOMNode(value) && value.nodeType === 3\r\n}\r\n\r\n/**\r\n * Normalize a DOM point so that it always refers to a text node.\r\n */\r\n\r\nexport const normalizeDOMPoint = (domPoint: DOMPoint): DOMPoint => {\r\n  let [node, offset] = domPoint\r\n\r\n  // If it's an element node, its offset refers to the index of its children\r\n  // including comment nodes, so try to find the right text child node.\r\n  if (isDOMElement(node) && node.childNodes.length) {\r\n    const isLast = offset === node.childNodes.length\r\n    const direction = isLast ? 'backward' : 'forward'\r\n    const index = isLast ? offset - 1 : offset\r\n    node = getEditableChild(node, index, direction)\r\n\r\n    // If the node has children, traverse until we have a leaf node. Leaf nodes\r\n    // can be either text nodes, or other void DOM nodes.\r\n    while (isDOMElement(node) && node.childNodes.length) {\r\n      const i = isLast ? node.childNodes.length - 1 : 0\r\n      node = getEditableChild(node, i, direction)\r\n    }\r\n\r\n    // Determine the new offset inside the text node.\r\n    offset = isLast && node.textContent != null ? node.textContent.length : 0\r\n  }\r\n\r\n  // Return the node and offset.\r\n  return [node, offset]\r\n}\r\n\r\n/**\r\n * Get the nearest editable child at `index` in a `parent`, preferring\r\n * `direction`.\r\n */\r\n\r\nexport const getEditableChild = (\r\n  parent: DOMElement,\r\n  index: number,\r\n  direction: 'forward' | 'backward'\r\n): DOMNode => {\r\n  const { childNodes } = parent\r\n  let child = childNodes[index]\r\n  let i = index\r\n  let triedForward = false\r\n  let triedBackward = false\r\n\r\n  // While the child is a comment node, or an element node with no children,\r\n  // keep iterating to find a sibling non-void, non-comment node.\r\n  while (\r\n    isDOMComment(child) ||\r\n    (isDOMElement(child) && child.childNodes.length === 0) ||\r\n    (isDOMElement(child) && child.getAttribute('contenteditable') === 'false')\r\n  ) {\r\n    if (triedForward && triedBackward) {\r\n      break\r\n    }\r\n\r\n    if (i >= childNodes.length) {\r\n      triedForward = true\r\n      i = index - 1\r\n      direction = 'backward'\r\n      continue\r\n    }\r\n\r\n    if (i < 0) {\r\n      triedBackward = true\r\n      i = index + 1\r\n      direction = 'forward'\r\n      continue\r\n    }\r\n\r\n    child = childNodes[i]\r\n    i += direction === 'forward' ? 1 : -1\r\n  }\r\n\r\n  return child\r\n}\r\n","export const IS_IOS =\r\n  typeof navigator !== 'undefined' &&\r\n  typeof window !== 'undefined' &&\r\n  /iPad|iPhone|iPod/.test(navigator.userAgent) &&\r\n  !window.MSStream\r\n\r\nexport const IS_APPLE =\r\n  typeof navigator !== 'undefined' && /Mac OS X/.test(navigator.userAgent)\r\n\r\nexport const IS_FIREFOX =\r\n  typeof navigator !== 'undefined' &&\r\n  /^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent)\r\n\r\nexport const IS_SAFARI =\r\n  typeof navigator !== 'undefined' &&\r\n  /Version\\/[\\d\\.]+.*Safari/.test(navigator.userAgent)\r\n","import { isKeyHotkey } from 'is-hotkey'\r\nimport { IS_APPLE } from './environment'\r\n\r\n/**\r\n * Hotkey mappings for each platform.\r\n */\r\n\r\nconst HOTKEYS = {\r\n  bold: 'mod+b',\r\n  compose: ['down', 'left', 'right', 'up', 'backspace', 'enter'],\r\n  moveBackward: 'left',\r\n  moveForward: 'right',\r\n  moveWordBackward: 'ctrl+left',\r\n  moveWordForward: 'ctrl+right',\r\n  deleteBackward: 'shift?+backspace',\r\n  deleteForward: 'shift?+delete',\r\n  extendBackward: 'shift+left',\r\n  extendForward: 'shift+right',\r\n  italic: 'mod+i',\r\n  splitBlock: 'shift?+enter',\r\n  undo: 'mod+z',\r\n}\r\n\r\nconst APPLE_HOTKEYS = {\r\n  moveLineBackward: 'opt+up',\r\n  moveLineForward: 'opt+down',\r\n  moveWordBackward: 'opt+left',\r\n  moveWordForward: 'opt+right',\r\n  deleteBackward: ['ctrl+backspace', 'ctrl+h'],\r\n  deleteForward: ['ctrl+delete', 'ctrl+d'],\r\n  deleteLineBackward: 'cmd+shift?+backspace',\r\n  deleteLineForward: ['cmd+shift?+delete', 'ctrl+k'],\r\n  deleteWordBackward: 'opt+shift?+backspace',\r\n  deleteWordForward: 'opt+shift?+delete',\r\n  extendLineBackward: 'opt+shift+up',\r\n  extendLineForward: 'opt+shift+down',\r\n  redo: 'cmd+shift+z',\r\n  transposeCharacter: 'ctrl+t',\r\n}\r\n\r\nconst WINDOWS_HOTKEYS = {\r\n  deleteWordBackward: 'ctrl+shift?+backspace',\r\n  deleteWordForward: 'ctrl+shift?+delete',\r\n  redo: ['ctrl+y', 'ctrl+shift+z'],\r\n}\r\n\r\n/**\r\n * Create a platform-aware hotkey checker.\r\n */\r\n\r\nconst create = (key: string) => {\r\n  const generic = HOTKEYS[key]\r\n  const apple = APPLE_HOTKEYS[key]\r\n  const windows = WINDOWS_HOTKEYS[key]\r\n  const isGeneric = generic && isKeyHotkey(generic)\r\n  const isApple = apple && isKeyHotkey(apple)\r\n  const isWindows = windows && isKeyHotkey(windows)\r\n\r\n  return (event: KeyboardEvent) => {\r\n    if (isGeneric && isGeneric(event)) return true\r\n    if (IS_APPLE && isApple && isApple(event)) return true\r\n    if (!IS_APPLE && isWindows && isWindows(event)) return true\r\n    return false\r\n  }\r\n}\r\n\r\n/**\r\n * Hotkeys.\r\n */\r\n\r\nexport default {\r\n  isBold: create('bold'),\r\n  isCompose: create('compose'),\r\n  isMoveBackward: create('moveBackward'),\r\n  isMoveForward: create('moveForward'),\r\n  isDeleteBackward: create('deleteBackward'),\r\n  isDeleteForward: create('deleteForward'),\r\n  isDeleteLineBackward: create('deleteLineBackward'),\r\n  isDeleteLineForward: create('deleteLineForward'),\r\n  isDeleteWordBackward: create('deleteWordBackward'),\r\n  isDeleteWordForward: create('deleteWordForward'),\r\n  isExtendBackward: create('extendBackward'),\r\n  isExtendForward: create('extendForward'),\r\n  isExtendLineBackward: create('extendLineBackward'),\r\n  isExtendLineForward: create('extendLineForward'),\r\n  isItalic: create('italic'),\r\n  isMoveLineBackward: create('moveLineBackward'),\r\n  isMoveLineForward: create('moveLineForward'),\r\n  isMoveWordBackward: create('moveWordBackward'),\r\n  isMoveWordForward: create('moveWordForward'),\r\n  isRedo: create('redo'),\r\n  isSplitBlock: create('splitBlock'),\r\n  isTransposeCharacter: create('transposeCharacter'),\r\n  isUndo: create('undo'),\r\n}\r\n","import {\r\n  Range as SlateRange,\r\n  Node as SlateNode,\r\n  Descendant as SlateDescendant,\r\n} from 'slate'\r\n\r\nimport { ReactEditor } from '../plugin'\r\nimport { isDOMText, isDOMElement, DOMNode } from './dom'\r\n\r\nnamespace Utils {\r\n  /**\r\n   * Get the fragment data from a `DataTransfer` object.\r\n   */\r\n\r\n  export const getFragmentData = (\r\n    dataTransfer: DataTransfer\r\n  ): SlateDescendant[] | undefined => {\r\n    const base64 = dataTransfer.getData('application/x-slate-fragment')\r\n\r\n    if (base64) {\r\n      const decoded = decodeURIComponent(window.atob(base64))\r\n      const fragment = JSON.parse(decoded)\r\n      return fragment\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Set the currently selected fragment to the clipboard.\r\n   */\r\n\r\n  export const setFragmentData = (\r\n    dataTransfer: DataTransfer,\r\n    editor: ReactEditor\r\n  ): void => {\r\n    const { value } = editor\r\n    const { selection } = value\r\n\r\n    if (!selection) {\r\n      return\r\n    }\r\n\r\n    const [start, end] = SlateRange.edges(selection)\r\n    const startVoid = editor.getMatch(start.path, 'void')\r\n    const endVoid = editor.getMatch(end.path, 'void')\r\n\r\n    if (SlateRange.isCollapsed(selection) && !startVoid) {\r\n      return\r\n    }\r\n\r\n    // Create a fake selection so that we can add a Base64-encoded copy of the\r\n    // fragment to the HTML, to decode on future pastes.\r\n    const domRange = editor.toDomRange(selection)\r\n    let contents = domRange.cloneContents()\r\n    let attach = contents.childNodes[0] as HTMLElement\r\n\r\n    // Make sure attach is non-empty, since empty nodes will not get copied.\r\n    contents.childNodes.forEach(node => {\r\n      if (node.textContent && node.textContent.trim() !== '') {\r\n        attach = node as HTMLElement\r\n      }\r\n    })\r\n\r\n    // COMPAT: If the end node is a void node, we need to move the end of the\r\n    // range from the void node's spacer span, to the end of the void node's\r\n    // content, since the spacer is before void's content in the DOM.\r\n    if (endVoid) {\r\n      const [voidNode] = endVoid\r\n      const r = domRange.cloneRange()\r\n      const domNode = editor.toDomNode(voidNode)\r\n      r.setEndAfter(domNode)\r\n      contents = r.cloneContents()\r\n    }\r\n\r\n    // COMPAT: If the start node is a void node, we need to attach the encoded\r\n    // fragment to the void node's content node instead of the spacer, because\r\n    // attaching it to empty `<div>/<span>` nodes will end up having it erased by\r\n    // most browsers. (2018/04/27)\r\n    if (startVoid) {\r\n      attach = contents.querySelector('[data-slate-spacer]')! as HTMLElement\r\n    }\r\n\r\n    // Remove any zero-width space spans from the cloned DOM so that they don't\r\n    // show up elsewhere when pasted.\r\n    Array.from(contents.querySelectorAll('[data-slate-zero-width]')).forEach(\r\n      zw => {\r\n        const isNewline = zw.getAttribute('data-slate-zero-width') === 'n'\r\n        zw.textContent = isNewline ? '\\n' : ''\r\n      }\r\n    )\r\n\r\n    // Set a `data-slate-fragment` attribute on a non-empty node, so it shows up\r\n    // in the HTML, and can be used for intra-Slate pasting. If it's a text\r\n    // node, wrap it in a `<span>` so we have something to set an attribute on.\r\n    if (isDOMText(attach)) {\r\n      const span = document.createElement('span')\r\n      // COMPAT: In Chrome and Safari, if we don't add the `white-space` style\r\n      // then leading and trailing spaces will be ignored. (2017/09/21)\r\n      span.style.whiteSpace = 'pre'\r\n      span.appendChild(attach)\r\n      contents.appendChild(span)\r\n      attach = span\r\n    }\r\n\r\n    const fragment = SlateNode.fragment(value, selection)\r\n    const string = JSON.stringify(fragment)\r\n    const encoded = window.btoa(encodeURIComponent(string))\r\n    attach.setAttribute('data-slate-fragment', encoded)\r\n    dataTransfer.setData('application/x-slate-fragment', encoded)\r\n\r\n    // Add the content to a <div> so that we can get its inner HTML.\r\n    const div = document.createElement('div')\r\n    div.appendChild(contents)\r\n    dataTransfer.setData('text/html', div.innerHTML)\r\n    dataTransfer.setData('text/plain', getPlainText(div))\r\n  }\r\n}\r\n\r\n/**\r\n * Get a plaintext representation of the content of a node, accounting for block\r\n * elements which get a newline appended.\r\n */\r\n\r\nconst getPlainText = (domNode: DOMNode) => {\r\n  let text = ''\r\n\r\n  if (isDOMText(domNode) && domNode.nodeValue) {\r\n    return domNode.nodeValue\r\n  }\r\n\r\n  if (isDOMElement(domNode)) {\r\n    for (const childNode of Array.from(domNode.childNodes)) {\r\n      text += getPlainText(childNode)\r\n    }\r\n\r\n    const display = getComputedStyle(domNode).getPropertyValue('display')\r\n\r\n    if (display === 'block' || display === 'list' || domNode.tagName === 'BR') {\r\n      text += '\\n'\r\n    }\r\n  }\r\n\r\n  return text\r\n}\r\n\r\nexport { Utils }\r\n","import { Node, Ancestor, Editor } from 'slate'\r\n\r\nimport { Key } from './key'\r\n\r\n/**\r\n * Two weak maps that allow us rebuild a path given a node. They are populated\r\n * at render time such that after a render occurs we can always backtrack.\r\n */\r\n\r\nexport const NODE_TO_INDEX: WeakMap<Node, number> = new WeakMap()\r\nexport const NODE_TO_PARENT: WeakMap<Node, Ancestor> = new WeakMap()\r\n\r\n/**\r\n * Weak maps that allow us to go between Slate nodes and DOM nodes. These\r\n * are used to resolve DOM event-related logic into Slate actions.\r\n */\r\n\r\nexport const EDITOR_TO_ELEMENT: WeakMap<Editor, HTMLElement> = new WeakMap()\r\nexport const NODE_TO_ELEMENT: WeakMap<Node, HTMLElement> = new WeakMap()\r\nexport const ELEMENT_TO_NODE: WeakMap<HTMLElement, Node> = new WeakMap()\r\nexport const NODE_TO_KEY: WeakMap<Node, Key> = new WeakMap()\r\nexport const KEY_TO_ELEMENT: WeakMap<Key, HTMLElement> = new WeakMap()\r\n\r\n/**\r\n * Weak maps for storing editor-related state.\r\n */\r\n\r\nexport const IS_READ_ONLY: WeakMap<Editor, boolean> = new WeakMap()\r\nexport const IS_FOCUSED: WeakMap<Editor, boolean> = new WeakMap()\r\nexport const IS_DRAGGING: WeakMap<Editor, boolean> = new WeakMap()\r\nexport const IS_CLICKING: WeakMap<Editor, boolean> = new WeakMap()\r\nexport const PLACEHOLDER: WeakMap<Editor, string | undefined> = new WeakMap()\r\n\r\n/**\r\n * Symbols.\r\n */\r\n\r\nexport const PLACEHOLDER_SYMBOL = Symbol('placeholder')\r\n","import React from 'react';\r\nimport { Element, Node, Path, Text } from 'slate';\r\n\r\nimport { useEditor } from '../hooks/use-editor';\r\nimport { Leaf } from '../utils/leaf';\r\n\r\nconst String = (props: {\r\n  isLast: boolean\r\n  leaf: Leaf\r\n  parent: Element\r\n  text: Text\r\n}) => {\r\n  const { isLast, leaf, parent, text } = props\r\n  const editor = useEditor()\r\n  const path = editor.findPath(text)\r\n  const parentPath = Path.parent(path)\r\n\r\n  // COMPAT: Render text inside void nodes with a zero-width space.\r\n  // So the node can contain selection but the text is not visible.\r\n  if (editor.isVoid(parent)) {\r\n    return <ZeroWidthString length={Node.text(parent).length} />\r\n  }\r\n\r\n  // COMPAT: If this is the last text node in an empty block, render a zero-\r\n  // width space that will convert into a line break when copying and pasting\r\n  // to support expected plain text.\r\n  if (\r\n    leaf.text === '' &&\r\n    parent.children[parent.children.length - 1] === text &&\r\n    !editor.isInline(parent) &&\r\n    editor.getText(parentPath) === ''\r\n  ) {\r\n    return <ZeroWidthString isLineBreak />\r\n  }\r\n\r\n  // COMPAT: If the text is empty, it's because it's on the edge of an inline\r\n  // node, so we render a zero-width space so that the selection can be\r\n  // inserted next to it still.\r\n  if (leaf.text === '') {\r\n    return <ZeroWidthString />\r\n  }\r\n\r\n  // COMPAT: Browsers will collapse trailing new lines at the end of blocks,\r\n  // so we need to add an extra trailing new lines to prevent that.\r\n  if (isLast && leaf.text.slice(-1) === '\\n') {\r\n    return <TextString isTrailing text={leaf.text} />\r\n  }\r\n\r\n  return <TextString text={leaf.text} />\r\n}\r\n\r\n/**\r\n * Leaf strings with text in them.\r\n */\r\n\r\nconst TextString = (props: { text: string; isTrailing?: boolean }) => {\r\n  const { text, isTrailing = false } = props\r\n  return (\r\n    <span data-slate-string>\r\n      {text}\r\n      {isTrailing ? '\\n' : null}\r\n    </span>\r\n  )\r\n}\r\n\r\n/**\r\n * Leaf strings without text, render as zero-width strings.\r\n */\r\n\r\nconst ZeroWidthString = (props: { length?: number; isLineBreak?: boolean }) => {\r\n  const { length = 0, isLineBreak = false } = props\r\n  return (\r\n    <span\r\n      data-slate-zero-width={isLineBreak ? 'n' : 'z'}\r\n      data-slate-length={length}\r\n    >\r\n      {'\\uFEFF'}\r\n      {isLineBreak ? <br /> : null}\r\n    </span>\r\n  )\r\n}\r\n\r\nexport default String\r\n","import React from 'react'\r\nimport { Element, Range, Mark, Text } from 'slate'\r\n\r\nimport { useEditor } from '../hooks/use-editor'\r\nimport { Leaf } from '../utils/leaf'\r\n\r\n/**\r\n * `CustomAnnotationProps` are passed to the `renderAnnotation` handler.\r\n */\r\n\r\nexport interface CustomAnnotationProps {\r\n  annotation: Range\r\n  children: any\r\n  key: string\r\n  leaf: Leaf\r\n  text: Text\r\n  attributes: {\r\n    'data-slate-annotation': true\r\n  }\r\n}\r\n\r\n/**\r\n * The default custom annotation renderer.\r\n */\r\n\r\nexport const CustomAnnotation = (props: CustomAnnotationProps) => {\r\n  const { attributes, children } = props\r\n  return <span {...attributes}>{children}</span>\r\n}\r\n\r\nexport interface CustomDecorationProps {\r\n  children: any\r\n  decoration: Range\r\n  leaf: Leaf\r\n  text: Text\r\n  attributes: {\r\n    'data-slate-decoration': true\r\n  }\r\n}\r\n\r\n/**\r\n * The default custom decoration renderer.\r\n */\r\n\r\nexport const CustomDecoration = (props: CustomDecorationProps) => {\r\n  const { attributes, children } = props\r\n  return <span {...attributes}>{children}</span>\r\n}\r\n\r\n/**\r\n * `CustomElementProps` are passed to the `renderElement` handler.\r\n */\r\n\r\nexport interface CustomElementProps {\r\n  children: any\r\n  element: Element\r\n  attributes: {\r\n    'data-slate-inline'?: true\r\n    'data-slate-node': 'element'\r\n    'data-slate-void'?: true\r\n    dir?: 'rtl'\r\n    ref: any\r\n  }\r\n}\r\n\r\n/**\r\n * The default element renderer.\r\n */\r\n\r\nexport const CustomElement = (props: CustomElementProps) => {\r\n  const { attributes, children, element } = props\r\n  const editor = useEditor()\r\n  const Tag = editor.isInline(element) ? 'span' : 'div'\r\n  return (\r\n    <Tag {...attributes} style={{ position: 'relative' }}>\r\n      {children}\r\n    </Tag>\r\n  )\r\n}\r\n\r\n/**\r\n * `CustomMarkProps` are passed to the `renderMark` handler.\r\n */\r\n\r\nexport interface CustomMarkProps {\r\n  children: any\r\n  mark: Mark\r\n  leaf: Leaf\r\n  text: Text\r\n  attributes: {\r\n    'data-slate-mark': true\r\n  }\r\n}\r\n\r\n/**\r\n * The default custom mark renderer.\r\n */\r\n\r\nexport const CustomMark = (props: CustomMarkProps) => {\r\n  const { attributes, children } = props\r\n  return <span {...attributes}>{children}</span>\r\n}\r\n\r\n/**\r\n * A custom decoration for the default placeholder behavior.\r\n */\r\n\r\nexport const PlaceholderDecoration = (props: CustomDecorationProps) => {\r\n  const { decoration, attributes, children } = props\r\n  const { placeholder } = decoration\r\n  return (\r\n    <span {...attributes}>\r\n      <span\r\n        contentEditable={false}\r\n        style={{\r\n          pointerEvents: 'none',\r\n          display: 'inline-block',\r\n          verticalAlign: 'text-top',\r\n          width: '0',\r\n          maxWidth: '100%',\r\n          whiteSpace: 'nowrap',\r\n          opacity: '0.333',\r\n        }}\r\n      >\r\n        {placeholder}\r\n      </span>\r\n      {children}\r\n    </span>\r\n  )\r\n}\r\n","function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n\n    return arr2;\n  }\n}\n\nmodule.exports = _arrayWithoutHoles;","function _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\n\nmodule.exports = _iterableToArray;","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\n\nmodule.exports = _nonIterableSpread;","var arrayWithoutHoles = require(\"./arrayWithoutHoles\");\n\nvar iterableToArray = require(\"./iterableToArray\");\n\nvar nonIterableSpread = require(\"./nonIterableSpread\");\n\nfunction _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || nonIterableSpread();\n}\n\nmodule.exports = _toConsumableArray;","function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nmodule.exports = _defineProperty;","import isPlainObject from 'is-plain-object'\r\nimport { Range, Mark } from 'slate'\r\n\r\n/**\r\n * The `Leaf` interface represents the individual leaves inside a text node,\r\n * once annotations and decorations have been applied.\r\n */\r\n\r\ninterface Leaf {\r\n  annotations: Record<string, Range>\r\n  decorations: Range[]\r\n  marks: Mark[]\r\n  text: string\r\n}\r\n\r\nnamespace Leaf {\r\n  /**\r\n   * Check if two leaves are equal.\r\n   */\r\n\r\n  export const equals = (leaf: Leaf, another: Leaf): boolean => {\r\n    return (\r\n      leaf.text === another.text &&\r\n      leaf.annotations.length === another.annotations.length &&\r\n      leaf.decorations.length === another.decorations.length &&\r\n      leaf.marks.length === another.marks.length &&\r\n      leaf.marks.every(m => Mark.exists(m, another.marks)) &&\r\n      another.marks.every(m => Mark.exists(m, leaf.marks)) &&\r\n      isRangeListEqual(leaf.decorations, another.decorations) &&\r\n      isRangeMapEqual(leaf.annotations, another.annotations)\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Check if a value is a `Leaf` object.\r\n   */\r\n\r\n  export const isLeaf = (value: any): value is Leaf => {\r\n    return (\r\n      isPlainObject(value) &&\r\n      typeof value.text === 'string' &&\r\n      Mark.isMarkSet(value.marks) &&\r\n      Range.isRangeList(value.decorations) &&\r\n      Range.isRangeMap(value.annotations)\r\n    )\r\n  }\r\n\r\n  /**\r\n   * Split a leaf into two at an offset.\r\n   */\r\n\r\n  export const split = (leaf: Leaf, offset: number): [Leaf, Leaf] => {\r\n    return [\r\n      {\r\n        text: leaf.text.slice(0, offset),\r\n        marks: leaf.marks,\r\n        annotations: { ...leaf.annotations },\r\n        decorations: [...leaf.decorations],\r\n      },\r\n      {\r\n        text: leaf.text.slice(offset),\r\n        marks: leaf.marks,\r\n        annotations: { ...leaf.annotations },\r\n        decorations: [...leaf.decorations],\r\n      },\r\n    ]\r\n  }\r\n}\r\n\r\n/**\r\n * Check if a list of ranges is equal to another.\r\n *\r\n * PERF: this requires the two lists to also have the ranges inside them in the\r\n * same order, but this is an okay constraint for us since decorations are\r\n * kept in order, and the odd case where they aren't is okay to re-render for.\r\n */\r\n\r\nconst isRangeListEqual = (list: Range[], another: Range[]): boolean => {\r\n  if (list.length !== another.length) {\r\n    return false\r\n  }\r\n\r\n  for (let i = 0; i < list.length; i++) {\r\n    const range = list[i]\r\n    const other = another[i]\r\n\r\n    if (!Range.equals(range, other)) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n\r\n/**\r\n * Check if a map of ranges is equal to another.\r\n */\r\n\r\nconst isRangeMapEqual = (\r\n  map: Record<string, Range>,\r\n  another: Record<string, Range>\r\n): boolean => {\r\n  if (Object.keys(map).length !== Object.keys(another).length) {\r\n    return false\r\n  }\r\n\r\n  for (const key in map) {\r\n    const range = map[key]\r\n    const other = another[key]\r\n\r\n    if (!Range.equals(range, other)) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true\r\n}\r\n\r\nexport { Leaf, isRangeListEqual, isRangeMapEqual }\r\n","import React from 'react'\r\nimport { Text, Element } from 'slate'\r\nimport String from './string'\r\nimport {\r\n  CustomAnnotation,\r\n  CustomAnnotationProps,\r\n  CustomDecoration,\r\n  CustomDecorationProps,\r\n  CustomMark,\r\n  CustomMarkProps,\r\n  PlaceholderDecoration,\r\n} from './custom'\r\nimport { PLACEHOLDER_SYMBOL } from '../utils/weak-maps'\r\nimport { Leaf as SlateLeaf } from '../utils/leaf'\r\n\r\n/**\r\n * Individual leaves in a text node with unique formatting.\r\n */\r\n\r\nconst Leaf = (props: {\r\n  isLast: boolean\r\n  leaf: SlateLeaf\r\n  parent: Element\r\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\r\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\r\n  renderMark?: (props: CustomMarkProps) => JSX.Element\r\n  text: Text\r\n}) => {\r\n  const {\r\n    leaf,\r\n    isLast,\r\n    text,\r\n    parent,\r\n    renderAnnotation = (props: CustomAnnotationProps) => (\r\n      <CustomAnnotation {...props} />\r\n    ),\r\n    renderDecoration = (props: CustomDecorationProps) => (\r\n      <CustomDecoration {...props} />\r\n    ),\r\n    renderMark = (props: CustomMarkProps) => <CustomMark {...props} />,\r\n  } = props\r\n\r\n  let children = (\r\n    <String isLast={isLast} leaf={leaf} parent={parent} text={text} />\r\n  )\r\n\r\n  // COMPAT: Having the `data-` attributes on these leaf elements ensures that\r\n  // in certain misbehaving browsers they aren't weirdly cloned/destroyed by\r\n  // contenteditable behaviors. (2019/05/08)\r\n  for (const mark of leaf.marks) {\r\n    const ret = renderMark({\r\n      children,\r\n      leaf,\r\n      mark,\r\n      text,\r\n      attributes: {\r\n        'data-slate-mark': true,\r\n      },\r\n    })\r\n\r\n    if (ret) {\r\n      children = ret\r\n    }\r\n  }\r\n\r\n  for (const decoration of leaf.decorations) {\r\n    const p = {\r\n      children,\r\n      decoration,\r\n      leaf,\r\n      text,\r\n      attributes: {\r\n        'data-slate-decoration': true,\r\n      },\r\n    }\r\n\r\n    if (PLACEHOLDER_SYMBOL in decoration) {\r\n      // @ts-ignore\r\n      children = <PlaceholderDecoration {...p} />\r\n    } else {\r\n      // @ts-ignore\r\n      const ret = renderDecoration(p)\r\n\r\n      if (ret) {\r\n        children = ret\r\n      }\r\n    }\r\n  }\r\n\r\n  for (const key in leaf.annotations) {\r\n    const annotation = leaf.annotations[key]\r\n    const ret = renderAnnotation({\r\n      annotation,\r\n      children,\r\n      key,\r\n      leaf,\r\n      text,\r\n      attributes: {\r\n        'data-slate-annotation': true,\r\n      },\r\n    })\r\n\r\n    if (ret) {\r\n      children = ret\r\n    }\r\n  }\r\n\r\n  return <span data-slate-leaf>{children}</span>\r\n}\r\n\r\nconst MemoizedLeaf = React.memo(Leaf, (prev, next) => {\r\n  return (\r\n    next.parent === prev.parent &&\r\n    next.isLast === prev.isLast &&\r\n    next.renderAnnotation === prev.renderAnnotation &&\r\n    next.renderDecoration === prev.renderDecoration &&\r\n    next.renderMark === prev.renderMark &&\r\n    next.text === prev.text &&\r\n    SlateLeaf.equals(next.leaf, prev.leaf)\r\n  )\r\n})\r\n\r\nexport default MemoizedLeaf\r\n","import React, { useLayoutEffect, useRef } from 'react'\r\nimport { Range, Element, Text as SlateText } from 'slate'\r\n\r\nimport Leaf from './leaf'\r\nimport { Leaf as SlateLeaf } from '../utils/leaf'\r\nimport { useEditor } from '../hooks/use-editor'\r\nimport {\r\n  KEY_TO_ELEMENT,\r\n  NODE_TO_ELEMENT,\r\n  ELEMENT_TO_NODE,\r\n} from '../utils/weak-maps'\r\nimport {\r\n  CustomAnnotationProps,\r\n  CustomDecorationProps,\r\n  CustomMarkProps,\r\n} from './custom'\r\n\r\n/**\r\n * Text.\r\n */\r\n\r\nconst Text = (props: {\r\n  annotations: Record<string, Range>\r\n  decorations: Range[]\r\n  isLast: boolean\r\n  parent: Element\r\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\r\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\r\n  renderMark?: (props: CustomMarkProps) => JSX.Element\r\n  text: SlateText\r\n}) => {\r\n  const {\r\n    annotations,\r\n    decorations,\r\n    isLast,\r\n    parent,\r\n    renderAnnotation,\r\n    renderDecoration,\r\n    renderMark,\r\n    text,\r\n  } = props\r\n  const editor = useEditor()\r\n  const ref = useRef<HTMLSpanElement>(null)\r\n  const leaves = getLeaves(text, annotations, decorations)\r\n  const key = editor.findKey(text)\r\n  const children = []\r\n\r\n  for (let i = 0; i < leaves.length; i++) {\r\n    const leaf = leaves[i]\r\n\r\n    children.push(\r\n      <Leaf\r\n        isLast={isLast && i === leaves.length - 1}\r\n        key={`${key.id}-${i}`}\r\n        leaf={leaf}\r\n        text={text}\r\n        parent={parent}\r\n        renderAnnotation={renderAnnotation}\r\n        renderDecoration={renderDecoration}\r\n        renderMark={renderMark}\r\n      />\r\n    )\r\n  }\r\n\r\n  // Update element-related weak maps with the DOM element ref.\r\n  useLayoutEffect(() => {\r\n    if (ref.current) {\r\n      KEY_TO_ELEMENT.set(key, ref.current)\r\n      NODE_TO_ELEMENT.set(text, ref.current)\r\n      ELEMENT_TO_NODE.set(ref.current, text)\r\n    } else {\r\n      KEY_TO_ELEMENT.delete(key)\r\n      NODE_TO_ELEMENT.delete(text)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <span data-slate-node=\"text\" ref={ref}>\r\n      {children}\r\n    </span>\r\n  )\r\n}\r\n\r\n/**\r\n * Get the leaves for a text node given annotations and decorations.\r\n */\r\n\r\nconst getLeaves = (\r\n  node: SlateText,\r\n  annotations: Record<string, Range>,\r\n  decorations: Range[]\r\n): SlateLeaf[] => {\r\n  const { text, marks } = node\r\n  let leaves: SlateLeaf[] = [{ text, marks, annotations: {}, decorations: [] }]\r\n\r\n  const compile = (\r\n    collection: 'annotations' | 'decorations',\r\n    range: Range,\r\n    key?: string\r\n  ) => {\r\n    const [start, end] = Range.edges(range)\r\n    const next = []\r\n    let o = 0\r\n\r\n    for (const leaf of leaves) {\r\n      const { length } = leaf.text\r\n      const offset = o\r\n      o += length\r\n\r\n      // If the range encompases the entire leaf, add the range.\r\n      if (start.offset <= offset && end.offset >= offset + length) {\r\n        if (collection === 'annotations') {\r\n          leaf.annotations[key!] = range\r\n        } else {\r\n          leaf.decorations.push(range)\r\n        }\r\n\r\n        next.push(leaf)\r\n        continue\r\n      }\r\n\r\n      // If the range starts after the leaf, or ends before it, continue.\r\n      if (\r\n        start.offset > offset + length ||\r\n        end.offset < offset ||\r\n        (end.offset === offset && offset !== 0)\r\n      ) {\r\n        next.push(leaf)\r\n        continue\r\n      }\r\n\r\n      // Otherwise we need to split the leaf, at the start, end, or both,\r\n      // and add the range to the middle intersecting section. Do the end\r\n      // split first since we don't need to update the offset that way.\r\n      let middle = leaf\r\n      let before\r\n      let after\r\n\r\n      if (end.offset < offset + length) {\r\n        ;[middle, after] = SlateLeaf.split(middle, end.offset - offset)\r\n      }\r\n\r\n      if (start.offset > offset) {\r\n        ;[before, middle] = SlateLeaf.split(middle, start.offset - offset)\r\n      }\r\n\r\n      if (collection === 'annotations') {\r\n        middle.annotations[key!] = range\r\n      } else {\r\n        middle.decorations.push(range)\r\n      }\r\n\r\n      if (before) {\r\n        next.push(before)\r\n      }\r\n\r\n      next.push(middle)\r\n\r\n      if (after) {\r\n        next.push(after)\r\n      }\r\n    }\r\n\r\n    leaves = next\r\n  }\r\n\r\n  for (const key in annotations) {\r\n    const range = annotations[key]\r\n    compile('annotations', range, key)\r\n  }\r\n\r\n  for (const range of decorations) {\r\n    compile('decorations', range)\r\n  }\r\n\r\n  return leaves\r\n}\r\n\r\nconst MemoizedText = React.memo(Text, (prev, next) => {\r\n  if (\r\n    next.parent === prev.parent &&\r\n    next.isLast === prev.isLast &&\r\n    next.renderAnnotation === prev.renderAnnotation &&\r\n    next.renderDecoration === prev.renderDecoration &&\r\n    next.renderMark === prev.renderMark &&\r\n    next.text === prev.text\r\n  ) {\r\n    return SlateLeaf.equals(\r\n      {\r\n        ...next.text,\r\n        annotations: next.annotations,\r\n        decorations: next.decorations,\r\n      },\r\n      {\r\n        ...prev.text,\r\n        annotations: prev.annotations,\r\n        decorations: prev.decorations,\r\n      }\r\n    )\r\n  }\r\n\r\n  return false\r\n})\r\n\r\nexport default MemoizedText\r\n","import { createContext, useContext } from 'react'\r\n\r\n/**\r\n * A React context for sharing the `selected` state of an element.\r\n */\r\n\r\nexport const SelectedContext = createContext(false)\r\n\r\n/**\r\n * Get the current `selected` state of an element.\r\n */\r\n\r\nexport const useSelected = (): boolean => {\r\n  return useContext(SelectedContext)\r\n}\r\n","import React, { useLayoutEffect, useRef } from 'react'\r\nimport getDirection from 'direction'\r\nimport { Node, Range, NodeEntry, Element as SlateElement } from 'slate'\r\n\r\nimport Text from './text'\r\nimport Children from './children'\r\nimport { useEditor } from '../hooks/use-editor'\r\nimport { useReadOnly } from '../hooks/use-read-only'\r\nimport { SelectedContext } from '../hooks/use-selected'\r\nimport {\r\n  NODE_TO_ELEMENT,\r\n  ELEMENT_TO_NODE,\r\n  NODE_TO_PARENT,\r\n  NODE_TO_INDEX,\r\n  KEY_TO_ELEMENT,\r\n} from '../utils/weak-maps'\r\nimport {\r\n  CustomAnnotationProps,\r\n  CustomDecorationProps,\r\n  CustomElement,\r\n  CustomElementProps,\r\n  CustomMarkProps,\r\n} from './custom'\r\nimport { isRangeListEqual, isRangeMapEqual } from '../utils/leaf'\r\n\r\n/**\r\n * Element.\r\n */\r\n\r\nconst Element = (props: {\r\n  annotations: Record<string, Range>\r\n  decorate: (entry: NodeEntry) => Range[]\r\n  decorations: Range[]\r\n  element: SlateElement\r\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\r\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\r\n  renderElement?: (props: CustomElementProps) => JSX.Element\r\n  renderMark?: (props: CustomMarkProps) => JSX.Element\r\n  selection: Range | null\r\n}) => {\r\n  const {\r\n    annotations,\r\n    decorate,\r\n    decorations,\r\n    element,\r\n    renderAnnotation,\r\n    renderDecoration,\r\n    renderElement = (p: CustomElementProps) => <CustomElement {...p} />,\r\n    renderMark,\r\n    selection,\r\n  } = props\r\n  const ref = useRef<HTMLElement>(null)\r\n  const editor = useEditor()\r\n  const readOnly = useReadOnly()\r\n  const isInline = editor.isInline(element)\r\n  const key = editor.findKey(element)\r\n\r\n  let children: JSX.Element | null = (\r\n    <Children\r\n      annotations={annotations}\r\n      decorate={decorate}\r\n      decorations={decorations}\r\n      node={element}\r\n      renderAnnotation={renderAnnotation}\r\n      renderDecoration={renderDecoration}\r\n      renderElement={renderElement}\r\n      renderMark={renderMark}\r\n      selection={selection}\r\n    />\r\n  )\r\n\r\n  // Attributes that the developer must mix into the element in their\r\n  // custom node renderer component.\r\n  const attributes: {\r\n    'data-slate-node': 'element'\r\n    'data-slate-void'?: true\r\n    'data-slate-inline'?: true\r\n    contentEditable?: false\r\n    dir?: 'rtl'\r\n    ref: any\r\n  } = {\r\n    'data-slate-node': 'element',\r\n    ref,\r\n  }\r\n\r\n  if (isInline) {\r\n    attributes['data-slate-inline'] = true\r\n  }\r\n\r\n  // If it's a block node with inline children, add the proper `dir` attribute\r\n  // for text direction.\r\n  if (!isInline && editor.hasInlines(element)) {\r\n    const text = Node.text(element)\r\n    const dir = getDirection(text)\r\n\r\n    if (dir === 'rtl') {\r\n      attributes.dir = dir\r\n    }\r\n  }\r\n\r\n  // If it's a void node, wrap the children in extra void-specific elements.\r\n  if (editor.isVoid(element)) {\r\n    attributes['data-slate-void'] = true\r\n\r\n    if (!readOnly && isInline) {\r\n      attributes.contentEditable = false\r\n    }\r\n\r\n    const Tag = isInline ? 'span' : 'div'\r\n    const [[text]] = Node.texts(element)\r\n\r\n    children = readOnly ? null : (\r\n      <Tag\r\n        data-slate-spacer\r\n        style={{\r\n          height: '0',\r\n          color: 'transparent',\r\n          outline: 'none',\r\n          position: 'absolute',\r\n        }}\r\n      >\r\n        <Text\r\n          annotations={{}}\r\n          decorations={[]}\r\n          isLast={false}\r\n          parent={element}\r\n          text={text}\r\n        />\r\n      </Tag>\r\n    )\r\n\r\n    NODE_TO_INDEX.set(text, 0)\r\n    NODE_TO_PARENT.set(text, element)\r\n  }\r\n\r\n  // Update element-related weak maps with the DOM element ref.\r\n  useLayoutEffect(() => {\r\n    if (ref.current) {\r\n      KEY_TO_ELEMENT.set(key, ref.current)\r\n      NODE_TO_ELEMENT.set(element, ref.current)\r\n      ELEMENT_TO_NODE.set(ref.current, element)\r\n    } else {\r\n      KEY_TO_ELEMENT.delete(key)\r\n      NODE_TO_ELEMENT.delete(element)\r\n    }\r\n  })\r\n\r\n  return (\r\n    <SelectedContext.Provider value={!!selection}>\r\n      {renderElement({ attributes, children, element })}\r\n    </SelectedContext.Provider>\r\n  )\r\n}\r\n\r\nconst MemoizedElement = React.memo(Element, (prev, next) => {\r\n  return (\r\n    prev.decorate === next.decorate &&\r\n    prev.element === next.element &&\r\n    prev.renderAnnotation === next.renderAnnotation &&\r\n    prev.renderDecoration === next.renderDecoration &&\r\n    prev.renderElement === next.renderElement &&\r\n    prev.renderMark === next.renderMark &&\r\n    isRangeListEqual(prev.decorations, next.decorations) &&\r\n    isRangeMapEqual(prev.annotations, next.annotations) &&\r\n    (prev.selection === next.selection ||\r\n      (!!prev.selection &&\r\n        !!next.selection &&\r\n        Range.equals(prev.selection, next.selection)))\r\n  )\r\n})\r\n\r\nexport default MemoizedElement\r\n","import React from 'react'\r\nimport { Range, Element, NodeEntry, Ancestor, Descendant } from 'slate'\r\n\r\nimport ElementComponent from './element'\r\nimport TextComponent from './text'\r\nimport { useEditor } from '../hooks/use-editor'\r\nimport { NODE_TO_INDEX, NODE_TO_PARENT } from '../utils/weak-maps'\r\nimport {\r\n  CustomAnnotationProps,\r\n  CustomDecorationProps,\r\n  CustomElementProps,\r\n  CustomMarkProps,\r\n} from './custom'\r\n\r\n/**\r\n * Children.\r\n */\r\n\r\nconst Children = (props: {\r\n  annotations: Record<string, Range>\r\n  decorate: (entry: NodeEntry) => Range[]\r\n  decorations: Range[]\r\n  node: Ancestor\r\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\r\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\r\n  renderElement?: (props: CustomElementProps) => JSX.Element\r\n  renderMark?: (props: CustomMarkProps) => JSX.Element\r\n  selection: Range | null\r\n}) => {\r\n  const {\r\n    annotations,\r\n    decorate,\r\n    decorations,\r\n    node,\r\n    renderAnnotation,\r\n    renderDecoration,\r\n    renderElement,\r\n    renderMark,\r\n    selection,\r\n  } = props\r\n  const editor = useEditor()\r\n  const path = editor.findPath(node)\r\n  const children = []\r\n  const isLeafBlock =\r\n    Element.isElement(node) && !editor.isInline(node) && editor.hasInlines(node)\r\n\r\n  for (let i = 0; i < node.children.length; i++) {\r\n    const p = path.concat(i)\r\n    const n = node.children[i] as Descendant\r\n    const key = editor.findKey(n)\r\n    const range = editor.getRange(p)\r\n    const sel = selection && Range.intersection(range, selection)\r\n    const decs = decorate([n, p])\r\n    const anns = {}\r\n\r\n    for (const dec of decorations) {\r\n      const d = Range.intersection(dec, range)\r\n\r\n      if (d) {\r\n        decs.push(d)\r\n      }\r\n    }\r\n\r\n    for (const k in annotations) {\r\n      const ann = annotations[k]\r\n      const a = Range.intersection(ann, range)\r\n\r\n      if (a) {\r\n        anns[k] = a\r\n      }\r\n    }\r\n\r\n    if (Element.isElement(n)) {\r\n      children.push(\r\n        <ElementComponent\r\n          annotations={anns}\r\n          decorate={decorate}\r\n          decorations={decs}\r\n          element={n}\r\n          key={key.id}\r\n          renderAnnotation={renderAnnotation}\r\n          renderDecoration={renderDecoration}\r\n          renderElement={renderElement}\r\n          renderMark={renderMark}\r\n          selection={sel}\r\n        />\r\n      )\r\n    } else {\r\n      children.push(\r\n        <TextComponent\r\n          annotations={anns}\r\n          decorations={decs}\r\n          key={key.id}\r\n          isLast={isLeafBlock && i === node.children.length}\r\n          parent={node}\r\n          renderAnnotation={renderAnnotation}\r\n          renderDecoration={renderDecoration}\r\n          renderMark={renderMark}\r\n          text={n}\r\n        />\r\n      )\r\n    }\r\n\r\n    NODE_TO_INDEX.set(n, i)\r\n    NODE_TO_PARENT.set(n, node)\r\n  }\r\n\r\n  return <React.Fragment>{children}</React.Fragment>\r\n}\r\n\r\nexport default Children\r\n","import debounce from 'debounce';\r\nimport React, { useCallback, useLayoutEffect, useMemo, useRef } from 'react';\r\nimport scrollIntoView from 'scroll-into-view-if-needed';\r\nimport { Element, NodeEntry, Operation, Range as SlateRange, Value } from 'slate';\r\n\r\nimport { EditorContext } from '../hooks/use-editor';\r\nimport { FocusedContext } from '../hooks/use-focused';\r\nimport { ReadOnlyContext } from '../hooks/use-read-only';\r\nimport { ReactEditor } from '../plugin';\r\nimport {\r\n    DOMElement, DOMNode, DOMRange, DOMStaticRange, isDOMElement, isDOMNode,\r\n} from '../utils/dom';\r\nimport { IS_FIREFOX, IS_SAFARI } from '../utils/environment';\r\nimport Hotkeys from '../utils/hotkeys';\r\nimport { Utils } from '../utils/utils';\r\nimport {\r\n    EDITOR_TO_ELEMENT, ELEMENT_TO_NODE, IS_FOCUSED, IS_READ_ONLY, NODE_TO_ELEMENT, PLACEHOLDER,\r\n} from '../utils/weak-maps';\r\nimport Children from './children';\r\nimport {\r\n    CustomAnnotationProps, CustomDecorationProps, CustomElementProps, CustomMarkProps,\r\n} from './custom';\r\n\r\n/**\r\n * Editor.\r\n */\r\n\r\nconst Editor = (props: {\r\n  decorate?: (entry: NodeEntry) => SlateRange[]\r\n  editor: ReactEditor\r\n  onChange: (value: Value, operations: Operation[]) => void\r\n  placeholder?: string\r\n  readOnly?: boolean\r\n  role?: string\r\n  style?: Record<string, any>\r\n  renderAnnotation?: (props: CustomAnnotationProps) => JSX.Element\r\n  renderDecoration?: (props: CustomDecorationProps) => JSX.Element\r\n  renderElement?: (props: CustomElementProps) => JSX.Element\r\n  renderMark?: (props: CustomMarkProps) => JSX.Element\r\n  value: Value\r\n  [key: string]: any\r\n}) => {\r\n  const {\r\n    decorate = defaultDecorate,\r\n    editor,\r\n    value,\r\n    onChange,\r\n    placeholder,\r\n    readOnly = false,\r\n    renderAnnotation,\r\n    renderDecoration,\r\n    renderElement,\r\n    renderMark,\r\n    style = {},\r\n    ...attributes\r\n  } = props\r\n\r\n  if (!Value.isValue(value)) {\r\n    throw new Error(\r\n      `The \\`value=\\` prop you passed to <Editor> was not a valid Slate value: ${JSON.stringify(\r\n        value\r\n      )}`\r\n    )\r\n  }\r\n\r\n  const ref = useRef<HTMLDivElement>(null)\r\n\r\n  // Update internal state on each render.\r\n  editor.onChange = onChange\r\n  editor.value = value\r\n  PLACEHOLDER.set(editor, placeholder)\r\n  IS_READ_ONLY.set(editor, readOnly)\r\n\r\n  // Keep track of some state for the event handler logic.\r\n  const state = useMemo(\r\n    () => ({\r\n      isComposing: false,\r\n      isUpdatingSelection: false,\r\n      latestElement: null as DOMElement | null,\r\n    }),\r\n    []\r\n  )\r\n\r\n  // Update element-related weak maps with the DOM element ref.\r\n  useLayoutEffect(() => {\r\n    if (ref.current) {\r\n      EDITOR_TO_ELEMENT.set(editor, ref.current)\r\n      NODE_TO_ELEMENT.set(value, ref.current)\r\n      ELEMENT_TO_NODE.set(ref.current, value)\r\n    } else {\r\n      NODE_TO_ELEMENT.delete(value)\r\n    }\r\n  })\r\n\r\n  // Attach a native DOM event handler for `selectionchange`, because React's\r\n  // built-in `onSelect` handler doesn't fire for all selection changes. It's a\r\n  // leaky polyfill that only fires on keypresses or clicks. Instead, we want to\r\n  // fire for any change to the selection inside the editor. (2019/11/04)\r\n  // https://github.com/facebook/react/issues/5785\r\n  useLayoutEffect(() => {\r\n    window.document.addEventListener('selectionchange', onDOMSelectionChange)\r\n\r\n    return () => {\r\n      window.document.removeEventListener(\r\n        'selectionchange',\r\n        onDOMSelectionChange\r\n      )\r\n    }\r\n  }, [])\r\n\r\n  // Attach a native DOM event handler for `beforeinput` events, because React's\r\n  // built-in `onBeforeInput` is actually a leaky polyfill that doesn't expose\r\n  // real `beforeinput` events sadly... (2019/11/04)\r\n  // https://github.com/facebook/react/issues/11211\r\n  useLayoutEffect(() => {\r\n    if (ref.current) {\r\n      // @ts-ignore The `beforeinput` event isn't recognized.\r\n      ref.current.addEventListener('beforeinput', onDOMBeforeInput)\r\n    }\r\n\r\n    return () => {\r\n      if (ref.current) {\r\n        // @ts-ignore The `beforeinput` event isn't recognized.\r\n        ref.current.removeEventListener('beforeinput', onDOMBeforeInput)\r\n      }\r\n    }\r\n  }, [])\r\n\r\n  // Whenever the editor updates, make sure the DOM selection state is in sync.\r\n  useLayoutEffect(() => {\r\n    const { selection } = value\r\n    const domSelection = window.getSelection()\r\n\r\n    if (state.isComposing || !domSelection || !editor.isFocused()) {\r\n      return\r\n    }\r\n\r\n    const el = editor.toDomNode(value)\r\n    const domRange = domSelection.getRangeAt(0)\r\n    const newDomRange = selection && editor.toDomRange(selection)\r\n\r\n    if (\r\n      (!selection && !domRange) ||\r\n      (domRange && newDomRange && isRangeEqual(domRange, newDomRange))\r\n    ) {\r\n      return\r\n    }\r\n\r\n    state.isUpdatingSelection = true\r\n    domSelection.removeAllRanges()\r\n\r\n    if (newDomRange) {\r\n      domSelection.addRange(newDomRange!)\r\n      const leafEl = newDomRange.startContainer.parentElement!\r\n      scrollIntoView(leafEl, { scrollMode: 'if-needed' })\r\n    }\r\n\r\n    setTimeout(() => {\r\n      // COMPAT: In Firefox, it's not enough to create a range, you also need\r\n      // to focus the contenteditable element too. (2016/11/16)\r\n      if (newDomRange && IS_FIREFOX) {\r\n        el.focus()\r\n      }\r\n\r\n      state.isUpdatingSelection = false\r\n    })\r\n  })\r\n\r\n  // Listen on the native `beforeinput` event to get real \"Level 2\" events. This\r\n  // is required because React's `beforeinput` is fake and never really attaches\r\n  // to the real event sadly. (2019/11/01)\r\n  // https://github.com/facebook/react/issues/11211\r\n  const onDOMBeforeInput = useCallback(\r\n    (\r\n      event: Event & {\r\n        data: string | null\r\n        dataTransfer: DataTransfer | null\r\n        getTargetRanges(): DOMStaticRange[]\r\n        inputType: string\r\n        isComposing: boolean\r\n      }\r\n    ) => {\r\n      if (!readOnly && hasEditableTarget(editor, event.target)) {\r\n        const { inputType } = event\r\n        const data = event.dataTransfer || event.data || undefined\r\n\r\n        // These two types occur while a user is composing text and can't be\r\n        // cancelled. Let them through and wait for the composition to end.\r\n        if (\r\n          inputType === 'insertCompositionText' ||\r\n          inputType === 'deleteCompositionText'\r\n        ) {\r\n          return\r\n        }\r\n\r\n        const [targetRange] = event.getTargetRanges()\r\n        let range\r\n\r\n        if (targetRange) {\r\n          range = editor.toSlateRange(targetRange)\r\n        }\r\n\r\n        event.preventDefault()\r\n        editor.handleInput(inputType, data, range)\r\n      }\r\n    },\r\n    []\r\n  )\r\n\r\n  // Listen on the native `selectionchange` event to be able to update any time\r\n  // the selection changes. This is required because React's `onSelect` is leaky\r\n  // and non-standard so it doesn't fire until after a selection has been\r\n  // released. This causes issues in situations where another change happens\r\n  // while a selection is being dragged.\r\n  const onDOMSelectionChange = useCallback(\r\n    debounce(() => {\r\n      if (!readOnly && !state.isComposing && !state.isUpdatingSelection) {\r\n        const { activeElement } = window.document\r\n        const el = editor.toDomNode(value)\r\n        const domSelection = window.getSelection()\r\n        const domRange =\r\n          domSelection &&\r\n          domSelection.rangeCount > 0 &&\r\n          domSelection.getRangeAt(0)\r\n\r\n        if (activeElement === el) {\r\n          state.latestElement = activeElement\r\n          IS_FOCUSED.set(editor, true)\r\n        } else {\r\n          IS_FOCUSED.delete(editor)\r\n        }\r\n\r\n        if (\r\n          domRange &&\r\n          hasEditableTarget(editor, domRange.startContainer) &&\r\n          hasEditableTarget(editor, domRange.endContainer)\r\n        ) {\r\n          const range = editor.toSlateRange(domRange)\r\n          editor.select(range)\r\n        } else {\r\n          editor.deselect()\r\n        }\r\n      }\r\n    }, 100),\r\n    []\r\n  )\r\n\r\n  return (\r\n    <EditorContext.Provider value={editor}>\r\n      <ReadOnlyContext.Provider value={readOnly}>\r\n        <FocusedContext.Provider value={editor.isFocused()}>\r\n          <div\r\n            // COMPAT: The Grammarly Chrome extension works by changing the DOM\r\n            // out from under `contenteditable` elements, which leads to weird\r\n            // behaviors so we have to disable it like editor. (2017/04/24)\r\n            data-gramm={false}\r\n            role={readOnly ? undefined : 'textbox'}\r\n            {...attributes}\r\n            // COMPAT: Firefox doesn't support the `beforeinput` event, so we'd\r\n            // have to use hacks to make these replacement-based features work.\r\n            spellCheck={IS_FIREFOX ? undefined : attributes.spellCheck}\r\n            autoCorrect={IS_FIREFOX ? undefined : attributes.autoCorrect}\r\n            autoCapitalize={IS_FIREFOX ? undefined : attributes.autoCapitalize}\r\n            data-slate-editor\r\n            data-slate-node=\"value\"\r\n            contentEditable={readOnly ? undefined : true}\r\n            suppressContentEditableWarning\r\n            ref={ref}\r\n            style={{\r\n              // Prevent the default outline styles.\r\n              outline: 'none',\r\n              // Preserve adjacent whitespace and new lines.\r\n              whiteSpace: 'pre-wrap',\r\n              // Allow words to break if they are too long.\r\n              wordWrap: 'break-word',\r\n              // Allow for passed-in styles to override anything.\r\n              ...style,\r\n            }}\r\n            onBeforeInput={useCallback((event: React.SyntheticEvent) => {\r\n              // COMPAT: Firefox doesn't support the `beforeinput` event, so we\r\n              // fall back to React's leaky polyfill instead just for it. It\r\n              // only works for the `insertText` input type.\r\n              if (IS_FIREFOX && !readOnly) {\r\n                event.preventDefault()\r\n                const text = (event as any).data as string\r\n                editor.handleInput('insertText', text)\r\n              }\r\n            }, [])}\r\n            onBlur={useCallback((event: React.FocusEvent) => {\r\n              if (\r\n                !readOnly &&\r\n                !state.isUpdatingSelection &&\r\n                hasEditableTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onBlur) &&\r\n                // COMPAT: If the current `activeElement` is still the previous\r\n                // one, this is due to the window being blurred when the tab\r\n                // itself becomes unfocused, so we want to abort early to allow to\r\n                // editor to stay focused when the tab becomes focused again.\r\n                state.latestElement !== window.document.activeElement\r\n              ) {\r\n                const { relatedTarget } = event\r\n\r\n                // COMPAT: The `relatedTarget` can be null when the new focus target\r\n                // is not a \"focusable\" element (eg. a `<div>` without `tabindex`\r\n                // set).\r\n                if (relatedTarget) {\r\n                  const el = editor.toDomNode(value)\r\n\r\n                  // COMPAT: The event should be ignored if the focus is returning\r\n                  // to the editor from an embedded editable element (eg. an <input>\r\n                  // element inside a void node).\r\n                  if (relatedTarget === el) return\r\n\r\n                  if (isDOMElement(relatedTarget)) {\r\n                    // COMPAT: The event should be ignored if the focus is moving from\r\n                    // the editor to inside a void node's spacer element.\r\n                    if (relatedTarget.hasAttribute('data-slate-spacer')) return\r\n\r\n                    // COMPAT: The event should be ignored if the focus is moving to a\r\n                    // non- editable section of an element that isn't a void node (eg.\r\n                    // a list item of the check list example).\r\n                    const node = editor.toSlateNode(relatedTarget)\r\n\r\n                    if (\r\n                      editor.hasDomNode(relatedTarget) &&\r\n                      (!Element.isElement(node) || !editor.isVoid(node))\r\n                    ) {\r\n                      return\r\n                    }\r\n                  }\r\n                }\r\n              }\r\n\r\n              IS_FOCUSED.delete(editor)\r\n            }, [])}\r\n            onClick={useCallback((event: React.MouseEvent) => {\r\n              if (\r\n                !readOnly &&\r\n                hasTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onClick) &&\r\n                isDOMNode(event.target)\r\n              ) {\r\n                const node = editor.toSlateNode(event.target)\r\n                const path = editor.findPath(node)\r\n                const start = editor.getStart(path)\r\n\r\n                if (editor.getMatch(start, 'void')) {\r\n                  editor.select(start)\r\n                }\r\n              }\r\n            }, [])}\r\n            onCompositionEnd={useCallback((event: React.CompositionEvent) => {\r\n              if (\r\n                hasEditableTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onCompositionEnd)\r\n              ) {\r\n                state.isComposing = false\r\n\r\n                // COMPAT: In Chrome, `beforeinput` events for compositions\r\n                // aren't correct and never fire the \"insertFromComposition\"\r\n                // type that we need. So instead, insert whenever a composition\r\n                // ends since it will already have been committed to the DOM.\r\n                if (!IS_SAFARI && event.data) {\r\n                  editor.insertText(event.data)\r\n                }\r\n              }\r\n            }, [])}\r\n            onCompositionStart={useCallback((event: React.CompositionEvent) => {\r\n              if (\r\n                hasEditableTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onCompositionStart)\r\n              ) {\r\n                state.isComposing = true\r\n              }\r\n            }, [])}\r\n            onCopy={useCallback((event: React.ClipboardEvent) => {\r\n              if (\r\n                hasEditableTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onCopy)\r\n              ) {\r\n                event.preventDefault()\r\n                Utils.setFragmentData(event.clipboardData, editor)\r\n              }\r\n            }, [])}\r\n            onCut={useCallback((event: React.ClipboardEvent) => {\r\n              if (\r\n                !readOnly &&\r\n                hasEditableTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onCut)\r\n              ) {\r\n                event.preventDefault()\r\n                Utils.setFragmentData(event.clipboardData, editor)\r\n                const { selection } = value\r\n\r\n                if (selection && SlateRange.isExpanded(selection)) {\r\n                  editor.delete()\r\n                }\r\n              }\r\n            }, [])}\r\n            onDragOver={useCallback((event: React.DragEvent) => {\r\n              if (\r\n                hasTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onDragOver)\r\n              ) {\r\n                // Only when the target is void, call `preventDefault` to signal\r\n                // that drops are allowed. Editable content is droppable by\r\n                // default, and calling `preventDefault` hides the cursor.\r\n                const node = editor.toSlateNode(event.target)\r\n\r\n                if (Element.isElement(node) && editor.isVoid(node)) {\r\n                  event.preventDefault()\r\n                }\r\n              }\r\n            }, [])}\r\n            onDragStart={useCallback((event: React.DragEvent) => {\r\n              if (\r\n                hasTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onDragStart)\r\n              ) {\r\n                const node = editor.toSlateNode(event.target)\r\n                const path = editor.findPath(node)\r\n                const voidMatch = editor.getMatch(path, 'void')\r\n\r\n                // If starting a drag on a void node, make sure it is selected\r\n                // so that it shows up in the selection's fragment.\r\n                if (voidMatch) {\r\n                  const range = editor.getRange(path)\r\n                  editor.select(range)\r\n                }\r\n\r\n                Utils.setFragmentData(event.dataTransfer, editor)\r\n              }\r\n            }, [])}\r\n            onFocus={useCallback((event: React.FocusEvent) => {\r\n              if (\r\n                !readOnly &&\r\n                !state.isUpdatingSelection &&\r\n                hasEditableTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onFocus)\r\n              ) {\r\n                const el = editor.toDomNode(value)\r\n                state.latestElement = window.document.activeElement\r\n\r\n                // COMPAT: If the editor has nested editable elements, the focus\r\n                // can go to them. In Firefox, this must be prevented because it\r\n                // results in issues with keyboard navigation. (2017/03/30)\r\n                if (IS_FIREFOX && event.target !== el) {\r\n                  el.focus()\r\n                  return\r\n                }\r\n\r\n                IS_FOCUSED.set(editor, true)\r\n              }\r\n            }, [])}\r\n            onKeyDown={event => {\r\n              if (\r\n                !readOnly &&\r\n                hasEditableTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onKeyDown)\r\n              ) {\r\n                const { nativeEvent } = event\r\n\r\n                // COMPAT: Since we prevent the default behavior on `beforeinput` events,\r\n                // the browser doesn't think there's ever any history stack to undo or redo,\r\n                // so we have to manage these hotkeys ourselves. (2019/11/06)\r\n                if (Hotkeys.isRedo(nativeEvent)) {\r\n                  editor.redo()\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isUndo(nativeEvent)) {\r\n                  editor.undo()\r\n                  return\r\n                }\r\n\r\n                // COMPAT: Certain browsers don't handle the selection updates\r\n                // properly. In Chrome, the selection isn't properly extended.\r\n                // And in Firefox, the selection isn't properly collapsed.\r\n                // (2017/10/17)\r\n                if (Hotkeys.isMoveLineBackward(nativeEvent)) {\r\n                  event.preventDefault()\r\n                  editor.move({ unit: 'line', reverse: true })\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isMoveLineForward(nativeEvent)) {\r\n                  event.preventDefault()\r\n                  editor.move({ unit: 'line' })\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isExtendLineBackward(nativeEvent)) {\r\n                  event.preventDefault()\r\n                  editor.move({ unit: 'line', edge: 'focus', reverse: true })\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isExtendLineForward(nativeEvent)) {\r\n                  event.preventDefault()\r\n                  editor.move({ unit: 'line', edge: 'focus' })\r\n                  return\r\n                }\r\n\r\n                // COMPAT: If a void node is selected, or a zero-width text node\r\n                // adjacent to an inline is selected, we need to handle these\r\n                // hotkeys manually because browsers won't be able to skip over\r\n                // the void node with the zero-width space not being an empty\r\n                // string.\r\n                if (Hotkeys.isMoveBackward(nativeEvent)) {\r\n                  const { selection } = editor.value\r\n                  event.preventDefault()\r\n\r\n                  if (selection && SlateRange.isCollapsed(selection)) {\r\n                    editor.move({ reverse: true })\r\n                  } else {\r\n                    editor.collapse({ edge: 'start' })\r\n                  }\r\n\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isMoveForward(nativeEvent)) {\r\n                  const { selection } = editor.value\r\n                  event.preventDefault()\r\n\r\n                  if (selection && SlateRange.isCollapsed(selection)) {\r\n                    editor.move()\r\n                  } else {\r\n                    editor.collapse({ edge: 'end' })\r\n                  }\r\n\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isMoveWordBackward(nativeEvent)) {\r\n                  event.preventDefault()\r\n                  editor.move({ unit: 'word', reverse: true })\r\n                  return\r\n                }\r\n\r\n                if (Hotkeys.isMoveWordForward(nativeEvent)) {\r\n                  event.preventDefault()\r\n                  editor.move({ unit: 'word' })\r\n                  return\r\n                }\r\n              }\r\n            }}\r\n            onPaste={useCallback((event: React.ClipboardEvent) => {\r\n              // COMPAT: Firefox doesn't support the `beforeinput` event, so we\r\n              // fall back to React's `onPaste` here instead.\r\n              if (\r\n                IS_FIREFOX &&\r\n                !readOnly &&\r\n                hasEditableTarget(editor, event.target) &&\r\n                !isEventHandled(event, attributes.onPaste)\r\n              ) {\r\n                event.preventDefault()\r\n                editor.handleInput('insertFromPaste', event.clipboardData)\r\n              }\r\n            }, [])}\r\n          >\r\n            <Children\r\n              annotations={value.annotations}\r\n              decorate={decorate}\r\n              decorations={decorate([value, []])}\r\n              node={value}\r\n              renderAnnotation={renderAnnotation}\r\n              renderDecoration={renderDecoration}\r\n              renderElement={renderElement}\r\n              renderMark={renderMark}\r\n              selection={value.selection}\r\n            />\r\n          </div>\r\n        </FocusedContext.Provider>\r\n      </ReadOnlyContext.Provider>\r\n    </EditorContext.Provider>\r\n  )\r\n}\r\n\r\n/**\r\n * A default memoized decorate function.\r\n */\r\n\r\nconst defaultDecorate = () => []\r\n\r\n/**\r\n * Check if two DOM range objects are equal.\r\n */\r\n\r\nconst isRangeEqual = (a: DOMRange, b: DOMRange) => {\r\n  return (\r\n    (a.startContainer === b.startContainer &&\r\n      a.startOffset === b.startOffset &&\r\n      a.endContainer === b.endContainer &&\r\n      a.endOffset === b.endOffset) ||\r\n    (a.startContainer === b.endContainer &&\r\n      a.startOffset === b.endOffset &&\r\n      a.endContainer === b.startContainer &&\r\n      a.endOffset === b.startOffset)\r\n  )\r\n}\r\n\r\n/**\r\n * Check if the target is in the editor.\r\n */\r\n\r\nconst hasTarget = (\r\n  editor: ReactEditor,\r\n  target: EventTarget | null\r\n): target is DOMNode => {\r\n  return isDOMNode(target) && editor.hasDomNode(target)\r\n}\r\n\r\n/**\r\n * Check if the target is editable and in the editor.\r\n */\r\n\r\nconst hasEditableTarget = (\r\n  editor: ReactEditor,\r\n  target: EventTarget | null\r\n): target is DOMNode => {\r\n  return isDOMNode(target) && editor.hasDomNode(target, { editable: true })\r\n}\r\n\r\n/**\r\n * Check if an event is overrided by a handler.\r\n */\r\n\r\nconst isEventHandled = (\r\n  event: React.SyntheticEvent,\r\n  handler?: (event: React.SyntheticEvent) => void\r\n) => {\r\n  if (!handler) {\r\n    return false\r\n  }\r\n\r\n  handler(event)\r\n  return event.isDefaultPrevented() || event.isPropagationStopped()\r\n}\r\n\r\nexport default Editor\r\n","import { useMemo } from 'react'\r\n\r\nimport { ReactEditor } from '../plugin'\r\n\r\n/**\r\n * A thin wrapper around `useMemo` to make it easy to get an editor instance.\r\n */\r\n\r\nexport const useSlate = <E extends ReactEditor>(\r\n  Editor: new (...args: any[]) => E\r\n): E => {\r\n  const editor = useMemo(() => new Editor(), [Editor])\r\n  return editor\r\n}\r\n","function _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nmodule.exports = _classCallCheck;","function _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nmodule.exports = _createClass;","function _typeof2(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof2 = function _typeof2(obj) { return typeof obj; }; } else { _typeof2 = function _typeof2(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof2(obj); }\n\nfunction _typeof(obj) {\n  if (typeof Symbol === \"function\" && _typeof2(Symbol.iterator) === \"symbol\") {\n    module.exports = _typeof = function _typeof(obj) {\n      return _typeof2(obj);\n    };\n  } else {\n    module.exports = _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : _typeof2(obj);\n    };\n  }\n\n  return _typeof(obj);\n}\n\nmodule.exports = _typeof;","function _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nmodule.exports = _assertThisInitialized;","var _typeof = require(\"../helpers/typeof\");\n\nvar assertThisInitialized = require(\"./assertThisInitialized\");\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return assertThisInitialized(self);\n}\n\nmodule.exports = _possibleConstructorReturn;","function _getPrototypeOf(o) {\n  module.exports = _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nmodule.exports = _getPrototypeOf;","var getPrototypeOf = require(\"./getPrototypeOf\");\n\nfunction _superPropBase(object, property) {\n  while (!Object.prototype.hasOwnProperty.call(object, property)) {\n    object = getPrototypeOf(object);\n    if (object === null) break;\n  }\n\n  return object;\n}\n\nmodule.exports = _superPropBase;","var superPropBase = require(\"./superPropBase\");\n\nfunction _get(target, property, receiver) {\n  if (typeof Reflect !== \"undefined\" && Reflect.get) {\n    module.exports = _get = Reflect.get;\n  } else {\n    module.exports = _get = function _get(target, property, receiver) {\n      var base = superPropBase(target, property);\n      if (!base) return;\n      var desc = Object.getOwnPropertyDescriptor(base, property);\n\n      if (desc.get) {\n        return desc.get.call(receiver);\n      }\n\n      return desc.value;\n    };\n  }\n\n  return _get(target, property, receiver || target);\n}\n\nmodule.exports = _get;","function _setPrototypeOf(o, p) {\n  module.exports = _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nmodule.exports = _setPrototypeOf;","var setPrototypeOf = require(\"./setPrototypeOf\");\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}\n\nmodule.exports = _inherits;","/**\r\n * An auto-incrementing identifier for keys.\r\n */\r\n\r\nlet n = 0\r\n\r\n/**\r\n * A class that keeps track of a key string. We use a full class here because we\r\n * want to be able to use them as keys in `WeakMap` objects.\r\n */\r\n\r\nexport class Key {\r\n  id: string\r\n\r\n  constructor() {\r\n    this.id = `${n++}`\r\n  }\r\n}\r\n","import {\r\n    Editor, Element as SlateElement, Node as SlateNode, Operation as SlateOperation,\r\n    Path as SlatePath, Point as SlatePoint, Range as SlateRange, Value as SlateValue,\r\n} from 'slate';\r\n\r\nimport {\r\n    DOMElement, DOMNode, DOMPoint, DOMRange, DOMSelection, DOMStaticRange, isDOMElement,\r\n    normalizeDOMPoint,\r\n} from './utils/dom';\r\nimport { Key } from './utils/key';\r\nimport { Utils } from './utils/utils';\r\nimport {\r\n    EDITOR_TO_ELEMENT, ELEMENT_TO_NODE, IS_FOCUSED, IS_READ_ONLY, KEY_TO_ELEMENT, NODE_TO_INDEX,\r\n    NODE_TO_KEY, NODE_TO_PARENT, PLACEHOLDER, PLACEHOLDER_SYMBOL,\r\n} from './utils/weak-maps';\r\n\r\n/**\r\n * `ReactEditor` is a Slate editor interface with the React mixin applied.\r\n */\r\n\r\nexport type ReactEditor = InstanceType<ReturnType<typeof withReact>>\r\n\r\n/**\r\n * `withReact` adds React and DOM specific behaviors to the editor.\r\n */\r\n\r\nexport const withReact = (Editor: new (...args: any[]) => Editor) => {\r\n  return class ReactEditor extends Editor {\r\n    apply(op: SlateOperation): void {\r\n      const matches: [SlatePath, Key][] = []\r\n\r\n      switch (op.type) {\r\n        case 'add_mark':\r\n        case 'insert_text':\r\n        case 'remove_mark':\r\n        case 'remove_text':\r\n        case 'set_mark':\r\n        case 'set_node': {\r\n          for (const [node, path] of this.levels({ at: op.path })) {\r\n            const key = this.findKey(node)\r\n            matches.push([path, key])\r\n          }\r\n\r\n          break\r\n        }\r\n\r\n        case 'insert_node':\r\n        case 'remove_node':\r\n        case 'merge_node':\r\n        case 'split_node': {\r\n          for (const [node, path] of this.levels({\r\n            at: SlatePath.parent(op.path),\r\n          })) {\r\n            const key = this.findKey(node)\r\n            matches.push([path, key])\r\n          }\r\n\r\n          break\r\n        }\r\n\r\n        case 'move_node': {\r\n          // TODO\r\n          break\r\n        }\r\n      }\r\n\r\n      super.apply(op)\r\n\r\n      for (const [path, key] of matches) {\r\n        const [node] = this.getNode(path)\r\n        NODE_TO_KEY.set(node, key)\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Find a key for a Slate node.\r\n     */\r\n\r\n    findKey(node: SlateNode): Key {\r\n      let key = NODE_TO_KEY.get(node)\r\n\r\n      if (!key) {\r\n        key = new Key()\r\n        NODE_TO_KEY.set(node, key)\r\n      }\r\n\r\n      return key\r\n    }\r\n\r\n    /**\r\n     * Find the path of Slate node.\r\n     */\r\n\r\n    findPath(node: SlateNode): SlatePath {\r\n      const path: SlatePath = []\r\n      let child = node\r\n\r\n      while (true) {\r\n        const parent = NODE_TO_PARENT.get(child)\r\n\r\n        if (parent == null) {\r\n          if (SlateValue.isValue(child)) {\r\n            return path\r\n          } else {\r\n            break\r\n          }\r\n        }\r\n\r\n        const i = NODE_TO_INDEX.get(child)\r\n\r\n        if (i == null) {\r\n          break\r\n        }\r\n\r\n        path.unshift(i)\r\n        child = parent\r\n      }\r\n\r\n      throw new Error(\r\n        `Unable to find the path for Slate node: ${JSON.stringify(node)}`\r\n      )\r\n    }\r\n\r\n    /**\r\n     * Resolve the decorations for a node.\r\n     */\r\n\r\n    getDecorations(node: SlateNode): SlateRange[] {\r\n      const placeholder = PLACEHOLDER.get(this)\r\n      const decorations = []\r\n\r\n      if (\r\n        placeholder &&\r\n        SlateValue.isValue(node) &&\r\n        node.children.length === 1 &&\r\n        Array.from(SlateNode.texts(node)).length === 1 &&\r\n        SlateNode.text(node) === ''\r\n      ) {\r\n        const start = this.getStart([])\r\n\r\n        decorations.push({\r\n          [PLACEHOLDER_SYMBOL]: true,\r\n          placeholder,\r\n          anchor: start,\r\n          focus: start,\r\n        })\r\n      }\r\n\r\n      return decorations\r\n    }\r\n\r\n    /**\r\n     * Transform an `InputEvent` into commands on the editor.\r\n     */\r\n\r\n    handleInput(\r\n      type: string,\r\n      data?: DataTransfer | string,\r\n      range?: SlateRange\r\n    ): void {\r\n      // Each of these input types reflects specific user intent, and most of them\r\n      // are cancellable so we can perform the action on the Slate model direclty.\r\n      // https://w3c.github.io/input-events/#dom-inputevent-inputtype\r\n      switch (type) {\r\n        case 'deleteByComposition':\r\n        case 'deleteByCut':\r\n        case 'deleteByDrag':\r\n        case 'deleteContent':\r\n        case 'deleteContentForward': {\r\n          this.delete()\r\n          break\r\n        }\r\n\r\n        case 'deleteContentBackward': {\r\n          this.delete({ reverse: true })\r\n          break\r\n        }\r\n\r\n        case 'deleteEntireSoftLine': {\r\n          this.delete({ unit: 'line', reverse: true })\r\n          this.delete({ unit: 'line' })\r\n          break\r\n        }\r\n\r\n        case 'deleteSoftLineBackward':\r\n        case 'deleteHardLineBackward': {\r\n          this.delete({ unit: 'line', reverse: true })\r\n          break\r\n        }\r\n\r\n        case 'deleteSoftLineForward':\r\n        case 'deleteHardLineForward': {\r\n          this.delete({ unit: 'line' })\r\n          break\r\n        }\r\n\r\n        case 'deleteWordBackward': {\r\n          this.delete({ unit: 'word', reverse: true })\r\n          break\r\n        }\r\n\r\n        case 'deleteWordForward': {\r\n          this.delete({ unit: 'word' })\r\n          break\r\n        }\r\n\r\n        case 'insertLineBreak':\r\n        case 'insertParagraph': {\r\n          if (range) {\r\n            this.select(range)\r\n          }\r\n\r\n          this.splitNodes({ always: true })\r\n          break\r\n        }\r\n\r\n        case 'insertFromComposition':\r\n        case 'insertFromDrop':\r\n        case 'insertFromPaste':\r\n        case 'insertFromYank':\r\n        case 'insertReplacementText':\r\n        case 'insertText': {\r\n          if (range) {\r\n            this.select(range)\r\n          }\r\n\r\n          if (data instanceof DataTransfer) {\r\n            this.insertData(data)\r\n          } else if (typeof data === 'string') {\r\n            this.insertText(data)\r\n          }\r\n\r\n          break\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Check if the editor is focused.\r\n     */\r\n\r\n    isFocused(): boolean {\r\n      return !!IS_FOCUSED.get(this)\r\n    }\r\n\r\n    /**\r\n     * Check if the editor is in read-only mode.\r\n     */\r\n\r\n    isReadOnly(): boolean {\r\n      return !!IS_READ_ONLY.get(this)\r\n    }\r\n\r\n    /**\r\n     * Blur the editor.\r\n     */\r\n\r\n    blur(): void {\r\n      const el = this.toDomNode(this.value)\r\n      IS_FOCUSED.set(this, false)\r\n\r\n      if (window.document.activeElement === el) {\r\n        el.blur()\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Focus the editor.\r\n     */\r\n\r\n    focus(): void {\r\n      const el = this.toDomNode(this.value)\r\n      IS_FOCUSED.set(this, true)\r\n\r\n      if (window.document.activeElement !== el) {\r\n        el.focus({ preventScroll: true })\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Deselect the editor.\r\n     */\r\n\r\n    deselect(): void {\r\n      const { selection } = this.value\r\n      const domSelection = window.getSelection()\r\n\r\n      if (domSelection && domSelection.rangeCount > 0) {\r\n        domSelection.removeAllRanges()\r\n      }\r\n\r\n      if (selection) {\r\n        this.apply({\r\n          type: 'set_selection',\r\n          properties: selection,\r\n          newProperties: null,\r\n        })\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Insert a `DataTransfer` object.\r\n     */\r\n\r\n    insertData(dataTransfer: DataTransfer): void {\r\n      const fragment = Utils.getFragmentData(dataTransfer)\r\n\r\n      if (fragment) {\r\n        this.insertFragment(fragment)\r\n        return\r\n      }\r\n\r\n      const text = dataTransfer.getData('text/plain')\r\n\r\n      if (text) {\r\n        const lines = text.split('\\n')\r\n        let split = false\r\n\r\n        for (const line of lines) {\r\n          if (split) {\r\n            this.splitNodes()\r\n          }\r\n\r\n          this.insertText(line)\r\n          split = true\r\n        }\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Redo.\r\n     */\r\n\r\n    redo(): void {}\r\n\r\n    /**\r\n     * Undo.\r\n     */\r\n\r\n    undo(): void {}\r\n\r\n    /**\r\n     * Check if a DOM node is within the editor.\r\n     */\r\n\r\n    hasDomNode(target: DOMNode, options: { editable?: boolean } = {}): boolean {\r\n      const { editable = false } = options\r\n      const el = this.toDomNode(this.value)\r\n      let element\r\n\r\n      // COMPAT: In Firefox, reading `target.nodeType` will throw an error if\r\n      // target is originating from an internal \"restricted\" element (e.g. a\r\n      // stepper arrow on a number input). (2018/05/04)\r\n      // https://github.com/ianstormtaylor/slate/issues/1819\r\n      try {\r\n        element = isDOMElement(target) ? target : target.parentElement\r\n      } catch (err) {\r\n        if (\r\n          !err.message.includes(\r\n            'Permission denied to access property \"nodeType\"'\r\n          )\r\n        ) {\r\n          throw err\r\n        }\r\n      }\r\n\r\n      if (!element) {\r\n        return false\r\n      }\r\n\r\n      return (\r\n        element.closest(`[data-slate-editor]`) === el &&\r\n        (!editable || el.isContentEditable)\r\n      )\r\n    }\r\n\r\n    /**\r\n     * Find the native DOM element from a Slate node.\r\n     */\r\n\r\n    toDomNode(node: SlateNode): HTMLElement {\r\n      const domNode = SlateValue.isValue(node)\r\n        ? EDITOR_TO_ELEMENT.get(this)\r\n        : KEY_TO_ELEMENT.get(this.findKey(node))\r\n\r\n      if (!domNode) {\r\n        throw new Error(\r\n          `Cannot resolve a DOM node from Slate node: ${JSON.stringify(node)}`\r\n        )\r\n      }\r\n\r\n      return domNode\r\n    }\r\n\r\n    /**\r\n     * Find a native DOM selection point from a Slate point.\r\n     */\r\n\r\n    toDomPoint(point: SlatePoint): DOMPoint {\r\n      const [node] = this.getNode(point.path)\r\n      const el = this.toDomNode(node)\r\n      let domPoint: DOMPoint | undefined\r\n\r\n      // For each leaf, we need to isolate its content, which means filtering\r\n      // to its direct text and zero-width spans. (We have to filter out any\r\n      // other siblings that may have been rendered alongside them.)\r\n      const selector = `[data-slate-string], [data-slate-zero-width]`\r\n      const texts = Array.from(el.querySelectorAll(selector))\r\n      let start = 0\r\n\r\n      for (const text of texts) {\r\n        const domNode = text.childNodes[0] as HTMLElement\r\n\r\n        if (domNode == null || domNode.textContent == null) {\r\n          continue\r\n        }\r\n\r\n        const { length } = domNode.textContent\r\n        const attr = text.getAttribute('data-slate-length')\r\n        const trueLength = attr == null ? length : parseInt(attr, 10)\r\n        const end = start + trueLength\r\n\r\n        if (point.offset <= end) {\r\n          const offset = Math.min(length, Math.max(0, point.offset - start))\r\n          domPoint = [domNode, offset]\r\n          break\r\n        }\r\n\r\n        start = end\r\n      }\r\n\r\n      if (!domPoint) {\r\n        throw new Error(\r\n          `Cannot resolve a DOM point from Slate point: ${JSON.stringify(\r\n            point\r\n          )}`\r\n        )\r\n      }\r\n\r\n      return domPoint\r\n    }\r\n\r\n    /**\r\n     * Find a native DOM range from a Slate `range`.\r\n     */\r\n\r\n    toDomRange(range: SlateRange): DOMRange {\r\n      const { anchor, focus } = range\r\n      const domAnchor = this.toDomPoint(anchor)\r\n      const domFocus = SlateRange.isCollapsed(range)\r\n        ? domAnchor\r\n        : this.toDomPoint(focus)\r\n\r\n      const domRange = window.document.createRange()\r\n      const start = SlateRange.isBackward(range) ? domFocus : domAnchor\r\n      const end = SlateRange.isBackward(range) ? domAnchor : domFocus\r\n      domRange.setStart(start[0], start[1])\r\n      domRange.setEnd(end[0], end[1])\r\n      return domRange\r\n    }\r\n\r\n    /**\r\n     * Find a Slate node from a native DOM `element`.\r\n     */\r\n\r\n    toSlateNode(domNode: DOMNode): SlateNode {\r\n      let domEl = isDOMElement(domNode) ? domNode : domNode.parentElement\r\n\r\n      if (domEl && !domEl.hasAttribute('data-slate-node')) {\r\n        domEl = domEl.closest(`[data-slate-node]`)\r\n      }\r\n\r\n      const node = domEl ? ELEMENT_TO_NODE.get(domEl as HTMLElement) : null\r\n\r\n      if (!node) {\r\n        throw new Error(`Cannot resolve a Slate node from DOM node: ${domEl}`)\r\n      }\r\n\r\n      return node\r\n    }\r\n\r\n    /**\r\n     * Get the target range from a DOM `event`.\r\n     */\r\n\r\n    findEventRange(event: any): SlateRange | undefined {\r\n      if ('nativeEvent' in event) {\r\n        event = event.nativeEvent\r\n      }\r\n\r\n      const { clientX: x, clientY: y, target } = event\r\n\r\n      if (x == null || y == null) {\r\n        return\r\n      }\r\n\r\n      const node = this.toSlateNode(event.target)\r\n      const path = this.findPath(node)\r\n\r\n      // If the drop target is inside a void node, move it into either the\r\n      // next or previous node, depending on which side the `x` and `y`\r\n      // coordinates are closest to.\r\n      if (SlateElement.isElement(node) && this.isVoid(node)) {\r\n        const rect = target.getBoundingClientRect()\r\n        const isPrev = this.isInline(node)\r\n          ? x - rect.left < rect.left + rect.width - x\r\n          : y - rect.top < rect.top + rect.height - y\r\n\r\n        const edge = this.getPoint(path, { edge: isPrev ? 'start' : 'end' })\r\n        const point = isPrev ? this.getBefore(edge) : this.getAfter(edge)\r\n\r\n        if (point) {\r\n          const range = this.getRange(point)\r\n          return range\r\n        }\r\n      }\r\n\r\n      // Else resolve a range from the caret position where the drop occured.\r\n      let domRange\r\n      const { document } = window\r\n\r\n      // COMPAT: In Firefox, `caretRangeFromPoint` doesn't exist. (2016/07/25)\r\n      if (document.caretRangeFromPoint) {\r\n        domRange = document.caretRangeFromPoint(x, y)\r\n      } else {\r\n        const position = document.caretPositionFromPoint(x, y)\r\n\r\n        if (position) {\r\n          domRange = document.createRange()\r\n          domRange.setStart(position.offsetNode, position.offset)\r\n          domRange.setEnd(position.offsetNode, position.offset)\r\n        }\r\n      }\r\n\r\n      if (!domRange) {\r\n        throw new Error(\r\n          `Cannot resolve a Slate range from a DOM event: ${event}`\r\n        )\r\n      }\r\n\r\n      // Resolve a Slate range from the DOM range.\r\n      const range = this.toSlateRange(domRange)\r\n      return range\r\n    }\r\n\r\n    /**\r\n     * Find a Slate point from a DOM selection's `domNode` and `domOffset`.\r\n     */\r\n\r\n    toSlatePoint(domPoint: DOMPoint): SlatePoint {\r\n      const [nearestNode, nearestOffset] = normalizeDOMPoint(domPoint)\r\n      const parentNode = nearestNode.parentNode as DOMElement\r\n      let textNode: DOMElement | null = null\r\n      let offset = 0\r\n\r\n      if (parentNode) {\r\n        const voidNode = parentNode.closest('[data-slate-void=\"true\"]')\r\n        let leafNode = parentNode.closest('[data-slate-leaf]')\r\n        let domNode: DOMElement | null = null\r\n\r\n        // Calculate how far into the text node the `nearestNode` is, so that we\r\n        // can determine what the offset relative to the text node is.\r\n        if (leafNode) {\r\n          textNode = leafNode.closest('[data-slate-node=\"text\"]')!\r\n          const range = window.document.createRange()\r\n          range.setStart(textNode, 0)\r\n          range.setEnd(nearestNode, nearestOffset)\r\n          const contents = range.cloneContents()\r\n          const zeroWidths = contents.querySelectorAll(\r\n            '[data-slate-zero-width]'\r\n          )\r\n\r\n          Array.from(zeroWidths).forEach(el => {\r\n            el!.parentNode!.removeChild(el)\r\n          })\r\n\r\n          // COMPAT: Edge has a bug where SlateRange.prototype.toString() will\r\n          // convert \\n into \\r\\n. The bug causes a loop when slate-react\r\n          // attempts to reposition its cursor to match the native position. Use\r\n          // textContent.length instead.\r\n          // https://developer.microsoft.com/en-us/microsoft-edge/platform/issues/10291116/\r\n          offset = contents.textContent!.length\r\n          domNode = textNode\r\n        } else if (voidNode) {\r\n          // For void nodes, the element with the offset key will be a cousin, not an\r\n          // ancestor, so find it by going down from the nearest void parent.\r\n\r\n          leafNode = voidNode.querySelector('[data-slate-leaf]')!\r\n          textNode = leafNode.closest('[data-slate-node=\"text\"]')!\r\n          domNode = leafNode\r\n          offset = domNode.textContent!.length\r\n        }\r\n\r\n        // COMPAT: If the parent node is a Slate zero-width space, this is\r\n        // because the text node should have no characters. However, during IME\r\n        // composition the ASCII characters will be prepended to the zero-width\r\n        // space, so subtract 1 from the offset to account for the zero-width\r\n        // space character.\r\n        if (\r\n          domNode &&\r\n          offset === domNode.textContent!.length &&\r\n          parentNode.hasAttribute('data-slate-zero-width')\r\n        ) {\r\n          offset--\r\n        }\r\n      }\r\n\r\n      if (!textNode) {\r\n        throw new Error(\r\n          `Cannot resolve a Slate point from DOM point: ${domPoint}`\r\n        )\r\n      }\r\n\r\n      // COMPAT: If someone is clicking from one Slate editor into another,\r\n      // the select event fires twice, once for the old editor's `element`\r\n      // first, and then afterwards for the correct `element`. (2017/03/03)\r\n      const slateNode = this.toSlateNode(textNode!)\r\n      const path = this.findPath(slateNode)\r\n      return { path, offset }\r\n    }\r\n\r\n    /**\r\n     * Find a Slate range from a DOM range or selection.\r\n     */\r\n\r\n    toSlateRange(\r\n      domRange: DOMRange | DOMStaticRange | DOMSelection\r\n    ): SlateRange {\r\n      const el =\r\n        domRange instanceof Selection\r\n          ? domRange.anchorNode\r\n          : domRange.startContainer\r\n      let anchorNode\r\n      let anchorOffset\r\n      let focusNode\r\n      let focusOffset\r\n      let isCollapsed\r\n\r\n      if (el) {\r\n        if (domRange instanceof Selection) {\r\n          anchorNode = domRange.anchorNode\r\n          anchorOffset = domRange.anchorOffset\r\n          focusNode = domRange.focusNode\r\n          focusOffset = domRange.focusOffset\r\n          isCollapsed = domRange.isCollapsed\r\n        } else {\r\n          anchorNode = domRange.startContainer\r\n          anchorOffset = domRange.startOffset\r\n          focusNode = domRange.endContainer\r\n          focusOffset = domRange.endOffset\r\n          isCollapsed = domRange.collapsed\r\n        }\r\n      }\r\n\r\n      if (\r\n        anchorNode == null ||\r\n        focusNode == null ||\r\n        anchorOffset == null ||\r\n        focusOffset == null\r\n      ) {\r\n        throw new Error(\r\n          `Cannot resolve a Slate range from DOM range: ${domRange}`\r\n        )\r\n      }\r\n\r\n      const anchor = this.toSlatePoint([anchorNode, anchorOffset])\r\n      const focus = isCollapsed\r\n        ? anchor\r\n        : this.toSlatePoint([focusNode, focusOffset])\r\n\r\n      return { anchor, focus }\r\n    }\r\n  }\r\n}\r\n"],"names":["global","this","isPlainObject","Node","createCommonjsModule","ownKeys","ownKeys$1","reverse","EditorContext","createContext","undefined","useEditor","editor","useContext","Error","FocusedContext","useFocused","ReadOnlyContext","useReadOnly","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_slicedToArray","arrayWithHoles","iterableToArrayLimit","nonIterableRest","isDOMComment","value","isDOMNode","nodeType","isDOMElement","isDOMText","normalizeDOMPoint","domPoint","node","offset","childNodes","length","isLast","direction","index","getEditableChild","i","textContent","parent","child","triedForward","triedBackward","getAttribute","IS_IOS","navigator","window","test","userAgent","MSStream","IS_APPLE","IS_FIREFOX","IS_SAFARI","HOTKEYS","bold","compose","moveBackward","moveForward","moveWordBackward","moveWordForward","deleteBackward","deleteForward","extendBackward","extendForward","italic","splitBlock","undo","APPLE_HOTKEYS","moveLineBackward","moveLineForward","deleteLineBackward","deleteLineForward","deleteWordBackward","deleteWordForward","extendLineBackward","extendLineForward","redo","transposeCharacter","WINDOWS_HOTKEYS","create","key","generic","apple","windows","isGeneric","isKeyHotkey","isApple","isWindows","event","isBold","isCompose","isMoveBackward","isMoveForward","isDeleteBackward","isDeleteForward","isDeleteLineBackward","isDeleteLineForward","isDeleteWordBackward","isDeleteWordForward","isExtendBackward","isExtendForward","isExtendLineBackward","isExtendLineForward","isItalic","isMoveLineBackward","isMoveLineForward","isMoveWordBackward","isMoveWordForward","isRedo","isSplitBlock","isTransposeCharacter","isUndo","Utils","dataTransfer","base64","getData","decoded","decodeURIComponent","atob","fragment","JSON","parse","selection","SlateRange","edges","start","end","startVoid","getMatch","path","endVoid","isCollapsed","domRange","toDomRange","contents","cloneContents","attach","forEach","trim","voidNode","r","cloneRange","domNode","toDomNode","setEndAfter","querySelector","Array","from","querySelectorAll","zw","isNewline","span","document","createElement","style","whiteSpace","appendChild","SlateNode","string","stringify","encoded","btoa","encodeURIComponent","setAttribute","setData","div","innerHTML","getPlainText","text","nodeValue","childNode","display","getComputedStyle","getPropertyValue","tagName","NODE_TO_INDEX","WeakMap","NODE_TO_PARENT","EDITOR_TO_ELEMENT","NODE_TO_ELEMENT","ELEMENT_TO_NODE","NODE_TO_KEY","KEY_TO_ELEMENT","IS_READ_ONLY","IS_FOCUSED","PLACEHOLDER","PLACEHOLDER_SYMBOL","Symbol","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","_defineProperty","Leaf","leaf","another","annotations","decorations","marks","every","m","Mark","exists","isRangeListEqual","isRangeMapEqual","isMarkSet","Range","isRangeList","isRangeMap","slice","list","range","other","equals","map","Object","keys","SlateLeaf","Text","SelectedContext","useSelected","Element","ElementComponent","TextComponent","Editor","useSlate","useMemo","_classCallCheck","_defineProperties","_createClass","_typeof","n","Key","id","withReact","op","matches","type","levels","at","findKey","push","SlatePath","getNode","set","get","SlateValue","isValue","unshift","placeholder","children","texts","getStart","data","unit","select","splitNodes","always","DataTransfer","insertData","insertText","el","activeElement","blur","focus","preventScroll","domSelection","getSelection","rangeCount","removeAllRanges","apply","properties","newProperties","getFragmentData","insertFragment","lines","split","line","target","options","editable","element","parentElement","err","message","includes","closest","isContentEditable","point","selector","attr","trueLength","parseInt","Math","min","max","anchor","domAnchor","toDomPoint","domFocus","createRange","isBackward","setStart","setEnd","domEl","hasAttribute","nativeEvent","x","clientX","y","clientY","toSlateNode","findPath","SlateElement","isElement","isVoid","rect","getBoundingClientRect","isPrev","isInline","left","width","top","height","edge","getPoint","getBefore","getAfter","getRange","caretRangeFromPoint","position","caretPositionFromPoint","offsetNode","toSlateRange","nearestNode","nearestOffset","parentNode","textNode","leafNode","zeroWidths","removeChild","slateNode","Selection","anchorNode","startContainer","anchorOffset","focusNode","focusOffset","startOffset","endContainer","endOffset","collapsed","toSlatePoint"],"mappings":"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"}